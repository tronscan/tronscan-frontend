(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1519:function(t,e,i){var n=i(1404),s=i(1411),o=i(1423),r=i(1449).getLayoutRect;s.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),s.extendComponentView({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var s=this.group,a=t.getModel("textStyle"),h=t.getModel("subtextStyle"),l=t.get("textAlign"),c=n.retrieve2(t.get("textBaseline"),t.get("textVerticalAlign")),d=new o.Text({style:o.setTextStyle({},a,{text:t.get("text"),textFill:a.getTextColor()},{disableBox:!0}),z2:10}),p=d.getBoundingRect(),u=t.get("subtext"),g=new o.Text({style:o.setTextStyle({},h,{text:u,textFill:h.getTextColor(),y:p.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),f=t.get("link"),m=t.get("sublink"),x=t.get("triggerEvent",!0);d.silent=!f&&!x,g.silent=!m&&!x,f&&d.on("click",function(){window.open(f,"_"+t.get("target"))}),m&&g.on("click",function(){window.open(m,"_"+t.get("subtarget"))}),d.eventData=g.eventData=x?{componentType:"title",componentIndex:t.componentIndex}:null,s.add(d),u&&s.add(g);var v=s.getBoundingRect(),y=t.getBoxLayoutParams();y.width=v.width,y.height=v.height;var b=r(y,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||("middle"===(l=t.get("left")||t.get("right"))&&(l="center"),"right"===l?b.x+=b.width:"center"===l&&(b.x+=b.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?b.y+=b.height:"middle"===c&&(b.y+=b.height/2),c=c||"top"),s.attr("position",[b.x,b.y]);var k={textAlign:l,textVerticalAlign:c};d.setStyle(k),g.setStyle(k),v=s.getBoundingRect();var w=b.margin,S=t.getItemStyle(["color","opacity"]);S.fill=t.get("backgroundColor");var M=new o.Rect({shape:{x:v.x-w[3],y:v.y-w[0],width:v.width+w[1]+w[3],height:v.height+w[0]+w[2],r:t.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});s.add(M)}}})},1561:function(t,e,i){var n=i(1449),s=n.getLayoutRect,o=n.box,r=n.positionElement,a=i(1474),h=i(1423);e.layout=function(t,e,i){var n=e.getBoxLayoutParams(),a=e.get("padding"),h={width:i.getWidth(),height:i.getHeight()},l=s(n,h,a);o(e.get("orient"),t,e.get("itemGap"),l.width,l.height),r(t,n,h,a)},e.makeBackground=function(t,e){var i=a.normalizeCssArray(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),new h.Rect({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1})}},1753:function(t,e,i){var n=i(1411),s=i(1404),o=i(1491),r=i(1440).isNameSpecified,a=i(1458).legend.selector,h={all:{type:"all",title:s.clone(a.all)},inverse:{type:"inverse",title:s.clone(a.inverse)}},l=n.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){l.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var e=t.selector;!0===e&&(e=t.selector=["all","inverse"]),s.isArray(e)&&s.each(e,function(t,i){s.isString(t)&&(t={type:t}),e[i]=s.merge(t,h[t.type])})},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}e||this.select(t[0].get("name"))}},_updateData:function(t){var e=[],i=[];t.eachRawSeries(function(n){var s,o=n.name;if(i.push(o),n.legendDataProvider){var a=n.legendDataProvider(),h=a.mapArray(a.getName);t.isSeriesFiltered(n)||(i=i.concat(h)),h.length?e=e.concat(h):s=!0}else s=!0;s&&r(n)&&e.push(n.name)}),this._availableNames=i;var n=this.get("data")||e,a=s.map(n,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new o(t,this,this.ecModel)},this);this._data=a},getData:function(){return this._data},select:function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var i=this._data;s.each(i,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;s.each(t,function(t){e[t.get("name",!0)]=!0})},inverseSelect:function(){var t=this._data,e=this.option.selected;s.each(t,function(t){var i=t.get("name",!0);e.hasOwnProperty(i)||(e[i]=!0),e[i]=!e[i]})},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&0<=s.indexOf(this._availableNames,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),c=l;t.exports=c},1754:function(t,e,i){i(1432).__DEV__;var n=i(1411),s=i(1404),o=i(1610).createSymbol,r=i(1423),a=i(1561).makeBackground,h=i(1449),l=s.curry,c=s.each,d=r.Group,p=n.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new d),this._backgroundEl,this.group.add(this._selectorGroup=new d),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),r=t.get("orient");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===r?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);!l||c&&"auto"!==c||(c="horizontal"===r?"end":"start"),this.renderInner(o,t,e,i,l,r,c);var d=t.getBoxLayoutParams(),p={width:i.getWidth(),height:i.getHeight()},u=t.get("padding"),g=h.getLayoutRect(d,p,u),f=this.layoutInner(t,o,g,n,l,c),m=h.getLayoutRect(s.defaults({width:f.width,height:f.height},d),p,u);this.group.attr("position",[m.x-f.x,m.y-f.y]),this.group.add(this._backgroundEl=a(f,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(t,e,i,n,o,r,a){var h=this.getContentGroup(),p=s.createHashMap(),u=e.get("selectedMode"),x=[];i.eachRawSeries(function(t){t.get("legendHoverLink")||x.push(t.id)}),c(e.getData(),function(s,o){var r=s.get("name");if(this.newlineDisabled||""!==r&&"\n"!==r){var a=i.getSeriesByName(r)[0];if(!p.get(r))if(a){var c=a.getData(),v=c.getVisual("color"),y=c.getVisual("borderColor");"function"==typeof v&&(v=v(a.getDataParams(0))),"function"==typeof y&&(y=y(a.getDataParams(0)));var b=c.getVisual("legendSymbol")||"roundRect",k=c.getVisual("symbol");this._createItem(r,o,s,e,b,k,t,v,y,u).on("click",l(g,r,n)).on("mouseover",l(f,a.name,null,n,x)).on("mouseout",l(m,a.name,null,n,x)),p.set(r,!0)}else i.eachRawSeries(function(i){if(!p.get(r)&&i.legendDataProvider){var a=i.legendDataProvider(),h=a.indexOfName(r);if(h<0)return;var c=a.getItemVisual(h,"color"),d=a.getItemVisual(h,"borderColor");this._createItem(r,o,s,e,"roundRect",null,t,c,d,u).on("click",l(g,r,n)).on("mouseover",l(f,null,r,n,x)).on("mouseout",l(m,null,r,n,x)),p.set(r,!0)}},this)}else h.add(new d({newline:!0}))},this),o&&this._createSelector(o,e,n,r,a)},_createSelector:function(t,e,i){var n=this.getSelectorGroup();c(t,function(t){!function(t){var s=t.type,o=new r.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===s?"legendAllSelect":"legendInverseSelect"})}});n.add(o);var a=e.getModel("selectorLabel"),h=e.getModel("emphasis.selectorLabel");r.setLabelStyle(o.style,o.hoverStyle={},a,h,{defaultText:t.title,isRectText:!1}),r.setHoverStyle(o)}(t)})},_createItem:function(t,e,i,n,a,h,l,c,p,g){var f=n.get("itemWidth"),m=n.get("itemHeight"),x=n.get("inactiveColor"),v=n.get("inactiveBorderColor"),y=n.get("symbolKeepAspect"),b=n.getModel("itemStyle"),k=n.isSelected(t),w=new d,S=i.getModel("textStyle"),M=i.get("icon"),A=i.getModel("tooltip"),T=A.parentModel,L=o(a=M||a,0,0,f,m,k?c:x,null==y||y);if(w.add(u(L,a,b,p,v,k)),!M&&h&&(h!==a||"none"===h)){var C=.8*m;"none"===h&&(h="circle");var P=o(h,(f-C)/2,(m-C)/2,C,C,k?c:x,null==y||y);w.add(u(P,h,b,p,v,k))}var I="left"===l?f+5:-5,O=l,D=n.get("formatter"),z=t;"string"==typeof D&&D?z=D.replace("{name}",null!=t?t:""):"function"==typeof D&&(z=D(t)),w.add(new r.Text({style:r.setTextStyle({},S,{text:z,x:I,y:m/2,textFill:k?S.getTextColor():x,textAlign:O,textVerticalAlign:"middle"})}));var B=new r.Rect({shape:w.getBoundingRect(),invisible:!0,tooltip:A.get("show")?s.extend({content:t,formatter:T.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},A.option):null});return w.add(B),w.eachChild(function(t){t.silent=!0}),B.silent=!g,this.getContentGroup().add(w),r.setHoverStyle(w),w.__legendDataIndex=e,w},layoutInner:function(t,e,i,n,s,o){var r=this.getContentGroup(),a=this.getSelectorGroup();h.box(t.get("orient"),r,t.get("itemGap"),i.width,i.height);var l=r.getBoundingRect(),c=[-l.x,-l.y];if(s){h.box("horizontal",a,t.get("selectorItemGap",!0));var d=a.getBoundingRect(),p=[-d.x,-d.y],u=t.get("selectorButtonGap",!0),g=t.getOrient().index,f=0===g?"width":"height",m=0===g?"height":"width",x=0===g?"y":"x";"end"===o?p[g]+=l[f]+u:c[g]+=d[f]+u,p[1-g]+=l[m]/2-d[m]/2,a.attr("position",p),r.attr("position",c);var v={x:0,y:0};return v[f]=l[f]+u+d[f],v[m]=Math.max(l[m],d[m]),v[x]=Math.min(0,d[x]+p[1-g]),v}return r.attr("position",c),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function u(t,e,i,n,s,o){var r;return"line"!==e&&e.indexOf("empty")<0?(r=i.getItemStyle(),t.style.stroke=n,o||(r.stroke=s)):r=i.getItemStyle(["borderWidth","borderColor"]),t.setStyle(r)}function g(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function f(t,e,i,n){var s=i.getZr().storage.getDisplayList()[0];s&&s.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function m(t,e,i,n){var s=i.getZr().storage.getDisplayList()[0];s&&s.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}t.exports=p},1863:function(t,e,i){var n=i(1411),s=i(1404);i(1925),i(1928);var o=i(1929),r=i(1930),a=i(1931),h=i(1933);o("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisual(r("pie")),n.registerLayout(s.curry(a,"pie")),n.registerProcessor(h("pie"))},1925:function(t,e,i){var n=i(1411),s=i(1926),o=i(1404),r=i(1440),a=i(1441).getPercentWithPrecision,h=i(1927),l=i(1828).retrieveRawAttr,c=n.extendSeriesModel({type:"series.pie",init:function(t){c.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){c.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return s(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),i=[],n=0,s=t.count();n<s;n++)i.push({name:t.getName(n),value:t.get(e,n),selected:l(t,n,"selected")});return i},getDataParams:function(t){var e=this.getData(),i=c.superCall(this,"getDataParams",t),n=[];return e.each(e.mapDimension("value"),function(t){n.push(t)}),i.percent=a(n,t,e.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(t){r.defaultEmphasis(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});o.mixin(c,h);var d=c;t.exports=d},1926:function(t,e,i){var n=i(1973),s=i(1694),o=i(1404),r=o.extend,a=o.isArray;t.exports=function(t,e,i){e=a(e)&&{coordDimensions:e}||r({},e);var o=t.getSource(),h=n(o,e),l=new s(h,t);return l.initData(o,i),l}},1927:function(t,e,i){var n=i(1404),s={updateSelectedMap:function(t){this._targetList=n.isArray(t)?t.slice():[],this._selectTargetMap=n.reduce(t||[],function(t,e){return t.set(e.name,e),t},n.createHashMap())},select:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);i&&(i.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?"unSelect":"select"](t,e),i.selected},isSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return i&&i.selected}};t.exports=s},1928:function(t,e,i){var n=i(1404),s=i(1423),o=i(1660);function r(t,e,i,n){var s=e.getData(),o=this.dataIndex,r=s.getName(o),h=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:r,seriesId:e.id}),s.each(function(t){a(s.getItemGraphicEl(t),s.getItemLayout(t),e.isSelected(s.getName(t)),h,i)})}function a(t,e,i,n,s){var o=(e.startAngle+e.endAngle)/2,r=i?n:0,a=[Math.cos(o)*r,Math.sin(o)*r];s?t.animate().when(200,{position:a}).start("bounceOut"):t.attr("position",a)}function h(t,e){s.Group.call(this);var i=new s.Sector({z2:2}),n=new s.Polyline,o=new s.Text;this.add(i),this.add(n),this.add(o),this.updateData(t,e,!0)}var l=h.prototype;l.updateData=function(t,e,i){var o=this.childAt(0),r=this.childAt(1),h=this.childAt(2),l=t.hostModel,c=t.getItemModel(e),d=t.getItemLayout(e),p=n.extend({},d);p.label=null;var u=l.getShallow("animationTypeUpdate");i?(o.setShape(p),"scale"===l.getShallow("animationType")?(o.shape.r=d.r0,s.initProps(o,{shape:{r:d.r}},l,e)):(o.shape.endAngle=d.startAngle,s.updateProps(o,{shape:{endAngle:d.endAngle}},l,e))):"expansion"===u?o.setShape(p):s.updateProps(o,{shape:p},l,e);var g=t.getItemVisual(e,"color");o.useStyle(n.defaults({lineJoin:"bevel",fill:g},c.getModel("itemStyle").getItemStyle())),o.hoverStyle=c.getModel("emphasis.itemStyle").getItemStyle();var f=c.getShallow("cursor");f&&o.attr("cursor",f),a(this,t.getItemLayout(e),l.isSelected(null,e),l.get("selectedOffset"),l.get("animation"));var m=!i&&"transition"===u;this._updateLabel(t,e,m),this.highDownOnUpdate=c.get("hoverAnimation")&&l.isAnimationEnabled()?function(t,e){"emphasis"===e?(r.ignore=r.hoverIgnore,h.ignore=h.hoverIgnore,o.stopAnimation(!0),o.animateTo({shape:{r:d.r+l.get("hoverOffset")}},300,"elasticOut")):(r.ignore=r.normalIgnore,h.ignore=h.normalIgnore,o.stopAnimation(!0),o.animateTo({shape:{r:d.r}},300,"elasticOut"))}:null,s.setHoverStyle(this)},l._updateLabel=function(t,e,i){var n=this.childAt(1),o=this.childAt(2),r=t.hostModel,a=t.getItemModel(e),h=t.getItemLayout(e).label,l=t.getItemVisual(e,"color");if(!h||isNaN(h.x)||isNaN(h.y))o.ignore=o.normalIgnore=o.hoverIgnore=n.ignore=n.normalIgnore=n.hoverIgnore=!0;else{var c={points:h.linePoints||[[h.x,h.y],[h.x,h.y],[h.x,h.y]]},d={x:h.x,y:h.y};i?(s.updateProps(n,{shape:c},r,e),s.updateProps(o,{style:d},r,e)):(n.attr({shape:c}),o.attr({style:d})),o.attr({rotation:h.rotation,origin:[h.x,h.y],z2:10});var p=a.getModel("label"),u=a.getModel("emphasis.label"),g=a.getModel("labelLine"),f=a.getModel("emphasis.labelLine");l=t.getItemVisual(e,"color"),s.setLabelStyle(o.style,o.hoverStyle={},p,u,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:l,useInsideStyle:!!h.inside},{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),o.ignore=o.normalIgnore=!p.get("show"),o.hoverIgnore=!u.get("show"),n.ignore=n.normalIgnore=!g.get("show"),n.hoverIgnore=!f.get("show"),n.setStyle({stroke:l,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(g.getModel("lineStyle").getLineStyle()),n.hoverStyle=f.getModel("lineStyle").getLineStyle();var m=g.get("smooth");m&&!0===m&&(m=.4),n.setShape({smooth:m})}},n.inherits(h,s.Group);var c=o.extend({type:"pie",init:function(){var t=new s.Group;this._sectorGroup=t},render:function(t,e,i,s){if(!s||s.from!==this.uid){var o=t.getData(),a=this._data,l=this.group,c=e.get("animation"),d=!a,p=t.get("animationType"),u=t.get("animationTypeUpdate"),g=n.curry(r,this.uid,t,c,i),f=t.get("selectedMode");if(o.diff(a).add(function(t){var e=new h(o,t);d&&"scale"!==p&&e.eachChild(function(t){t.stopAnimation(!0)}),f&&e.on("click",g),o.setItemGraphicEl(t,e),l.add(e)}).update(function(t,e){var i=a.getItemGraphicEl(e);d||"transition"===u||i.eachChild(function(t){t.stopAnimation(!0)}),i.updateData(o,t),i.off("click"),f&&i.on("click",g),l.add(i),o.setItemGraphicEl(t,i)}).remove(function(t){var e=a.getItemGraphicEl(t);l.remove(e)}).execute(),c&&0<o.count()&&(d?"scale"!==p:"transition"!==u)){for(var m=o.getItemLayout(0),x=1;isNaN(m.startAngle)&&x<o.count();++x)m=o.getItemLayout(x);var v=Math.max(i.getWidth(),i.getHeight())/2,y=n.bind(l.removeClipPath,l);l.setClipPath(this._createClipPath(m.cx,m.cy,v,m.startAngle,m.clockwise,y,t,d))}else l.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(t,e,i,n,o,r,a,h){var l=new s.Sector({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return(h?s.initProps:s.updateProps)(l,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},a,r),l},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,s=t[1]-i.cy,o=Math.sqrt(n*n+s*s);return o<=i.r&&o>=i.r0}}});t.exports=c},1929:function(t,e,i){var n=i(1411),s=i(1404);t.exports=function(t,e){s.each(e,function(e){e.update="updateView",n.registerAction(e,function(i,n){var s={};return n.eachComponent({mainType:"series",subType:t,query:i},function(t){t[e.method]&&t[e.method](i.name,i.dataIndex);var n=t.getData();n.each(function(e){var i=n.getName(e);s[i]=t.isSelected(i)||!1})}),{name:i.name,selected:s,seriesId:i.seriesId}})})}},1930:function(t,e,i){var n=i(1404).createHashMap;t.exports=function(t){return{getTargetSeries:function(e){var i={},s=n();return e.eachSeriesByType(t,function(t){t.__paletteScope=i,s.set(t.uid,t)}),s},reset:function(t){var e=t.getRawData(),i={},n=t.getData();n.each(function(t){var e=n.getRawIndex(t);i[e]=t}),e.each(function(s){var o,r=i[s],a=null!=r&&n.getItemVisual(r,"color",!0),h=null!=r&&n.getItemVisual(r,"borderColor",!0);if(a&&h||(o=e.getItemModel(s)),a)e.setItemVisual(s,"color",a);else{var l=o.get("itemStyle.color")||t.getColorFromPalette(e.getName(s)||s+"",t.__paletteScope,e.count());e.setItemVisual(s,"color",l),null!=r&&n.setItemVisual(r,"color",l)}if(h)e.setItemVisual(s,"borderColor",h);else{var c=o.get("itemStyle.borderColor");e.setItemVisual(s,"borderColor",c),null!=r&&n.setItemVisual(r,"borderColor",c)}})}}}},1931:function(t,e,i){var n=i(1441),s=n.parsePercent,o=n.linearMap,r=i(1932),a=i(1404),h=2*Math.PI,l=Math.PI/180;t.exports=function(t,e,i,n){e.eachSeriesByType(t,function(t){var e=t.getData(),n=e.mapDimension("value"),c=t.get("center"),d=t.get("radius");a.isArray(d)||(d=[0,d]),a.isArray(c)||(c=[c,c]);var p=i.getWidth(),u=i.getHeight(),g=Math.min(p,u),f=s(c[0],p),m=s(c[1],u),x=s(d[0],g/2),v=s(d[1],g/2),y=-t.get("startAngle")*l,b=t.get("minAngle")*l,k=0;e.each(n,function(t){isNaN(t)||k++});var w=e.getSum(n),S=Math.PI/(w||k)*2,M=t.get("clockwise"),A=t.get("roseType"),T=t.get("stillShowZeroSum"),L=e.getDataExtent(n);L[0]=0;var C=h,P=0,I=y,O=M?1:-1;if(e.each(n,function(t,i){var n;if(isNaN(t))e.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:M,cx:f,cy:m,r0:x,r:A?NaN:v});else{(n="area"!==A?0===w&&T?S:t*S:h/k)<b?C-=n=b:P+=t;var s=I+O*n;e.setItemLayout(i,{angle:n,startAngle:I,endAngle:s,clockwise:M,cx:f,cy:m,r0:x,r:A?o(t,L,[x,v]):v}),I=s}}),C<h&&k)if(C<=.001){var D=h/k;e.each(n,function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i);n.angle=D,n.startAngle=y+O*i*D,n.endAngle=y+O*(i+1)*D}})}else S=C/P,I=y,e.each(n,function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i),s=n.angle===b?b:t*S;n.startAngle=I,n.endAngle=I+O*s,I+=O*s}});r(t,v,p,u)})}},1932:function(t,e,i){var n=i(1571),s=Math.PI/180;function o(t,e,i,n,s,o,r){function a(e,i,n){for(var s=e;s<i;s++)if(t[s].y+=n,e<s&&s+1<i&&t[s+1].y>t[s].y+t[s].height)return void h(s,n/2);h(i-1,n/2)}function h(e,i){for(var n=e;0<=n&&(t[n].y-=i,!(0<n&&t[n].y>t[n-1].y+t[n-1].height));n--);}function l(t,e,i,n,s,o){for(var r=e?Number.MAX_VALUE:0,a=0,h=t.length;a<h;a++){var l=Math.abs(t[a].y-n),c=t[a].len,d=t[a].len2,p=l<s+c?Math.sqrt((s+c+d)*(s+c+d)-l*l):Math.abs(t[a].x-i);e&&r<=p&&(p=r-10),!e&&p<=r&&(p=r+10),t[a].x=i+p*o,r=p}}t.sort(function(t,e){return t.y-e.y});for(var c,d=0,p=t.length,u=[],g=[],f=0;f<p;f++)(c=t[f].y-d)<0&&a(f,p,-c),d=t[f].y+t[f].height;for(r-d<0&&h(p-1,d-r),f=0;f<p;f++)t[f].y>=i?g.push(t[f]):u.push(t[f]);l(u,!1,e,i,n,s),l(g,!0,e,i,n,s)}function r(t){return"center"===t.position}t.exports=function(t,e,i,a,h){var l,c,d=t.getData(),p=[],u=!1,g=(t.get("minShowLabelAngle")||0)*s;d.each(function(i){var s=d.getItemLayout(i),o=d.getItemModel(i),r=o.getModel("label"),a=r.get("position")||o.get("emphasis.label.position"),h=o.getModel("labelLine"),f=h.get("length"),m=h.get("length2");if(!(s.angle<g)){var x,v,y,b,k=(s.startAngle+s.endAngle)/2,w=Math.cos(k),S=Math.sin(k);l=s.cx,c=s.cy;var M="inside"===a||"inner"===a;if("center"===a)x=s.cx,v=s.cy,b="center";else{var A=(M?(s.r+s.r0)/2*w:s.r*w)+l,T=(M?(s.r+s.r0)/2*S:s.r*S)+c;if(x=A+3*w,v=T+3*S,!M){var L=A+w*(f+e-s.r),C=T+S*(f+e-s.r),P=L+(w<0?-1:1)*m;x=P+(w<0?-5:5),y=[[A,T],[L,C],[P,v=C]]}b=M?"center":0<w?"left":"right"}var I,O=r.getFont(),D=r.get("rotate");I="number"==typeof D?D*(Math.PI/180):D?w<0?-k+Math.PI:-k:0;var z=t.getFormattedLabel(i,"normal")||d.getName(i),B=n.getBoundingRect(z,O,b,"top");u=!!I,s.label={x:x,y:v,position:a,height:B.height,len:f,len2:m,linePoints:y,textAlign:b,verticalAlign:"middle",rotation:I,inside:M},M||p.push(s.label)}}),!u&&t.get("avoidLabelOverlap")&&function(t,e,i,n,s,a){for(var h=[],l=[],c=0;c<t.length;c++)r(t[c])||(t[c].x<e?h.push(t[c]):l.push(t[c]));for(o(l,e,i,n,1,0,a),o(h,e,i,n,-1,0,a),c=0;c<t.length;c++)if(!r(t[c])){var d=t[c].linePoints;if(d){var p=d[1][0]-d[2][0];t[c].x<e?d[2][0]=t[c].x+3:d[2][0]=t[c].x-3,d[1][1]=d[2][1]=t[c].y,d[1][0]=d[2][0]+p}}}(p,l,c,e,0,a)}},1933:function(t,e){t.exports=function(t){return{seriesType:t,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var n=t.getData();n.filterSelf(function(t){for(var e=n.getName(t),s=0;s<i.length;s++)if(!i[s].isSelected(e))return!1;return!0})}}}}},1934:function(t,e,i){var n=i(1411);i(1753),i(1935),i(1754);var s=i(1936),o=i(1558);n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,s),o.registerSubTypeDefaulter("legend",function(){return"plain"})},1935:function(t,e,i){var n=i(1411),s=i(1404);function o(t,e,i){var n,o={},r="toggleSelected"===t;return i.eachComponent("legend",function(i){r&&null!=n?i[n?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](e.name),n=i.isSelected(e.name));var a=i.getData();s.each(a,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&n:o[e]=n}})}),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}n.registerAction("legendToggleSelect","legendselectchanged",s.curry(o,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",s.curry(o,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",s.curry(o,"inverseSelect")),n.registerAction("legendSelect","legendselected",s.curry(o,"select")),n.registerAction("legendUnSelect","legendunselected",s.curry(o,"unSelect"))},1936:function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}},1937:function(t,e,i){var n=i(1753),s=i(1449),o=s.mergeLayoutParam,r=s.getLayoutParams,a=n.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,i,n){var s=r(t);a.superCall(this,"init",t,e,i,n),h(this,t,s)},mergeOption:function(t,e){a.superCall(this,"mergeOption",t,e),h(this,this.option,t)}});function h(t,e,i){var n=[1,1];n[t.getOrient().index]=0,o(e,i,{type:"box",ignoreSize:n})}var l=a;t.exports=l},1938:function(t,e,i){var n=i(1404),s=i(1423),o=i(1449),r=i(1754),a=s.Group,h=["width","height"],l=["x","y"],c=r.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){c.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new a),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new a),this._showController},resetInner:function(){c.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,i,o,r,a,h){var l=this;c.superCall(this,"renderInner",t,e,i,o,r,a,h);var d=this._controllerGroup,p=e.get("pageIconSize",!0);n.isArray(p)||(p=[p,p]),g("pagePrev",0);var u=e.getModel("pageTextStyle");function g(t,i){var r=t+"DataIndex",a=s.createIcon(e.get("pageIcons",!0)[e.getOrient().name][i],{onclick:n.bind(l._pageGo,l,r,e,o)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});a.name=t,d.add(a)}d.add(new s.Text({name:"pageText",style:{textFill:u.getTextColor(),font:u.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),g("pageNext",1)},layoutInner:function(t,e,i,s,r,a){var c=this.getSelectorGroup(),d=t.getOrient().index,p=h[d],u=l[d],g=h[1-d],f=l[1-d];r&&o.box("horizontal",c,t.get("selectorItemGap",!0));var m=t.get("selectorButtonGap",!0),x=c.getBoundingRect(),v=[-x.x,-x.y],y=n.clone(i);r&&(y[p]=i[p]-x[p]-m);var b=this._layoutContentAndController(t,s,y,d,p,g,f);if(r){if("end"===a)v[d]+=b[p]+m;else{var k=x[p]+m;v[d]-=k,b[u]-=k}b[p]+=x[p]+m,v[1-d]+=b[f]+b[g]/2-x[g]/2,b[g]=Math.max(b[g],x[g]),b[f]=Math.min(b[f],x[f]+v[1-d]),c.attr("position",v)}return b},_layoutContentAndController:function(t,e,i,r,a,h,l){var c=this.getContentGroup(),d=this._containerGroup,p=this._controllerGroup;o.box(t.get("orient"),c,t.get("itemGap"),r?i.width:null,r?null:i.height),o.box("horizontal",p,t.get("pageButtonItemGap",!0));var u=c.getBoundingRect(),g=p.getBoundingRect(),f=this._showController=u[a]>i[a],m=[-u.x,-u.y];e||(m[r]=c.position[r]);var x=[0,0],v=[-g.x,-g.y],y=n.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));f&&("end"===t.get("pageButtonPosition",!0)?v[r]+=i[a]-g[a]:x[r]+=g[a]+y),v[1-r]+=u[h]/2-g[h]/2,c.attr("position",m),d.attr("position",x),p.attr("position",v);var b={x:0,y:0};if(b[a]=f?i[a]:u[a],b[h]=Math.max(u[h],g[h]),b[l]=Math.min(0,g[l]+v[1-r]),d.__rectSize=i[a],f){var k={x:0,y:0};k[a]=Math.max(i[a]-g[a]-y,0),k[h]=b[h],d.setClipPath(new s.Rect({shape:k})),d.__rectSize=k[a]}else p.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(t);return null!=w.pageIndex&&s.updateProps(c,{position:w.contentPosition},f&&t),this._updatePageInfoView(t,w),b},_pageGo:function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(t,e){var i=this._controllerGroup;n.each(["pagePrev","pageNext"],function(n){var s=null!=e[n+"DataIndex"],o=i.childOfName(n);o&&(o.setStyle("fill",s?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=s?"pointer":"default")});var s=i.childOfName("pageText"),o=t.get("pageFormatter"),r=e.pageIndex,a=null!=r?r+1:0,h=e.pageCount;s&&o&&s.setStyle("text",n.isString(o)?o.replace("{current}",a).replace("{total}",h):o({current:a,total:h}))},_getPageInfo:function(t){var e=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,s=t.getOrient().index,o=h[s],r=l[s],a=this._findTargetItemIndex(e),c=i.children(),d=c[a],p=c.length,u=p?1:0,g={contentPosition:i.position.slice(),pageCount:u,pageIndex:u-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return g;var f=b(d);g.contentPosition[s]=-f.s;for(var m=a+1,x=f,v=f,y=null;m<=p;++m)(!(y=b(c[m]))&&v.e>x.s+n||y&&!k(y,x.s))&&(x=v.i>x.i?v:y)&&(null==g.pageNextDataIndex&&(g.pageNextDataIndex=x.i),++g.pageCount),v=y;for(m=a-1,x=f,v=f,y=null;-1<=m;--m)(y=b(c[m]))&&k(v,y.s)||!(x.i<v.i)||(v=x,null==g.pagePrevDataIndex&&(g.pagePrevDataIndex=x.i),++g.pageCount,++g.pageIndex),x=y;return g;function b(t){if(t){var e=t.getBoundingRect(),i=e[r]+t.position[s];return{s:i,e:i+e[o],i:t.__legendDataIndex}}}function k(t,e){return t.e>=e&&t.s<=e+n}},_findTargetItemIndex:function(t){var e,i,n=this.getContentGroup();return this._showController&&n.eachChild(function(n,s){var o=n.__legendDataIndex;null==i&&null!=o&&(i=s),o===t&&(e=s)}),null!=e?e:i}}),d=c;t.exports=d},1939:function(t,e,i){i(1411).registerAction("legendScroll","legendscroll",function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(i)})})},1940:function(t,e,i){var n,s,o;s="undefined"!=typeof window?window:this,o=function(t){var e,i,n,s,o,r,a,h,l,c,d,p,u,g,f,m,x,v,y,b,k,w,S,M,A,T,L,C,P,I,O,D,z,B,E,N,R,G,W,H,X,F,_,Y,j,V,U,Z,K,q,$,J,Q,tt,et,it,nt,st,ot,rt,at,ht,lt,ct,dt,pt,ut,gt,ft,mt,xt,vt,yt,bt,kt,wt,St,Mt,At,Tt,Lt,Ct,Pt,It,Ot,Dt,zt=(i=(e=void 0===t?window:t).document,n=e.navigator&&e.navigator.userAgent||"",s=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(n)&&!e.opera,r=-1!==n.indexOf("Firefox"),a=-1!==n.indexOf("Chrome"),h=r&&parseInt(n.split("Firefox/")[1],10)<4,e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.2.0",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:h,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:o,isWebKit:-1!==n.indexOf("AppleWebKit"),isFirefox:r,isChrome:a,isSafari:!a&&-1!==n.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(n),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:s,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(t){t.timers=[];var e,i,n=t.charts,s=t.doc,o=t.win;t.error=function(e,i){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,i)throw Error(e);o.console&&console.log(e)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],s=this.now,o=e.length;if(1===s)n=this.toD;else if(o===i.length&&s<1)for(;o--;)t=parseFloat(e[o]),n[o]=isNaN(t)?i[o]:s*parseFloat(i[o]-t)+t;else n=i;this.elem.attr("d",n,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(e,i,n){function s(t){return!s.stopped&&r.step(t)}var r=this,a=r.options,h=o.requestAnimationFrame||function(t){setTimeout(t,13)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=n,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&h(function e(){for(var i=0;i<t.timers.length;i++)t.timers[i]()||t.timers.splice(i--,1);t.timers.length&&h(e)})):(delete a.curAnim[this.prop],a.complete&&0===t.keys(a.curAnim).length&&a.complete.call(this.elem))},step:function(e){var i,n=+new Date,s=this.options,o=this.elem,r=s.complete,a=s.duration,h=s.curAnim;return!(o.attr&&!o.element)&&(e||n>=a+this.startTime?(this.now=this.end,this.pos=1,this.update(),i=h[this.prop]=!0,t.objectEach(h,function(t){!0!==t&&(i=!1)}),i&&r&&r.call(o),!1):(this.pos=s.easing((n-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0))},initPath:function(e,i,n){function s(t){var e,i;for(c=t.length;c--;)e="M"===t[c]||"L"===t[c],i=/[a-zA-Z]/.test(t[c+3]),e&&i&&t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function o(t,e){for(;t.length<h;){t[0]=e[h-t.length];var i=t.slice(0,g);[].splice.apply(t,[0,0].concat(i)),m&&(i=t.slice(t.length-g),[].splice.apply(t,[t.length,0].concat(i)),c--)}t[0]="M"}function r(t,e){for(var i=(h-t.length)/g;0<i&&i--;)(l=t.slice().splice(t.length/x-g,g*x))[0]=e[h-g-i*g],u&&(l[g-6]=l[g-2],l[g-5]=l[g-1]),[].splice.apply(t,[t.length/x,0].concat(l)),m&&i--}i=i||"";var a,h,l,c,d=e.startX,p=e.endX,u=-1<i.indexOf("C"),g=u?7:3;i=i.split(" "),n=n.slice();var f,m=e.isArea,x=m?2:1;if(u&&(s(i),s(n)),d&&p){for(c=0;c<d.length;c++){if(d[c]===p[0]){a=c;break}if(d[0]===p[p.length-d.length+c]){a=c,f=!0;break}}void 0===a&&(i=[])}return i.length&&t.isNumber(a)&&(h=n.length+a*x*g,f?(o(i,n),r(n,i)):(o(n,i),r(i,n))),[i,n]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){function e(i,n){return"object"!=typeof i&&(i={}),t.objectEach(n,function(s,o){!t.isObject(s,!0)||t.isClass(s)||t.isDOMElement(s)?i[o]=n[o]:i[o]=e(i[o]||{},s)}),i}var i,n,s=arguments,o={};for(!0===s[0]&&(o=s[1],s=Array.prototype.slice.call(s,2)),n=s.length,i=0;i<n;i++)o=e(o,s[i]);return o},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,i){return!(!e||"object"!=typeof e||i&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&t<1/0&&-1/0<t},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return null!=t},t.attr=function(e,i,n){var s;return t.isString(i)?t.defined(n)?e.setAttribute(i,n):e&&e.getAttribute&&((s=e.getAttribute(i))||"class"!==i||(s=e.getAttribute(i+"Name"))):t.defined(i)&&t.isObject(i)&&t.objectEach(i,function(t,i){e.setAttribute(i,t)}),s},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var i;for(i in t=t||{},e)t[i]=e[i];return t},t.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(null!=(e=i[t]))return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,i,n,o,r){e=s.createElement(e);var a=t.css;return i&&t.extend(e,i),r&&a(e,{padding:0,border:"none",margin:0}),n&&a(e,n),o&&o.appendChild(e),e},t.extendClass=function(e,i){function n(){}return n.prototype=new e,t.extend(n.prototype,i),n},t.pad=function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||0)+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,s=this;return s.proceed=function(){n.apply(s,arguments.length?arguments:e)},t.unshift(n),t=i.apply(this,t),s.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,function(i,n){t.isObject(i)&&"function"==typeof i.getTime?e[n]=i.getTime():(t.isObject(i)||t.isArray(i))&&t.datePropsToTimestamps(i)})},t.formatSingle=function(e,i,n){var s=t.defaultOptions.lang;return/f$/.test(e)?(n=(n=e.match(/\.([0-9])/))?n[1]:-1,null!==i&&(i=t.numberFormat(i,n,s.decimalPoint,-1<e.indexOf(",")?s.thousandsSep:""))):i=(n||t.time).dateFormat(e,i),i},t.format=function(e,i,n){for(var s,o,r,a,h,l="{",c=!1,d=[];e&&-1!==(l=e.indexOf(l));){if(s=e.slice(0,l),c){for(a=(o=(s=s.split(":")).shift().split(".")).length,h=i,r=0;r<a;r++)h=h&&h[o[r]];s.length&&(h=t.formatSingle(s.join(":"),h,n)),d.push(h)}else d.push(s);e=e.slice(l+1),l=(c=!c)?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,n,s,o){var r,a=e;for(r=e/(n=t.pick(n,1)),i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===s&&(1===n?i=t.grep(i,function(t){return 0==t%1}):n<=.1&&(i=[1/n]))),s=0;s<i.length&&(a=i[s],!(o&&e<=a*n||!o&&r<=(i[s]+(i[s+1]||i[s]))/2));s++);return t.correctFloat(a*n,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,n,s=t.length;for(n=0;n<s;n++)t[n].safeI=n;for(t.sort(function(t,n){return 0===(i=e(t,n))?t.safeI-n.safeI:i}),n=0;n<s;n++)delete t[n].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,function(t,n){t&&t!==i&&t.destroy&&t.destroy(),delete e[n]})},t.discardElement=function(e){var i=t.garbageBin;i=i||t.createElement("div"),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,n,s){e=+e||0,i=+i;var o,r,a=t.defaultOptions.lang,h=(e.toString().split(".")[1]||"").split("e")[0].length,l=e.toString().split("e");return-1===i?i=Math.min(h,20):t.isNumber(i)?i&&l[1]&&l[1]<0&&(0<=(o=i+ +l[1])?(l[0]=(+l[0]).toExponential(o).split("e")[0],i=o):(l[0]=l[0].split(".")[0]||0,e=i<20?(l[0]*Math.pow(10,l[1])).toFixed(i):0,l[1]=0)):i=2,r=(Math.abs(l[1]?l[0]:e)+Math.pow(10,-Math.max(i,h)-1)).toFixed(i),o=3<(h=String(t.pInt(r))).length?h.length%3:0,n=t.pick(n,a.decimalPoint),s=t.pick(s,a.thousandsSep),e=(e<0?"-":"")+(o?h.substr(0,o)+s:""),e+=h.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+s),i&&(e+=n+r.slice(-i)),l[1]&&0!=+e&&(e+="e"+l[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,n){return"width"===i?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(o.getComputedStyle||t.error(27,!0),(e=o.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(i),t.pick(n,"opacity"!==i)&&(e=t.pInt(e))),e)},t.inArray=function(e,i,n){return(t.indexOfPolyfill||Array.prototype.indexOf).call(i,e,n)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(e(t[i],i))return t[i]},t.some=function(e,i,n){return(t.somePolyfill||Array.prototype.some).call(e,i,n)},t.map=function(t,e){for(var i=[],n=0,s=t.length;n<s;n++)i[n]=e.call(t[n],t[n],n,t);return i},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,i,n){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[i,n]:[i])},t.offset=function(t){var e=s.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(o.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(o.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var n=t.timers.length;n--;)t.timers[n].elem!==e||i&&i!==t.timers[n].prop||(t.timers[n].stopped=!0)},t.each=function(e,i,n){return(t.forEachPolyfill||Array.prototype.forEach).call(e,i,n)},t.objectEach=function(t,e,i){for(var n in t)t.hasOwnProperty(n)&&e.call(i||t[n],t[n],n,t)},t.addEvent=function(e,i,n,s){var o,r=e.addEventListener||t.addEventListenerPolyfill;return o="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),r&&r.call(e,i,n,!1),o[i]||(o[i]=[]),o[i].push(n),s&&t.isNumber(s.order)&&(n.order=s.order,o[i].sort(function(t,e){return t.order-e.order})),function(){t.removeEvent(e,i,n)}},t.removeEvent=function(e,i,n){function s(i,n){var s=e.removeEventListener||t.removeEventListenerPolyfill;s&&s.call(e,i,n,!1)}function o(n){var o,r;e.nodeName&&(i?(o={})[i]=!0:o=n,t.objectEach(o,function(t,e){if(n[e])for(r=n[e].length;r--;)s(e,n[e][r])}))}var r,a;t.each(["protoEvents","hcEvents"],function(h){var l=e[h];l&&(i?(r=l[i]||[],n?(-1<(a=t.inArray(n,r))&&(r.splice(a,1),l[i]=r),s(i,n)):(o(l),l[i]=[])):(o(l),e[h]={}))})},t.fireEvent=function(e,i,n,o){var r,a,h,l,c;n=n||{},s.createEvent&&(e.dispatchEvent||e.fireEvent)?((r=s.createEvent("Events")).initEvent(i,!0,!0),t.extend(r,n),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent(i,r)):t.each(["protoEvents","hcEvents"],function(s){if(e[s])for(a=e[s][i]||[],h=a.length,n.target||t.extend(n,{preventDefault:function(){n.defaultPrevented=!0},target:e,type:i}),l=0;l<h;l++)(c=a[l])&&!1===c.call(e,n)&&n.preventDefault()}),o&&!n.defaultPrevented&&o.call(e,n)},t.animate=function(e,i,n){var s,o,r,a,h="";t.isObject(n)||(n={duration:(a=arguments)[2],easing:a[3],complete:a[4]}),t.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=t.merge(i),t.objectEach(i,function(a,l){t.stop(e,l),r=new t.Fx(e,n,l),o=null,"d"===l?(r.paths=r.initPath(e,e.d,i.d),r.toD=i.d,s=0,o=1):e.attr?s=e.attr(l):(s=parseFloat(t.getStyle(e,l))||0,"opacity"!==l&&(h="px")),(o=o||a)&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),r.run(s,o,h)})},t.seriesType=function(e,i,n,s,o){var r=t.getOptions(),a=t.seriesTypes;return r.plotOptions[e]=t.merge(r.plotOptions[i],n),a[e]=t.extendClass(a[i]||function(){},s),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},t.uniqueKey=(e=Math.random().toString(36).substring(2,9),i=0,function(){return"highcharts-"+e+"-"+i++}),o.jQuery&&(o.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):n[t.attr(this[0],"data-highcharts-chart")]})}(zt),c=(l=zt).each,d=l.isNumber,p=l.map,u=l.merge,g=l.pInt,l.Color=function(t){if(!(this instanceof l.Color))return new l.Color(t);this.init(t)},l.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[g(t[1]),g(t[2]),g(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[g(t[1]),g(t[2]),g(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(t){var e,i,n,s;if((this.input=t=this.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=p(t.stops,function(t){return new l.Color(t[1])});else if(t&&t.charAt&&"#"===t.charAt()&&(e=t.length,t=parseInt(t.substr(1),16),7===e?i=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===e&&(i=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])),!i)for(n=this.parsers.length;n--&&!i;)(e=(s=this.parsers[n]).regex.exec(t))&&(i=s.parse(e));this.rgba=i||[]},get:function(t){var e,i=this.input,n=this.rgba;return this.stops?((e=u(i)).stops=[].concat(e.stops),c(this.stops,function(i,n){e.stops[n]=[e.stops[n][0],i.get(t)]})):e=n&&d(n[0])?"rgb"===t||!t&&1===n[3]?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?n[3]:"rgba("+n.join(",")+")":i,e},brighten:function(t){var e,i=this.rgba;if(this.stops)c(this.stops,function(e){e.brighten(t)});else if(d(t)&&0!==t)for(e=0;e<3;e++)i[e]+=g(255*t),i[e]<0&&(i[e]=0),255<i[e]&&(i[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i=this.rgba,n=t.rgba;return n.length&&i&&i.length?((t=1!==n[3]||1!==i[3])?"rgba(":"rgb(")+Math.round(n[0]+(i[0]-n[0])*(1-e))+","+Math.round(n[1]+(i[1]-n[1])*(1-e))+","+Math.round(n[2]+(i[2]-n[2])*(1-e))+(t?","+(n[3]+(i[3]-n[3])*(1-e)):"")+")":t.input||"none"}},l.color=function(t){return new l.Color(t)},v=(f=zt).addEvent,y=f.animate,b=f.attr,k=f.charts,w=f.color,S=f.css,M=f.createElement,A=f.defined,T=f.deg2rad,L=f.destroyObjectProperties,C=f.doc,P=f.each,I=f.extend,O=f.erase,D=f.grep,z=f.hasTouch,B=f.inArray,E=f.isArray,N=f.isFirefox,R=f.isMS,G=f.isObject,W=f.isString,H=f.isWebKit,X=f.merge,F=f.noop,_=f.objectEach,Y=f.pick,j=f.pInt,V=f.removeEvent,U=f.stop,Z=f.svg,K=f.SVG_NS,q=f.symbolSizes,$=f.win,m=f.SVGElement=function(){return this},I(m.prototype,{opacity:1,SVG_NS:K,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(t,e){this.element="span"===e?M(e):C.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(t,e,i){return 0!==(e=f.animObject(Y(e,this.renderer.globalAnimation,!0))).duration?(i&&(e.complete=i),y(this,t,e)):(this.attr(t,null,i),e.step&&e.step.call(this)),this},complexColor:function(t,e,i){var n,s,o,r,a,h,l,c,d,p,u,g,m=this.renderer,x=[];f.fireEvent(this.renderer,"complexColor",{args:arguments},function(){t.radialGradient?s="radialGradient":t.linearGradient&&(s="linearGradient"),s&&(o=t[s],a=m.gradients,l=t.stops,p=i.radialReference,E(o)&&(t[s]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&p&&!A(o.gradientUnits)&&(o=X(r=o,m.getRadialAttr(p,r),{gradientUnits:"userSpaceOnUse"})),_(o,function(t,e){"id"!==e&&x.push(e,t)}),_(l,function(t){x.push(t)}),x=x.join(","),a[x]?u=a[x].attr("id"):(o.id=u=f.uniqueKey(),a[x]=h=m.createElement(s).attr(o).add(m.defs),h.radAttr=r,h.stops=[],P(l,function(t){d=0===t[1].indexOf("rgba")?(n=f.color(t[1]),c=n.get("rgb"),n.get("a")):(c=t[1],1),t=m.createElement("stop").attr({offset:t[0],"stop-color":c,"stop-opacity":d}).add(h),h.stops.push(t)})),g="url("+m.url+"#"+u+")",i.setAttribute(e,g),i.gradient=x,t.toString=function(){return g})})},applyTextOutline:function(t){var e,i,n,s,o,r=this.element;if(-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(r.style.fill))),t=t.split(" "),i=t[t.length-1],(n=t[0])&&"none"!==n&&f.svg){for(this.fakeTS=!0,t=[].slice.call(r.getElementsByTagName("tspan")),this.ySetter=this.xSetter,n=n.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),o=t.length;o--;)"highcharts-text-outline"===(e=t[o]).getAttribute("class")&&O(t,r.removeChild(e));s=r.firstChild,P(t,function(t,e){0===e&&(t.setAttribute("x",r.getAttribute("x")),e=r.getAttribute("y"),t.setAttribute("y",e||0),null===e&&r.setAttribute("y",0)),t=t.cloneNode(1),b(t,{class:"highcharts-text-outline",fill:i,stroke:i,"stroke-width":n,"stroke-linejoin":"round"}),r.insertBefore(t,s)})}},attr:function(t,e,i,n){var s,o,r,a,h=this.element,l=this;return"string"==typeof t&&void 0!==e&&(s=t,(t={})[s]=e),"string"==typeof t?l=(this[t+"Getter"]||this._defaultGetter).call(this,t,h):(_(t,function(e,i){r=!1,n||U(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(o||(this.symbolAttr(t),o=!0),r=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),r||((a=this[i+"Setter"]||this._defaultSetter).call(this,e,i,h),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,a))},this),this.afterSetters()),i&&i.call(this),l},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var n=this.shadows,s=n.length;s--;)i.call(n[s],"height"===t?Math.max(e-(n[s].cutHeight||0),0):"d"===t?this.d:e,t,n[s])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==B(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;P("x y r start end width height innerR anchorX anchorY".split(" "),function(i){e[i]=Y(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i;return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),A(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,i,n=this.styles,s={},o=this.element,r="",a=!n,h=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),n&&_(t,function(t,e){t!==n[e]&&(s[e]=t,a=!0)}),a&&(n&&(t=I(n,s)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===o.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=j(t.width))),this.styles=t,e&&!Z&&this.renderer.forExport&&delete t.width,o.namespaceURI===this.SVG_NS?(i=function(t,e){return"-"+e.toLowerCase()},_(t,function(t,e){-1===B(e,h)&&(r+=e.replace(/([A-Z])/g,i)+":"+t+";")}),r&&b(o,"style",r)):S(o,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,n=i.element;return z&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===$.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,s=this.inverted,o=this.rotation,r=this.matrix,a=this.element;s&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],A(r)&&t.push("matrix("+r.join(",")+")"),s?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+Y(this.rotationOriginX,a.getAttribute("x"),0)+" "+Y(this.rotationOriginY,a.getAttribute("y")||0)+")"),(A(i)||A(n))&&t.push("scale("+Y(i,1)+" "+Y(n,1)+")"),t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,s,o,r,a,h,l={};return o=(s=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,i&&!W(i)||(this.alignTo=n=i||"renderer",O(o,this),o.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=Y(i,s[n],s),n=t.align,s=t.verticalAlign,o=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),"right"===n?a=1:"center"===n&&(a=2),a&&(o+=(i.width-(t.width||0))/a),l[e?"translateX":"x"]=Math.round(o),"bottom"===s?h=1:"middle"===s&&(h=2),h&&(r+=(i.height-(t.height||0))/h),l[e?"translateY":"y"]=Math.round(r),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(t,e){var i,n,s,o,r,a=this.renderer,h=this.element,l=this.styles,c=this.textStr,d=a.cache,p=a.cacheKeys,u=h.namespaceURI===this.SVG_NS;if(n=(e=Y(e,this.rotation))*T,s=l&&l.fontSize,A(c)&&(-1===(r=c.toString()).indexOf("<")&&(r=r.replace(/[0-9]/g,"0")),r+=["",e||0,s,this.textWidth,l&&l.textOverflow].join()),r&&!t&&(i=d[r]),!i){if(u||a.forExport){try{(o=this.fakeTS&&function(t){P(h.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),i=h.getBBox?I({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight},o&&o("")}catch(t){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(a.isSVG&&(t=i.width,a=i.height,u&&(i.height=a={"11px,17":14,"13px,20":16}[l&&l.fontSize+","+Math.round(a)]||a),e&&(i.width=Math.abs(a*Math.sin(n))+Math.abs(t*Math.cos(n)),i.height=Math.abs(a*Math.cos(n))+Math.abs(t*Math.sin(n)))),r&&0<i.height){for(;250<p.length;)delete d[p.shift()];d[r]||p.push(r),d[r]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,t&&!t.handleZ&&!this.zIndex||(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,n=e.ownerSVGElement,s=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,U(t),s&&n&&(P(n.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),i=s.element.id;(-1<e.indexOf("(#"+i+")")||-1<e.indexOf('("#'+i+'")'))&&t.removeAttribute("clip-path")}),t.clipPath=s.destroy()),t.stops){for(n=0;n<t.stops.length;n++)t.stops[n]=t.stops[n].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&O(t.renderer.alignedObjects,t),_(t,function(e,i){delete t[i]}),null},shadow:function(t,e,i){var n,s,o,r,a,h,l=[],c=this.element;if(t){if(!this.shadows){for(r=Y(t.width,3),a=(t.opacity||.15)/r,h=this.parentInverted?"(-1,-1)":"("+Y(t.offsetX,1)+", "+Y(t.offsetY,1)+")",n=1;n<=r;n++)s=c.cloneNode(0),o=2*r+1-2*n,b(s,{stroke:t.color||"#000000","stroke-opacity":a*n,"stroke-width":o,transform:"translate"+h,fill:"none"}),s.setAttribute("class",(s.getAttribute("class")||"")+" highcharts-shadow"),i&&(b(s,"height",Math.max(b(s,"height")-o,0)),s.cutHeight=o),e?e.element.appendChild(s):c.parentNode&&c.parentNode.insertBefore(s,c),l.push(s);this.shadows=l}}else this.destroyShadows();return this},destroyShadows:function(){P(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=Y(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=j(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=C.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(C.createTextNode(String(Y(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,n,s,o,r=this.renderer,a=this.parentGroup,h=(a||r).element||r.box,l=this.element;if(r=h===r.box,i=this.added,A(t)?(l.setAttribute("data-z-index",t),t=+t,this[e]===t&&(i=!1)):A(this[e])&&l.removeAttribute("data-z-index"),this[e]=t,i){for((t=this.zIndex)&&a&&(a.handleZ=!0),o=(e=h.childNodes).length-1;0<=o&&!n;o--)i=(a=e[o]).getAttribute("data-z-index"),s=!A(i),a!==l&&(t<0&&s&&!r&&!o?(h.insertBefore(l,e[o]),n=!0):(j(i)<=t||s&&(!A(t)||0<=t))&&(h.insertBefore(l,e[o+1]||null),n=!0));n||(h.insertBefore(l,e[r?3:0]||null),n=!0)}return n},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),m.prototype.yGetter=m.prototype.xGetter,m.prototype.translateXSetter=m.prototype.translateYSetter=m.prototype.rotationSetter=m.prototype.verticalAlignSetter=m.prototype.rotationOriginXSetter=m.prototype.rotationOriginYSetter=m.prototype.scaleXSetter=m.prototype.scaleYSetter=m.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},m.prototype["stroke-widthSetter"]=m.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(m.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},x=f.SVGRenderer=function(){this.init.apply(this,arguments)},I(x.prototype,{Element:m,SVG_NS:K,init:function(t,e,i,n,s,o){var r,a;r=(n=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(n))).element,t.appendChild(r),b(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&b(r,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=r,this.boxWrapper=n,this.alignedObjects=[],this.url=(N||H)&&C.getElementsByTagName("base").length?$.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(C.createTextNode("Created with Highcharts 6.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),N&&t.getBoundingClientRect&&((e=function(){S(t,{left:0,top:0}),a=t.getBoundingClientRect(),S(t,{left:Math.ceil(a.left)-a.left+"px",top:Math.ceil(a.top)-a.top+"px"})})(),this.unSubPixelFix=v($,"resize",e))},getStyle:function(t){return this.style=I({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),L(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:F,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,i,n,s,o,r){function a(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(C.createTextNode(t))}function h(o,h){if(void 0===x[h=h||o])if(e.getSubStringLength)try{x[h]=s+e.getSubStringLength(0,n?h+1:h)}catch(o){}else p.getSpanWidth&&(a(r(i||n,o)),x[h]=s+p.getSpanWidth(t,e));return x[h]}var l,c,d,p=this,u=t.rotation,g=n?1:0,f=(i||n).length,m=f,x=[];if(t.rotation=0,c=h(e.textContent.length),d=o<s+c){for(;g<=f;)m=Math.ceil((g+f)/2),n&&(l=r(n,m)),c=h(m,l&&l.length-1),g===f?g=f+1:o<c?f=m-1:g=m;0===f?a(""):i&&f===i.length-1||a(l||r(i||n,m))}return n&&n.splice(0,m),t.actualWidth=c,t.rotation=u,d},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){function e(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:k||h.style.fontSize||12,m?j(m):h.fontMetrics(e,t.getAttribute("style")?t:a).h}function i(t,e){return _(h.escapes,function(i,n){e&&-1!==B(i,e)||(t=t.toString().replace(new RegExp(i,"g"),n))}),t}function n(t,e){var i;if(i=t.indexOf("<"),-1!==(i=(t=t.substring(i,t.indexOf(">")-i)).indexOf(e+"="))&&(i=i+e.length+1,'"'===(e=t.charAt(i))||"'"===e))return(t=t.substring(i+1)).substring(0,t.indexOf(e))}var s,o,r,a=t.element,h=this,l=h.forExport,c=Y(t.textStr,"").toString(),d=-1!==c.indexOf("<"),p=a.childNodes,u=b(a,"x"),g=t.styles,f=t.textWidth,m=g&&g.lineHeight,x=g&&g.textOutline,v=g&&"ellipsis"===g.textOverflow,y=g&&"nowrap"===g.whiteSpace,k=g&&g.fontSize,w=p.length;if(g=f&&!t.added&&this.box,(o=[c,v,y,m,x,k,f].join())!==t.textCache){for(t.textCache=o;w--;)a.removeChild(p[w]);d||x||v||f||-1!==c.indexOf(" ")?(g&&g.appendChild(a),c=d?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=D(c,function(t){return""!==t}),P(c,function(o,c){var d,p=0,g=0;o=o.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=o.split("|||"),P(d,function(o){if(""!==o||1===d.length){var m,x,w={},M=C.createElementNS(h.SVG_NS,"tspan");if((m=n(o,"class"))&&b(M,"class",m),(m=n(o,"style"))&&(m=m.replace(/(;| |^)color([ :])/,"$1fill$2"),b(M,"style",m)),(x=n(o,"href"))&&!l&&(b(M,"onclick",'location.href="'+x+'"'),b(M,"class","highcharts-anchor"),S(M,{cursor:"pointer"}))," "!==(o=i(o.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(M.appendChild(C.createTextNode(o)),p?w.dx=0:c&&null!==u&&(w.x=u),b(M,w),a.appendChild(M),!p&&r&&(!Z&&l&&S(M,{display:"block"}),b(M,"dy",e(M))),f){var A=o.replace(/([^\^])-/g,"$1- ").split(" ");w=!y&&(1<d.length||c||1<A.length),x=0;var T=e(M);if(v)s=h.truncate(t,M,o,void 0,0,Math.max(0,f-parseInt(k||12,10)),function(t,e){return t.substring(0,e)+"\u2026"});else if(w)for(;A.length;)A.length&&!y&&0<x&&(M=C.createElementNS(K,"tspan"),b(M,{dy:T,x:u}),m&&b(M,"style",m),M.appendChild(C.createTextNode(A.join(" ").replace(/- /g,"-"))),a.appendChild(M)),h.truncate(t,M,null,A,0===x?g:0,f,function(t,e){return A.slice(0,e).join(" ").replace(/- /g,"-")}),g=t.actualWidth,x++}p++}}}),r=r||a.childNodes.length}),v&&s&&t.attr("title",i(t.textStr,["&lt;","&gt;"])),g&&g.removeChild(a),x&&t.applyTextOutline&&t.applyTextOutline(x)):a.appendChild(C.createTextNode(i(c)))}},getContrast:function(t){return(t=w(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,n,s,o,r,a,h){var l,c,d,p,u=this.label(t,e,i,h,null,null,null,null,"button"),g=0;return u.attr(X({padding:8,r:2},s)),s=X({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},s),l=s.style,delete s.style,o=X(s,{fill:"#e6e6e6"},o),c=o.style,delete o.style,r=X(s,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},r),d=r.style,delete r.style,a=X(s,{style:{color:"#cccccc"}},a),p=a.style,delete a.style,v(u.element,R?"mouseover":"mouseenter",function(){3!==g&&u.setState(1)}),v(u.element,R?"mouseout":"mouseleave",function(){3!==g&&u.setState(g)}),u.setState=function(t){1!==t&&(u.state=g=t),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),u.attr([s,o,r,a][t||0]).css([l,c,d,p][t||0])},u.attr(s).css(I({cursor:"default"},l)),u.on("click",function(t){3!==g&&n.call(u,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return E(t)?e.d=t:G(t)&&I(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=G(t)?t:{x:t,y:e,r:i},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,n,s,o){return G(t)?(e=(n=t).y,i=n.r,t=n.x):n={innerR:n,start:s,end:o},(t=this.symbol("arc",t,e,i,i,n)).r=i,t},rect:function(t,e,i,n,s,o){s=G(t)?t.r:s;var r=this.createElement("rect");return t=G(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(n,0)},void 0!==o&&(t.strokeWidth=o,t=r.crisp(t)),t.fill="none",s&&(t.r=s),r.rSetter=function(t,e,i){b(i,{rx:t,ry:t})},r.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,s=n.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Y(i,!0)?void 0:0});s--;)n[s].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,n,s,o){function r(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)}function a(e){r(h.element,t),o.call(h,e)}var h,l={preserveAspectRatio:"none"};return 1<arguments.length&&I(l,{x:e,y:i,width:n,height:s}),h=this.createElement("image").attr(l),o?(r(h.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new $.Image,v(l,"load",a),l.src=t,l.complete&&a({})):r(h.element,t),h},symbol:function(t,e,i,n,s,o){var r,a,h,l=this,c=/^url\((.*?)\)$/,d=c.test(t),p=!d&&(this.symbols[t]?t:"circle"),u=p&&this.symbols[p],g=A(e)&&u&&u.call(this.symbols,Math.round(e),Math.round(i),n,s,o);return u?((r=this.path(g)).attr("fill","none"),I(r,{symbolName:p,x:e,y:i,width:n,height:s}),o&&I(r,o)):d&&(a=t.match(c)[1],(r=this.image(a)).imgwidth=Y(q[a]&&q[a].width,o&&o.width),r.imgheight=Y(q[a]&&q[a].height,o&&o.height),h=function(){r.attr({width:r.width,height:r.height})},P(["width","height"],function(t){r[t+"Setter"]=function(t,e){var i={},n=this["img"+e],s="width"===e?"translateX":"translateY";this[e]=t,A(n)&&(this.element&&this.element.setAttribute(e,n),this.alignByTranslate||(i[s]=((this[e]||0)-n)/2,this.attr(i)))}}),A(e)&&r.attr({x:e,y:i}),r.isImg=!0,A(r.imgwidth)&&A(r.imgheight)?h():(r.attr({width:0,height:0}),M("img",{onload:function(){var t=k[l.chartIndex];0===this.width&&(S(this,{position:"absolute",top:"-999em"}),C.body.appendChild(this)),q[a]={width:this.width,height:this.height},r.imgwidth=this.width,r.imgheight=this.height,r.element&&h(),this.parentNode&&this.parentNode.removeChild(this),l.imgCount--,!l.imgCount&&t&&t.onload&&t.onload()},src:a}),this.imgCount++)),r},symbols:{circle:function(t,e,i,n){return this.arc(t+i/2,e+n/2,i/2,n/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,s){var o=s.start,r=s.r||i,a=s.r||n||i,h=s.end-.001;i=s.innerR,n=Y(s.open,Math.abs(s.end-s.start-2*Math.PI)<.001);var l=Math.cos(o),c=Math.sin(o),d=Math.cos(h);return h=Math.sin(h),r=["M",t+r*l,e+a*c,"A",r,a,0,s=s.end-o-Math.PI<.001?0:1,1,t+r*d,e+a*h],A(i)&&r.push(n?"M":"L",t+i*d,e+i*h,"A",i,i,0,s,0,t+i*l,e+i*c),r.push(n?"":"Z"),r},callout:function(t,e,i,n,s){var o,r=Math.min(s&&s.r||0,i,n),a=r+6,h=s&&s.anchorX;return s=s&&s.anchorY,o=["M",t+r,e,"L",t+i-r,e,"C",t+i,e,t+i,e,t+i,e+r,"L",t+i,e+n-r,"C",t+i,e+n,t+i,e+n,t+i-r,e+n,"L",t+r,e+n,"C",t,e+n,t,e+n,t,e+n-r,"L",t,e+r,"C",t,e,t,e,t+r,e],h&&i<h?e+a<s&&s<e+n-a?o.splice(13,3,"L",t+i,s-6,t+i+6,s,t+i,s+6,t+i,e+n-r):o.splice(13,3,"L",t+i,n/2,h,s,t+i,n/2,t+i,e+n-r):h&&h<0?e+a<s&&s<e+n-a?o.splice(33,3,"L",t,s+6,t-6,s,t,s-6,t,e+r):o.splice(33,3,"L",t,n/2,h,s,t,n/2,t,e+r):s&&n<s&&t+a<h&&h<t+i-a?o.splice(23,3,"L",h+6,e+n,h,e+n+6,h-6,e+n,t+r,e+n):s&&s<0&&t+a<h&&h<t+i-a&&o.splice(3,3,"L",h-6,e,h,e-6,h+6,e,i-r,e),o}},clipRect:function(t,e,i,n){var s=f.uniqueKey(),o=this.createElement("clipPath").attr({id:s}).add(this.defs);return(t=this.rect(t,e,i,n,0).add(o)).id=s,t.clipPath=o,t.count=0,t},text:function(t,e,i,n){var s={};return!n||!this.allowHTML&&this.forExport?(s.x=Math.round(e||0),i&&(s.y=Math.round(i)),A(t)&&(s.text=t),t=this.createElement("text").attr(s),n||(t.xSetter=function(t,e,i){var n,s,o=i.getElementsByTagName("tspan"),r=i.getAttribute(e);for(s=0;s<o.length;s++)(n=o[s]).getAttribute(e)===r&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,{h:e=(t=/px/.test(t)?j(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12)<24?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=Math.max(n*Math.cos(e*T),4)),{x:-t/3*Math.sin(e*T),y:n}},label:function(t,e,i,n,s,o,r,a,h){var l,c,d,p,u,g,x,v,y,b,k,w,S,M=this,T=M.g("button"!==h&&"label"),L=T.text=M.text("",0,0,r).attr({zIndex:1}),C=0,O=3,D=0,z={},B=/^url\((.*?)\)$/.test(n),E=B;h&&T.addClass("highcharts-"+h),E=B,b=function(){return(v||0)%2/2},k=function(){var t=L.element.style,e={};c=(void 0===d||void 0===p||x)&&A(L.textStr)&&L.getBBox(),T.width=(d||c.width||0)+2*O+D,T.height=(p||c.height||0)+2*O,y=O+M.fontMetrics(t&&t.fontSize,L).b,E&&(l||(T.box=l=M.symbols[n]||B?M.symbol(n):M.rect(),l.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),l.add(T),t=b(),e.x=t,e.y=(a?-y:0)+t),e.width=Math.round(T.width),e.height=Math.round(T.height),l.attr(I(e,z)),z={})},w=function(){var t,e=D+O;t=a?0:y,A(d)&&c&&("center"===x||"right"===x)&&(e+={center:.5,right:1}[x]*(d-c.width)),e===L.x&&t===L.y||(L.attr("x",e),L.hasBoxWidthChanged&&(c=L.getBBox(!0),k()),void 0!==t&&L.attr("y",t)),L.x=e,L.y=t},S=function(t,e){l?l.attr(t,e):z[t]=e},T.onAdd=function(){L.add(T),T.attr({text:t||0===t?t:"",x:e,y:i}),l&&A(s)&&T.attr({anchorX:s,anchorY:o})},T.widthSetter=function(t){d=f.isNumber(t)?t:null},T.heightSetter=function(t){p=t},T["text-alignSetter"]=function(t){x=t},T.paddingSetter=function(t){A(t)&&t!==O&&(O=T.padding=t,w())},T.paddingLeftSetter=function(t){A(t)&&t!==D&&(D=t,w())},T.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==C&&(C=t,c&&T.attr({x:u}))},T.textSetter=function(t){void 0!==t&&L.textSetter(t),k(),w()},T["stroke-widthSetter"]=function(t,e){t&&(E=!0),v=this["stroke-width"]=t,S(e,t)},T.strokeSetter=T.fillSetter=T.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(E=!0),T[e]=t),S(e,t)},T.anchorXSetter=function(t,e){s=T.anchorX=t,S(e,Math.round(t)-b()-u)},T.anchorYSetter=function(t,e){o=T.anchorY=t,S(e,t-g)},T.xSetter=function(t){T.x=t,C&&(t-=C*((d||c.width)+2*O),T["forceAnimate:x"]=!0),u=Math.round(t),T.attr("translateX",u)},T.ySetter=function(t){g=T.y=Math.round(t),T.attr("translateY",g)};var N=T.css;return I(T,{css:function(t){if(t){var e={};t=X(t),P(T.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),L.css(e),"width"in e&&k()}return N.call(T,t)},getBBox:function(){return{width:c.width+2*O,height:c.height+2*O,x:c.x-O,y:c.y-O}},shadow:function(t){return t&&(k(),l&&l.shadow(t)),T},destroy:function(){V(T.element,"mouseenter"),V(T.element,"mouseleave"),L=L&&L.destroy(),l=l&&l.destroy(),m.prototype.destroy.call(T),T=M=k=w=S=null}})}}),f.Renderer=x,Q=(J=zt).attr,tt=J.createElement,et=J.css,it=J.defined,nt=J.each,st=J.extend,ot=J.isFirefox,rt=J.isMS,at=J.isWebKit,ht=J.pick,lt=J.pInt,ct=J.SVGRenderer,dt=J.win,pt=J.wrap,st(J.SVGElement.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,i=ht(e&&t.width,void 0);return e&&(delete t.width,this.textWidth=i,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=st(this.styles,t),et(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,n=this.translateY||0,s=this.x||0,o=this.y||0,r=this.textAlign||"left",a={left:0,center:.5,right:1}[r],h=(c=this.styles)&&c.whiteSpace;if(et(e,{marginLeft:i,marginTop:n}),this.shadows&&nt(this.shadows,function(t){et(t,{marginLeft:i+1,marginTop:n+1})}),this.inverted&&nt(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var l,c=this.rotation,d=this.textWidth&&lt(this.textWidth),p=[c,r,e.innerHTML,this.textWidth,this.textAlign].join();(l=d!==this.oldTextWidth)&&!(l=d>this.oldTextWidth)&&((l=this.textPxLength)||(et(e,{width:"",whiteSpace:h||"nowrap"}),l=e.offsetWidth),l=d<l),l&&/[ \-]/.test(e.textContent||e.innerText)?(et(e,{width:d+"px",display:"block",whiteSpace:h||"normal"}),this.oldTextWidth=d,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,p!==this.cTT&&(h=t.fontMetrics(e.style.fontSize).b,!it(c)||c===(this.oldRotation||0)&&r===this.oldAlign||this.setSpanRotation(c,a,h),this.getSpanCorrection(!it(c)&&this.textPxLength||e.offsetWidth,h,a,c,r)),et(e,{left:s+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),this.cTT=p,this.oldRotation=c,this.oldAlign=r}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},s=this.renderer.getTransformKey();n[s]=n.transform="rotate("+t+"deg)",n[s+(ot?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",et(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),st(ct.prototype,{getTransformKey:function(){return rt&&!/Edge/.test(dt.navigator.userAgent)?"-ms-transform":at?"-webkit-transform":ot?"MozTransform":dt.opera?"-o-transform":""},html:function(t,e,i){function n(t,e){nt(["opacity","visibility"],function(i){pt(t,i+"Setter",function(t,i,n,s){t.call(this,i,n,s),e[n]=i})}),t.addedSetters=!0}var s=this.createElement("span"),o=s.element,r=s.renderer,a=r.isSVG;return s.textSetter=function(t){t!==o.innerHTML&&delete this.bBox,this.textStr=t,o.innerHTML=ht(t,""),s.doTransform=!0},a&&n(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:t,x:Math.round(e),y:Math.round(i)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),o.style.whiteSpace="nowrap",s.css=s.htmlCss,a&&(s.add=function(t){var e,i=r.box.parentNode,a=[];if(this.parentGroup=t){if(!(e=t.div)){for(;t;)a.push(t),t=t.parentGroup;nt(a.reverse(),function(t){function o(e,i){t[i]=e,"translateX"===i?r.left=e+"px":r.top=e+"px",t.doTransform=!0}var r,h,l=Q(t.element,"class");l=l&&{className:l},e=t.div=t.div||tt("div",l,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},e||i),r=e.style,st(t,{classSetter:(h=e,function(t){this.element.setAttribute("class",t),h.className=t}),on:function(){return a[0].div&&s.on.apply({element:a[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||n(t,r)})}}else e=i;return e.appendChild(o),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}}),gt=(ut=zt).defined,ft=ut.each,mt=ut.extend,xt=ut.merge,vt=ut.pick,yt=ut.timeUnits,bt=ut.win,ut.Time=function(t){this.update(t,!1)},ut.Time.prototype={defaultOptions:{},update:function(t){var e=vt(t&&t.useUTC,!0),i=this;this.options=t=xt(!0,this.options||{},t),this.Date=t.Date||bt.Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var n=e.getTime(),s=n-i.getTimezoneOffset(e);return e.setTime(s),t=e["getUTC"+t](),e.setTime(n),t},this.set=function(t,e,n){var s;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==e.getTimezoneOffset()%60?e["set"+t](n):(s=i.getTimezoneOffset(e),s=e.getTime()-s,e.setTime(s),e["setUTC"+t](n),t=i.getTimezoneOffset(e),s=e.getTime()+t,e.setTime(s))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,i){return e["setUTC"+t](i)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,i){return e["set"+t](i)})},makeTime:function(t,e,i,n,s,o){var r,a,h;return this.useUTC?(r=this.Date.UTC.apply(0,arguments),r+=a=this.getTimezoneOffset(r),a!==(h=this.getTimezoneOffset(r))?r+=h-a:a-36e5!==this.getTimezoneOffset(r-36e5)||ut.isSafari||(r-=36e5)):r=new this.Date(t,e,vt(i,1),vt(n,0),vt(s,0),vt(o,0)).getTime(),r},timezoneOffsetFunction:function(){var t=this,e=this.options,i=bt.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(e.timezone){if(i)return function(t){return 6e4*-i.tz(t,e.timezone).utcOffset()};ut.error(25)}return this.useUTC&&e.getTimezoneOffset?function(t){return 6e4*e.getTimezoneOffset(t)}:function(){return 6e4*(t.timezoneOffset||0)}},dateFormat:function(t,e,i){if(!ut.defined(e)||isNaN(e))return ut.defaultOptions.lang.invalidDate||"";t=ut.pick(t,"%Y-%m-%d %H:%M:%S");var n=this,s=new this.Date(e),o=this.get("Hours",s),r=this.get("Day",s),a=this.get("Date",s),h=this.get("Month",s),l=this.get("FullYear",s),c=ut.defaultOptions.lang,d=c.weekdays,p=c.shortWeekdays,u=ut.pad;return s=ut.extend({a:p?p[r]:d[r].substr(0,3),A:d[r],d:u(a),e:u(a,2," "),w:r,b:c.shortMonths[h],B:c.months[h],m:u(h+1),o:h+1,y:l.toString().substr(2,2),Y:l,H:u(o),k:o,I:u(o%12||12),l:o%12||12,M:u(n.get("Minutes",s)),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:u(s.getSeconds()),L:u(Math.floor(e%1e3),3)},ut.dateFormats),ut.objectEach(s,function(i,s){for(;-1!==t.indexOf("%"+s);)t=t.replace("%"+s,"function"==typeof i?i.call(n,e):i)}),i?t.substr(0,1).toUpperCase()+t.substr(1):t},resolveDTLFormat:function(t){return ut.isObject(t,!0)?t:{main:(t=ut.splat(t))[0],from:t[1],to:t[2]}},getTimeTicks:function(t,e,i,n){var s,o,r=this,a=[],h={};s=new r.Date(e);var l,c=t.unitRange,d=t.count||1;if(n=vt(n,1),gt(e)){r.set("Milliseconds",s,c>=yt.second?0:d*Math.floor(r.get("Milliseconds",s)/d)),c>=yt.second&&r.set("Seconds",s,c>=yt.minute?0:d*Math.floor(r.get("Seconds",s)/d)),c>=yt.minute&&r.set("Minutes",s,c>=yt.hour?0:d*Math.floor(r.get("Minutes",s)/d)),c>=yt.hour&&r.set("Hours",s,c>=yt.day?0:d*Math.floor(r.get("Hours",s)/d)),c>=yt.day&&r.set("Date",s,c>=yt.month?1:d*Math.floor(r.get("Date",s)/d)),c>=yt.month&&(r.set("Month",s,c>=yt.year?0:d*Math.floor(r.get("Month",s)/d)),o=r.get("FullYear",s)),c>=yt.year&&r.set("FullYear",s,o-o%d),c===yt.week&&(o=r.get("Day",s),r.set("Date",s,r.get("Date",s)-o+n+(o<n?-7:0))),o=r.get("FullYear",s),n=r.get("Month",s);var p=r.get("Date",s),u=r.get("Hours",s);for(e=s.getTime(),r.variableTimezone&&(l=i-e>4*yt.month||r.getTimezoneOffset(e)!==r.getTimezoneOffset(i)),e=s.getTime(),s=1;e<i;)a.push(e),e=c===yt.year?r.makeTime(o+s*d,0):c===yt.month?r.makeTime(o,n+s*d):!l||c!==yt.day&&c!==yt.week?l&&c===yt.hour&&1<d?r.makeTime(o,n,p,u+s*d):e+c*d:r.makeTime(o,n,p+s*d*(c===yt.day?1:7)),s++;a.push(e),c<=yt.hour&&a.length<1e4&&ft(a,function(t){0==t%18e5&&"000000000"===r.dateFormat("%H%M%S%L",t)&&(h[t]="day")})}return a.info=mt(t,{higherRanks:h,totalRange:c*d}),a}},wt=(kt=zt).color,St=kt.merge,kt.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:kt.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:kt.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:kt.isTouchDevice?25:10,backgroundColor:wt("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},kt.setOptions=function(t){return kt.defaultOptions=St(!0,kt.defaultOptions,t),kt.time.update(St(kt.defaultOptions.global,kt.defaultOptions.time),!1),kt.defaultOptions},kt.getOptions=function(){return kt.defaultOptions},kt.defaultPlotOptions=kt.defaultOptions.plotOptions,kt.time=new kt.Time(St(kt.defaultOptions.global,kt.defaultOptions.time)),kt.dateFormat=function(t,e,i){return kt.time.dateFormat(t,e,i)},At=(Mt=zt).correctFloat,Tt=Mt.defined,Lt=Mt.destroyObjectProperties,Ct=Mt.fireEvent,Pt=Mt.isNumber,It=Mt.merge,Ot=Mt.pick,Dt=Mt.deg2rad,Mt.Tick=function(t,e,i,n,s){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,this.parameters=s||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,i||n||this.addLabel()},Mt.Tick.prototype={addLabel:function(){var t,e,i,n,s=this,o=s.axis,r=o.options,a=o.chart,h=o.categories,l=o.names,c=s.pos,d=Ot(s.options&&s.options.labels,r.labels),p=c===(f=o.tickPositions)[0],u=c===f[f.length-1],g=(h=this.parameters.category||(h?Ot(h[c],l[c],c):c),s.label),f=f.info;o.isDatetimeAxis&&f&&(t=(e=a.time.resolveDTLFormat(r.dateTimeLabelFormats[!r.grid&&f.higherRanks[c]||f.unitName])).main),s.isFirst=p,s.isLast=u,s.formatCtx={axis:o,chart:a,isFirst:p,isLast:u,dateTimeLabelFormat:t,tickPositionInfo:f,value:o.isLog?At(o.lin2log(h)):h,pos:c},r=o.labelFormatter.call(s.formatCtx,this.formatCtx),(n=e&&e.list)&&(s.shortenLabel=function(){for(i=0;i<n.length;i++)if(g.attr({text:o.labelFormatter.call(Mt.extend(s.formatCtx,{dateTimeLabelFormat:n[i]}))}),g.getBBox().width<o.getSlotWidth(s)-2*Ot(d.padding,5))return;g.attr({text:""})}),Tt(g)?g&&g.textStr!==r&&(!g.textWidth||d.style&&d.style.width||g.styles.width||g.css({width:null}),g.attr({text:r})):((s.label=g=Tt(r)&&d.enabled?a.renderer.text(r,0,0,d.useHTML).css(It(d.style)).add(o.labelGroup):null)&&(g.textPxLength=g.getBBox().width),s.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=i.options.labels,s=t.x,o=i.chart.chartWidth,r=i.chart.spacing,a=Ot(i.labelLeft,Math.min(i.pos,r[3])),h=(r=Ot(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,o-r[1])),this.label),l=this.rotation,c={left:0,center:.5,right:1}[i.labelAlign||h.attr("align")],d=h.getBBox().width,p=i.getSlotWidth(this),u=p,g=1,f={};l||"justify"!==Ot(n.overflow,"justify")?l<0&&s-c*d<a?e=Math.round(s/Math.cos(l*Dt)-a):0<l&&r<s+c*d&&(e=Math.round((o-s)/Math.cos(l*Dt))):(o=s+(1-c)*d,s-c*d<a?u=t.x+u*(1-c)-a:r<o&&(u=r-t.x+u*c,g=-1),(u=Math.min(p,u))<p&&"center"===i.labelAlign&&(t.x+=g*(p-u-c*(p-Math.min(d,u)))),(u<d||i.autoRotation&&(h.styles||{}).width)&&(e=u)),e&&(this.shortenLabel?this.shortenLabel():(f.width=e,(n.style||{}).textOverflow||(f.textOverflow="ellipsis"),h.css(f)))},getPosition:function(t,e,i,n){var s=this.axis,o=s.chart,r=n&&o.oldChartHeight||o.chartHeight;return t={x:t?Mt.correctFloat(s.translate(e+i,null,null,n)+s.transB):s.left+s.offset+(s.opposite?(n&&o.oldChartWidth||o.chartWidth)-s.right-s.left:0),y:t?r-s.bottom+s.offset-(s.opposite?s.height:0):Mt.correctFloat(r-s.translate(e+i,null,null,n)-s.transB)},Ct(this,"afterGetPosition",{pos:t}),t},getLabelPosition:function(t,e,i,n,s,o,r,a){var h=this.axis,l=h.transA,c=h.reversed,d=h.staggerLines,p=h.tickRotCorr||{x:0,y:0},u=s.y,g=n||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),f={};return Tt(u)||(u=0===h.side?i.rotation?-8:-i.getBBox().height:2===h.side?p.y+8:Math.cos(i.rotation*Dt)*(p.y-i.getBBox(!1,0).height/2)),t=t+s.x+g+p.x-(o&&n?o*l*(c?-1:1):0),e=e+u-(o&&!n?o*l*(c?1:-1):0),d&&(i=r/(a||1)%d,h.opposite&&(i=d-i-1),e+=h.labelOffset/d*i),f.x=t,f.y=Math.round(e),Ct(this,"afterGetLabelPosition",{pos:f}),f},getMarkPath:function(t,e,i,n,s,o){return o.crispLine(["M",t,e,"L",t+(s?0:-i),e+(s?i:0)],n)},renderGridLine:function(t,e,i){var n=this.axis,s=n.options,o=this.gridLine,r={},a=this.pos,h=this.type,l=Ot(this.tickmarkOffset,n.tickmarkOffset),c=n.chart.renderer,d=h?h+"Grid":"grid",p=s[d+"LineWidth"],u=s[d+"LineColor"];s=s[d+"LineDashStyle"],o||(r.stroke=u,r["stroke-width"]=p,s&&(r.dashstyle=s),h||(r.zIndex=1),t&&(e=0),this.gridLine=o=c.path().attr(r).addClass("highcharts-"+(h?h+"-":"")+"grid-line").add(n.gridGroup)),o&&(i=n.getPlotLinePath(a+l,o.strokeWidth()*i,t,"pass"))&&o[t||this.isNew?"attr":"animate"]({d:i,opacity:e})},renderMark:function(t,e,i){var n=this.axis,s=n.options,o=n.chart.renderer,r=this.type,a=r?r+"Tick":"tick",h=n.tickSize(a),l=this.mark,c=!l,d=t.x;t=t.y;var p=Ot(s[a+"Width"],!r&&n.isXAxis?1:0);s=s[a+"Color"],h&&(n.opposite&&(h[0]=-h[0]),c&&(this.mark=l=o.path().addClass("highcharts-"+(r?r+"-":"")+"tick").add(n.axisGroup),l.attr({stroke:s,"stroke-width":p})),l[c?"attr":"animate"]({d:this.getMarkPath(d,t,h[0],l.strokeWidth()*i,n.horiz,o),opacity:e}))},renderLabel:function(t,e,i,n){var s=(l=this.axis).horiz,o=l.options,r=this.label,a=o.labels,h=a.step,l=Ot(this.tickmarkOffset,l.tickmarkOffset),c=!0,d=t.x;t=t.y,r&&Pt(d)&&(r.xy=t=this.getLabelPosition(d,t,r,s,a,l,n,h),this.isFirst&&!this.isLast&&!Ot(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Ot(o.showLastLabel,1)?c=!1:!s||a.step||a.rotation||e||0===i||this.handleOverflow(t),h&&n%h&&(c=!1),c&&Pt(t.y)?(t.opacity=i,r[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(r.attr("y",-9999),this.isNewLabel=!0))},render:function(t,e,i){var n=(a=this.axis).horiz,s=this.pos,o=Ot(this.tickmarkOffset,a.tickmarkOffset),r=(o=(s=this.getPosition(n,s,o,e)).x,s.y),a=n&&o===a.pos+a.len||!n&&r===a.pos?-1:1;i=Ot(i,1),this.isActive=!0,this.renderGridLine(e,i,a),this.renderMark(s,i,a),this.renderLabel(s,e,i,t),this.isNew=!1,Mt.fireEvent(this,"afterRender")},destroy:function(){Lt(this,this.axis)}};var Bt,Et,Nt,Rt,Gt,Wt,Ht,Xt,Ft,_t,Yt,jt,Vt,Ut,Zt,Kt,qt,$t,Jt,Qt,te,ee,ie,ne,se,oe,re,ae,he,le,ce,de,pe,ue,ge,fe,me,xe,ve,ye,be,ke,we,Se,Me,Ae,Te,Le,Ce,Pe,Ie,Oe,De,ze,Be,Ee,Ne,Re,Ge,We,He,Xe,Fe,_e,Ye,je,Ve,Ue,Ze,Ke,qe,$e,Je,Qe,ti,ei,ii,ni,si,oi,ri,ai,hi,li,ci,di,pi,ui,gi,fi,mi,xi,vi,yi,bi,ki,wi,Si,Mi,Ai,Ti,Li,Ci,Pi,Ii,Oi,Di,zi,Bi,Ei,Ni,Ri,Gi,Wi,Hi,Xi,Fi,_i,Yi,ji,Vi,Ui,Zi,Ki,qi,$i,Ji,Qi,tn,en,nn,sn,on,rn,an,hn,ln,cn,dn,pn,un,gn,fn,mn,xn,vn,yn,bn,kn,wn,Sn,Mn,An,Tn,Ln,Cn,Pn,In,On,Dn,zn,Bn,En,Nn,Rn,Gn,Wn,Hn,Xn,Fn,_n,Yn,jn,Vn,Un,Zn,Kn,qn,$n,Jn,Qn,ts,es,is,ns,ss,os,rs,as,hs,ls,cs,ds,ps,us,gs,fs,ms,xs,vs,ys,bs,ks,ws,Ss,Ms,As,Ts,Ls,Cs,Ps,Is,Os,Ds,zs,Bs,Es,Ns,Rs,Gs,Ws,Hs,Xs,Fs,_s,Ys,js,Vs,Us,Zs,Ks,qs,$s,Js,Qs,to,eo,io,no,so,oo,ro,ao,ho,lo,co,po,uo,go,fo,mo,xo,vo,yo,bo,ko,wo,So,Mo,Ao,To,Lo,Co,Po,Io,Oo,Do,zo,Bo,Eo,No,Ro,Go,Wo,Ho,Xo,Fo,_o,Yo,jo,Vo,Uo,Zo,Ko,qo,$o,Jo,Qo,tr,er,ir,nr,sr,or,rr,ar,hr,lr,cr,dr,pr,ur,gr,fr,mr,xr,vr,yr=(Et=(Bt=zt).addEvent,Nt=Bt.animObject,Rt=Bt.arrayMax,Gt=Bt.arrayMin,Wt=Bt.color,Ht=Bt.correctFloat,Xt=Bt.defaultOptions,Ft=Bt.defined,_t=Bt.deg2rad,Yt=Bt.destroyObjectProperties,jt=Bt.each,Vt=Bt.extend,Ut=Bt.fireEvent,Zt=Bt.format,Kt=Bt.getMagnitude,qt=Bt.grep,$t=Bt.inArray,Jt=Bt.isArray,Qt=Bt.isNumber,te=Bt.isString,ee=Bt.merge,ie=Bt.normalizeTickInterval,ne=Bt.objectEach,se=Bt.pick,oe=Bt.removeEvent,re=Bt.splat,ae=Bt.syncTimeout,he=Bt.Tick,Bt.extend(br.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return Bt.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.chart=t,n.horiz=t.inverted&&!n.isZAxis?!i:i,n.isXAxis=i,n.coll=n.coll||(i?"xAxis":"yAxis"),Ut(this,"init",{userOptions:e}),n.opposite=e.opposite,n.side=e.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(e);var s=this.options,o=s.type;n.labelFormatter=s.labels.formatter||n.defaultLabelFormatter,n.userOptions=e,n.minPixelPadding=0,n.reversed=s.reversed,n.visible=!1!==s.visible,n.zoomEnabled=!1!==s.zoomEnabled,n.hasNames="category"===o||!0===s.categories,n.categories=s.categories||n.hasNames,n.names||(n.names=[],n.names.keys={}),n.plotLinesAndBandsGroups={},n.isLog="logarithmic"===o,n.isDatetimeAxis="datetime"===o,n.positiveValuesOnly=n.isLog&&!n.allowNegativeLog,n.isLinked=Ft(s.linkedTo),n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=s.minRange||s.maxZoom,n.range=s.range,n.offset=s.offset||0,n.stacks={},n.oldStacks={},n.stacksTouched=0,n.max=null,n.min=null,n.crosshair=se(s.crosshair,re(t.options.tooltip.crosshairs)[i?0:1],!1),e=n.options.events,-1===$t(n,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,n):t.axes.push(n),t[n.coll].push(n)),n.series=n.series||[],t.inverted&&!n.isZAxis&&i&&void 0===n.reversed&&(n.reversed=!0),ne(e,function(t,e){Et(n,e,t)}),n.lin2log=s.linearToLogConverter||n.lin2log,n.isLog&&(n.val2lin=n.log2lin,n.lin2val=n.lin2log),Ut(this,"afterInit")},setOptions:function(t){this.options=ee(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],ee(Xt[this.coll],t)),Ut(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.chart.time,s=e.categories,o=this.dateTimeLabelFormat,r=(a=Xt.lang).numericSymbols,a=a.numericSymbolMagnitude||1e3,h=r&&r.length,l=e.options.labels.format;if(e=e.isLog?Math.abs(i):e.tickInterval,l)t=Zt(l,this,n);else if(s)t=i;else if(o)t=n.dateFormat(o,i);else if(h&&1e3<=e)for(;h--&&void 0===t;)(n=Math.pow(a,h+1))<=e&&0==10*i%n&&null!==r[h]&&0!==i&&(t=Bt.numberFormat(i/n,-1)+r[h]);return void 0===t&&(t=1e4<=Math.abs(i)?Bt.numberFormat(i,-1):Bt.numberFormat(i,-1,void 0,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;Ut(this,"getSeriesExtremes",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),jt(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,s=i.options,o=s.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&o<=0&&(o=null),t.isXAxis?(s=i.xData).length&&(i=Gt(s),n=Rt(s),Qt(i)||i instanceof Date||(s=qt(s,Qt),i=Gt(s),n=Rt(s)),s.length&&(t.dataMin=Math.min(se(t.dataMin,s[0],i),i),t.dataMax=Math.max(se(t.dataMax,s[0],n),n))):(i.getExtremes(),n=i.dataMax,i=i.dataMin,Ft(i)&&Ft(n)&&(t.dataMin=Math.min(se(t.dataMin,i),i),t.dataMax=Math.max(se(t.dataMax,n),n)),Ft(o)&&(t.threshold=o),s.softThreshold&&!t.positiveValuesOnly||(t.softThreshold=!1))}})}),Ut(this,"afterGetSeriesExtremes")},translate:function(t,e,i,n,s,o){var r=this.linkedParent||this,a=1,h=0,l=n?r.oldTransA:r.transA;n=n?r.oldMin:r.min;var c=r.minPixelPadding;return s=(r.isOrdinal||r.isBroken||r.isLog&&s)&&r.lin2val,l=l||r.transA,i&&(a*=-1,h=r.len),r.reversed&&(h-=(a*=-1)*(r.sector||r.len)),e?(t=(t*a+h-c)/l+n,s&&(t=r.lin2val(t))):(s&&(t=r.val2lin(t)),t=Qt(n)?a*(t-n)*l+h+a*c+(Qt(o)?l*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,s){var o,r,a,h=this.chart,l=this.left,c=this.top,d=i&&h.oldChartHeight||h.chartHeight,p=i&&h.oldChartWidth||h.chartWidth;function u(t,e,i){return("pass"!==n&&t<e||i<t)&&(n?t=Math.min(Math.max(e,t),i):a=!0),t}return o=this.transB,s=se(s,this.translate(t,null,null,i)),s=Math.min(Math.max(-1e5,s),1e5),t=i=Math.round(s+o),o=r=Math.round(d-s-o),Qt(s)?this.horiz?(o=c,r=d-this.bottom,t=i=u(t,l,l+this.width)):(t=l,i=p-this.right,o=r=u(o,c,c+this.height)):n=!(a=!0),a&&!n?null:h.renderer.crispLine(["M",t,o,"L",i,r],e||1)},getLinearTickPositions:function(t,e,i){var n,s=Ht(Math.floor(e/t)*t);i=Ht(Math.ceil(i/t)*t);var o,r=[];if(Ht(s+t)===s&&(o=20),this.single)return[e];for(e=s;e<=i&&(r.push(e),(e=Ht(e+t,o))!==n);)n=e;return r},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?se(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,n=t.minorTickInterval,s=[],o=t.pointRangePadding||0,r=t.min-o,a=(o=t.max+o)-r;if(a&&a/n<t.len/3)if(t.isLog)jt(this.paddedTicks,function(e,i,o){i&&s.push.apply(s,t.getLogTickPositions(n,o[i-1],o[i],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())s=s.concat(t.getTimeTicks(t.normalizeTimeTickInterval(n),r,o,e.startOfWeek));else for(e=r+(i[0]-r)%n;e<=o&&e!==s[0];e+=n)s.push(e);return 0!==s.length&&t.trimTicks(s),s},adjustForMinRange:function(){var t,e,i,n,s,o,r,a=this.options,h=this.min,l=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(Ft(a.min)||Ft(a.max)?this.minRange=null:(jt(this.series,function(t){for(o=t.xData,n=t.xIncrement?1:o.length-1;0<n;n--)s=o[n]-o[n-1],(void 0===i||s<i)&&(i=s)}),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),l-h<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=[h-(t=((r=this.minRange)-l+h)/2),se(a.min,h-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),l=[(h=Rt(t))+r,se(a.max,h+r)],e&&(l[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(l=Gt(l))-h<r&&(t[0]=l-r,t[1]=se(a.min,l-r),h=Rt(t))),this.min=h,this.max=l},getClosest:function(){var t;return this.categories?t=1:jt(this.series,function(e){var i=e.closestPointRange,n=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&Ft(i)&&n&&(t=Ft(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=Jt(this.categories),n=i?this.categories:this.names,s=t.options.x;return t.series.requireSorting=!1,Ft(s)||(s=!1===this.options.uniqueNames?t.series.autoIncrement():i?$t(t.name,n):se(n.keys[t.name],-1)),-1===s?i||(e=n.length):e=s,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var t=this,e=this.names;0<e.length&&(jt(Bt.keys(e.keys),function(t){delete e.keys[t]}),e.length=0,this.minRange=this.userMinRange,jt(this.series||[],function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),jt(e.points,function(i,n){var s;!i.options||void 0!==(s=t.nameToX(i))&&s!==i.x&&(i.x=s,e.xData[n]=s)})}))},setAxisTranslation:function(t){var e,i=this,n=i.max-i.min,s=i.axisPointRange||0,o=0,r=0,a=i.linkedParent,h=!!i.categories,l=i.transA,c=i.isXAxis;(c||h||s)&&(e=i.getClosest(),a?(o=a.minPointOffset,r=a.pointRangePadding):jt(i.series,function(t){var n=h?1:c?se(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,s=Math.max(s,n),i.single||(o=Math.max(o,te(t)?0:n/2),r=Math.max(r,"on"===t?0:n))}),a=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=o*=a,i.pointRangePadding=r*=a,i.pointRange=Math.min(s,n),c&&(i.closestPointRange=e)),t&&(i.oldTransA=l),i.translationSlope=i.transA=l=i.staticScale||i.len/(n+r||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=l*o,Ut(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,i,n,s,o=this,r=o.chart,a=o.options,h=o.isLog,l=o.isDatetimeAxis,c=o.isXAxis,d=o.isLinked,p=a.maxPadding,u=a.minPadding,g=a.tickInterval,f=a.tickPixelInterval,m=o.categories,x=Qt(o.threshold)?o.threshold:null,v=o.softThreshold;l||m||d||this.getTickAmount(),n=se(o.userMin,a.min),s=se(o.userMax,a.max),d?(o.linkedParent=r[o.coll][a.linkedTo],r=o.linkedParent.getExtremes(),o.min=se(r.min,r.dataMin),o.max=se(r.max,r.dataMax),a.type!==o.linkedParent.options.type&&Bt.error(11,1)):(!v&&Ft(x)&&(o.dataMin>=x?(e=x,u=0):o.dataMax<=x&&(i=x,p=0)),o.min=se(n,e,o.dataMin),o.max=se(s,i,o.dataMax)),h&&(o.positiveValuesOnly&&!t&&Math.min(o.min,se(o.dataMin,o.min))<=0&&Bt.error(10,1),o.min=Ht(o.log2lin(o.min),15),o.max=Ht(o.log2lin(o.max),15)),o.range&&Ft(o.max)&&(o.userMin=o.min=n=Math.max(o.dataMin,o.minFromRange()),o.userMax=s=o.max,o.range=null),Ut(o,"foundExtremes"),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),!(m||o.axisPointRange||o.usePercentage||d)&&Ft(o.min)&&Ft(o.max)&&(r=o.max-o.min)&&(!Ft(n)&&u&&(o.min-=r*u),!Ft(s)&&p&&(o.max+=r*p)),Qt(a.softMin)&&!Qt(o.userMin)&&(o.min=Math.min(o.min,a.softMin)),Qt(a.softMax)&&!Qt(o.userMax)&&(o.max=Math.max(o.max,a.softMax)),Qt(a.floor)&&(o.min=Math.max(o.min,a.floor)),Qt(a.ceiling)&&(o.max=Math.min(o.max,a.ceiling)),v&&Ft(o.dataMin)&&(x=x||0,!Ft(n)&&o.min<x&&o.dataMin>=x?o.min=x:!Ft(s)&&o.max>x&&o.dataMax<=x&&(o.max=x)),o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:d&&!g&&f===o.linkedParent.options.tickPixelInterval?g=o.linkedParent.tickInterval:se(g,this.tickAmount?(o.max-o.min)/Math.max(this.tickAmount-1,1):void 0,m?1:(o.max-o.min)*f/Math.max(o.len,f)),c&&!t&&jt(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&!g&&(o.tickInterval=Math.max(o.pointRange,o.tickInterval)),t=se(a.minTickInterval,o.isDatetimeAxis&&o.closestPointRange),!g&&o.tickInterval<t&&(o.tickInterval=t),l||h||g||(o.tickInterval=ie(o.tickInterval,null,Kt(o.tickInterval),se(a.allowDecimals,!(.5<o.tickInterval&&o.tickInterval<5&&1e3<o.max&&o.max<9999)),!!this.tickAmount)),this.tickAmount||(o.tickInterval=o.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions;t=this.getMinorTickInterval();var n=e.tickPositioner,s=e.startOnTick,o=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t&&this.tickInterval?this.tickInterval/5:t,this.single=this.min===this.max&&Ft(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),!t&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(t=[this.min,this.max],Bt.error(19)):t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()])[0]===t[1]&&(t.length=1),this.tickPositions=t,n=n&&n.apply(this,[this.min,this.max]))&&(this.tickPositions=t=n),this.paddedTicks=t.slice(0),this.trimTicks(t,s,o),this.isLinked||(this.single&&t.length<2&&(this.min-=.5,this.max+=.5),i||n||this.adjustTickAmount()),Ut(this,"afterSetTickPositions")},trimTicks:function(t,e,i){var n=t[0],s=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==n)this.min=n;else for(;this.min-o>t[0];)t.shift();if(i)this.max=s;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&Ft(n)&&!this.options.tickPositions&&t.push((s+n)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||!1===i.startOnTick||!1===i.endOnTick||this.isLog||jt(this.chart[this.coll],function(i){var n=i.options;n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join(),i.series.length&&(e[n]?t=!0:e[n]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!Ft(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,s=e&&e.length,o=se(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(s<i){for(;e.length<i;)e.length%2||this.min===o?e.push(Ht(e[e.length-1]+t)):e.unshift(Ht(e[0]-t));this.transA*=(s-1)/(i-1),this.min=e[0],this.max=e[e.length-1]}else i<s&&(this.tickInterval*=2,this.setTickPositions());if(Ft(n)){for(t=i=e.length;t--;)(3===n&&1==t%2||n<=2&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,jt(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),Ut(this,"afterSetScale")},setExtremes:function(t,e,i,n,s){var o=this,r=o.chart;i=se(i,!0),jt(o.series,function(t){delete t.kdTree}),s=Vt(s,{min:t,max:e}),Ut(o,"setExtremes",s,function(){o.userMin=t,o.userMax=e,o.eventArgs=s,i&&r.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,s=this.options,o=Math.min(i,se(s.min,i));return s=Math.max(n,se(s.max,n)),t===this.min&&e===this.max||(this.allowZoomOutside||(Ft(i)&&(t<o&&(t=o),s<t&&(t=s)),Ft(n)&&(e<o&&(e=o),s<e&&(e=s))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=(r=this.options).offsets||[0,0,0,0],i=this.horiz,n=this.width=Math.round(Bt.relativeLength(se(r.width,t.plotWidth-e[3]+e[1]),t.plotWidth)),s=this.height=Math.round(Bt.relativeLength(se(r.height,t.plotHeight-e[0]+e[2]),t.plotHeight)),o=this.top=Math.round(Bt.relativeLength(se(r.top,t.plotTop+e[0]),t.plotHeight,t.plotTop)),r=this.left=Math.round(Bt.relativeLength(se(r.left,t.plotLeft+e[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-s-o,this.right=t.chartWidth-n-r,this.len=Math.max(i?n:s,0),this.pos=i?r:o},getExtremes:function(){var t=this.isLog;return{min:t?Ht(this.lin2log(this.min)):this.min,max:t?Ht(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(i=this.isLog)?this.lin2log(this.min):this.min,i=i?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=e:1/0===t?t=i:t<e?t=e:i<t&&(t=i),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(se(t,0)-90*this.side+720)%360)&&t<165?"right":195<t&&t<345?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=se(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(n&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,n]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){function t(t){return t=1<(t/=h||1)?Math.ceil(t):1,Ht(t*r)}var e,i,n,s=this.options.labels,o=this.horiz,r=this.tickInterval,a=r,h=this.len/(((this.categories?1:0)+this.max-this.min)/r),l=s.rotation,c=this.labelMetrics(),d=Number.MAX_VALUE;return o?(n=!s.staggerLines&&!s.step&&(Ft(l)?[l]:h<se(s.autoRotationLimit,80)&&s.autoRotation))&&jt(n,function(n){var s;!(n===l||n&&-90<=n&&n<=90)||(s=(i=t(Math.abs(c.h/Math.sin(_t*n))))+Math.abs(n/360))<d&&(d=s,e=n,a=i)}):s.step||(a=t(c.h)),this.autoRotation=n,this.labelRotation=se(e,l),a},getSlotWidth:function(t){var e=this.chart,i=this.horiz,n=this.options.labels,s=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];return t&&t.slotWidth||i&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*this.len/s||!i&&(n.style&&parseInt(n.style.width,10)||o&&o-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,i,n=this.chart,s=n.renderer,o=this.tickPositions,r=this.ticks,a=this.options.labels,h=a&&a.style||{},l=this.horiz,c=this.getSlotWidth(),d=Math.max(1,Math.round(c-2*(a.padding||5))),p={},u=this.labelMetrics(),g=a.style&&a.style.textOverflow,f=0;if(te(a.rotation)||(p.rotation=a.rotation||0),jt(o,function(t){(t=r[t])&&t.label&&t.label.textPxLength>f&&(f=t.label.textPxLength)}),this.maxLabelLength=f,this.autoRotation)d<f&&f>u.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(t=d,!g))for(e="clip",d=o.length;!l&&d--;)i=o[d],(i=r[i].label)&&(i.styles&&"ellipsis"===i.styles.textOverflow?i.css({textOverflow:"clip"}):i.textPxLength>c&&i.css({width:c+"px"}),i.getBBox().height>this.len/o.length-(u.h-u.f)&&(i.specificTextOverflow="ellipsis"));p.rotation&&(t=f>.5*n.chartHeight?.33*n.chartHeight:f,g||(e="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),jt(o,function(i){var n=(i=r[i])&&i.label,s=h.width,o={};n&&(n.attr(p),i.shortenLabel?i.shortenLabel():t&&!s&&"nowrap"!==h.whiteSpace&&(t<n.textPxLength||"SPAN"===n.element.tagName)?(o.width=t,g||(o.textOverflow=n.specificTextOverflow||e),n.css(o)):n.styles&&n.styles.width&&!o.width&&!s&&n.css({width:null}),delete n.specificTextOverflow,i.rotation=p.rotation)},this),this.tickRotCorr=s.rotCorr(u.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||Ft(this.min)&&Ft(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,i=this.chart.renderer,n=this.horiz,s=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(n?{low:"left",middle:"center",high:"right"}:{low:s?"right":"left",middle:"center",high:s?"left":"right"})[o.align]),this.axisTitle=i.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(ee(o.style)).add(this.axisGroup),this.axisTitle.isNew=!0),o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new he(this,t)},getOffset:function(){var t,e,i,n=this,s=(x=n.chart).renderer,o=n.options,r=n.tickPositions,a=n.ticks,h=n.horiz,l=n.side,c=x.inverted&&!n.isZAxis?[1,0,3,2][l]:l,d=0,p=0,u=o.title,g=o.labels,f=0,m=x.axisOffset,x=x.clipOffset,v=[-1,1,1,-1][l],y=o.className,b=n.axisParent;t=n.hasData(),n.showAxis=e=t||se(o.showEmpty,!0),n.staggerLines=n.horiz&&g.staggerLines,n.axisGroup||(n.gridGroup=s.g("grid").attr({zIndex:o.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(y||"")).add(b),n.axisGroup=s.g("axis").attr({zIndex:o.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(y||"")).add(b),n.labelGroup=s.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass("highcharts-"+n.coll.toLowerCase()+"-labels "+(y||"")).add(b)),t||n.isLinked?(jt(r,function(t,e){n.generateTick(t,e)}),n.renderUnsquish(),n.reserveSpaceDefault=0===l||2===l||{1:"left",3:"right"}[l]===n.labelAlign,se(g.reserveSpace,"center"===n.labelAlign||null,n.reserveSpaceDefault)&&jt(r,function(t){f=Math.max(a[t].getLabelSize(),f)}),n.staggerLines&&(f*=n.staggerLines),n.labelOffset=f*(n.opposite?-1:1)):ne(a,function(t,e){t.destroy(),delete a[e]}),u&&u.text&&!1!==u.enabled&&(n.addTitle(e),e&&!1!==u.reserveSpace&&(n.titleOffset=d=n.axisTitle.getBBox()[h?"height":"width"],i=u.offset,p=Ft(i)?0:se(u.margin,h?5:10))),n.renderLine(),n.offset=v*se(o.offset,m[l]),n.tickRotCorr=n.tickRotCorr||{x:0,y:0},s=0===l?-n.labelMetrics().h:2===l?n.tickRotCorr.y:0,p=Math.abs(f)+p,f&&(p=p-s+v*(h?se(g.y,n.tickRotCorr.y+8*v):g.x)),n.axisTitleMargin=se(i,p),n.getMaxLabelDimensions&&(n.maxLabelDimensions=n.getMaxLabelDimensions(a,r)),h=this.tickSize("tick"),m[l]=Math.max(m[l],n.axisTitleMargin+d+v*n.offset,p,t&&r.length&&h?h[0]+v*n.offset:0),o=o.offset?0:2*Math.floor(n.axisLine.strokeWidth()/2),x[c]=Math.max(x[c],o),Ut(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,s=this.horiz,o=this.left+(i?this.width:0)+n;return n=e.chartHeight-this.bottom-(i?this.height:0)+n,i&&(t*=-1),e.renderer.crispLine(["M",s?this.left:o,s?n:this.top,"L",s?e.chartWidth-this.right:o,s?n:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,s=this.options.title,o=t?e:i,r=this.opposite,a=this.offset,h=s.x||0,l=s.y||0,c=this.axisTitle,d=this.chart.renderer.fontMetrics(s.style&&s.style.fontSize,c);return c=Math.max(c.getBBox(null,0).height-d.h-1,0),n={low:o+(t?0:n),middle:o+n/2,high:o+(t?n:0)}[s.align],e=(t?i+this.height:e)+(t?1:-1)*(r?-1:1)*this.axisTitleMargin+[-c,c,d.f,-c][this.side],{x:t?n+h:e+(r?this.width:0)+a+h,y:t?e+l-(r?this.height:0)+a:n+l}},renderMinorTick:function(t){var e=this.chart.hasRendered&&Qt(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new he(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,n=this.ticks,s=this.chart.hasRendered&&Qt(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(n[t]||(n[t]=new he(this,t)),s&&n[t].isNew&&n[t].render(e,!0,-1),n[t].render(e))},render:function(){var t,e,i=this,n=i.chart,s=i.options,o=i.isLog,r=i.isLinked,a=i.tickPositions,h=i.axisTitle,l=i.ticks,c=i.minorTicks,d=i.alternateBands,p=s.stackLabels,u=s.alternateGridColor,g=i.tickmarkOffset,f=i.axisLine,m=i.showAxis,x=Nt(n.renderer.globalAnimation);i.labelEdge.length=0,i.overlap=!1,jt([l,c,d],function(t){ne(t,function(t){t.isActive=!1})}),(i.hasData()||r)&&(i.minorTickInterval&&!i.categories&&jt(i.getMinorTickPositions(),function(t){i.renderMinorTick(t)}),a.length&&(jt(a,function(t,e){i.renderTick(t,e)}),g&&(0===i.min||i.single)&&(l[-1]||(l[-1]=new he(i,-1,null,!0)),l[-1].render(-1))),u&&jt(a,function(s,r){e=void 0!==a[r+1]?a[r+1]+g:i.max-g,0==r%2&&s<i.max&&e<=i.max+(n.polar?-g:g)&&(d[s]||(d[s]=new Bt.PlotLineOrBand(i)),t=s+g,d[s].options={from:o?i.lin2log(t):t,to:o?i.lin2log(e):e,color:u},d[s].render(),d[s].isActive=!0)}),i._addedPlotLB||(jt((s.plotLines||[]).concat(s.plotBands||[]),function(t){i.addPlotBandOrLine(t)}),i._addedPlotLB=!0)),jt([l,c,d],function(t){var e,i=[],s=x.duration;ne(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))}),ae(function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])},t!==d&&n.hasRendered&&s?s:0)}),f&&(f[f.isPlaced?"animate":"attr"]({d:this.getLinePath(f.strokeWidth())}),f.isPlaced=!0,f[m?"show":"hide"](!0)),h&&m&&(s=i.getTitlePosition(),Qt(s.y)?(h[h.isNew?"attr":"animate"](s),h.isNew=!1):(h.attr("y",-9999),h.isNew=!0)),p&&p.enabled&&i.renderStackTotals(),i.isDirty=!1,Ut(this,"afterRender")},redraw:function(){this.visible&&(this.render(),jt(this.plotLinesAndBands,function(t){t.render()})),jt(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,n=i.stacks,s=i.plotLinesAndBands;if(Ut(this,"destroy",{keepEvents:t}),t||oe(i),ne(n,function(t,e){Yt(t),n[e]=null}),jt([i.ticks,i.minorTicks,i.alternateBands],function(t){Yt(t)}),s)for(t=s.length;t--;)s[t].destroy();for(e in jt("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())}),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();ne(i,function(t,e){-1===$t(e,i.keepProps)&&delete i[e]})},drawCrosshair:function(t,e){var i,n,s=this.crosshair,o=se(s.snap,!0),r=this.cross;if(Ut(this,"drawCrosshair",{e:t,point:e}),t=t||this.cross&&this.cross.e,this.crosshair&&!1!==(Ft(e)||!o)){if(o?Ft(e)&&(n=se(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),Ft(n)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:se(e.stackY,e.y)),null,null,null,n)||null),!Ft(i))return void this.hideCrosshair();o=this.categories&&!this.isRadial,r||(this.cross=r=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(o?"category ":"thin ")+s.className).attr({zIndex:se(s.zIndex,2)}).add(),r.attr({stroke:s.color||(o?Wt("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":se(s.width,1)}).css({"pointer-events":"none"}),s.dashStyle&&r.attr({dashstyle:s.dashStyle})),r.show().attr({d:i}),o&&!s.width&&r.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();Ut(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),Bt.Axis=br);function br(){this.init.apply(this,arguments)}return ce=(le=zt).Axis,de=le.getMagnitude,pe=le.normalizeTickInterval,ue=le.timeUnits,ce.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},ce.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],s=ue[(e=n[n.length-1])[0]],o=e[1];for(i=0;i<n.length&&(s=ue[(e=n[i])[0]],o=e[1],!(n[i+1]&&t<=(s*o[o.length-1]+ue[n[i+1][0]])/2));i++);return s===ue.year&&t<5*s&&(o=[1,2,5]),{unitRange:s,count:t=pe(t/s,o,"year"===e[0]?Math.max(de(t/s),1):1),unitName:e[0]}},fe=(ge=zt).Axis,me=ge.getMagnitude,xe=ge.map,ve=ge.normalizeTickInterval,ye=ge.pick,fe.prototype.getLogTickPositions=function(t,e,i,n){var s=this.options,o=this.len,r=[];if(n||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),r=this.getLinearTickPositions(t,e,i);else if(.08<=t){var a,h,l,c,d;for(o=Math.floor(e),s=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<i+1&&!d;o++)for(h=s.length,a=0;a<h&&!d;a++)e<(l=this.log2lin(this.lin2log(o)*s[a]))&&(!n||c<=i)&&void 0!==c&&r.push(c),i<c&&(d=!0),c=l}else e=this.lin2log(e),i=this.lin2log(i),t=n?this.getMinorTickInterval():s.tickInterval,t=ye("auto"===t?null:t,this._minorAutoInterval,s.tickPixelInterval/(n?5:1)*(i-e)/((n?o/this.tickPositions.length:o)||1)),t=ve(t,null,me(t)),r=xe(this.getLinearTickPositions(t,e,i),this.log2lin),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),r},fe.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},fe.prototype.lin2log=function(t){return Math.pow(10,t)},ke=yr,we=(be=zt).arrayMax,Se=be.arrayMin,Me=be.defined,Ae=be.destroyObjectProperties,Te=be.each,Le=be.erase,Ce=be.merge,Pe=be.pick,be.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},be.PlotLineOrBand.prototype={render:function(){be.fireEvent(this,"render");var t=this,e=t.axis,i=e.horiz,n=t.options,s=n.label,o=t.label,r=n.to,a=n.from,h=n.value,l=Me(a)&&Me(r),c=Me(h),d=t.svgElem,p=!d,u=[],g=n.color,f=Pe(n.zIndex,0),m=n.events,x=(u={class:"highcharts-plot-"+(l?"band ":"line ")+(n.className||"")},{}),v=e.chart.renderer,y=l?"bands":"lines";if(e.isLog&&(a=e.log2lin(a),r=e.log2lin(r),h=e.log2lin(h)),c?(u.stroke=g,u["stroke-width"]=n.width,n.dashStyle&&(u.dashstyle=n.dashStyle)):l&&(g&&(u.fill=g),n.borderWidth&&(u.stroke=n.borderColor,u["stroke-width"]=n.borderWidth)),y+="-"+(x.zIndex=f),(g=e.plotLinesAndBandsGroups[y])||(e.plotLinesAndBandsGroups[y]=g=v.g("plot-"+y).attr(x).add()),p&&(t.svgElem=d=v.path().attr(u).add(g)),c)u=e.getPlotLinePath(h,d.strokeWidth());else{if(!l)return;u=e.getPlotBandPath(a,r,n)}return p&&u&&u.length?(d.attr({d:u}),m&&be.objectEach(m,function(e,i){d.on(i,function(e){m[i].apply(t,[e])})})):d&&(u?(d.show(),d.animate({d:u})):(d.hide(),o&&(t.label=o=o.destroy()))),s&&Me(s.text)&&u&&u.length&&0<e.width&&0<e.height&&!u.isFlat?(s=Ce({align:i&&l&&"center",x:i?!l&&4:10,verticalAlign:!i&&l&&"middle",y:i?l?16:10:l?6:-4,rotation:i&&!l&&90},s),this.renderLabel(s,u,l,f)):o&&o.hide(),t},renderLabel:function(t,e,i,n){var s=this.label,o=this.axis.chart.renderer;s||((s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(t.className||"")}).zIndex=n,this.label=s=o.text(t.text,0,0,t.useHTML).attr(s).add(),s.css(t.style)),n=e.xBounds||[e[1],e[4],i?e[6]:e[1]],e=e.yBounds||[e[2],e[5],i?e[7]:e[2]],i=Se(n),o=Se(e),s.align(t,!1,{x:i,y:o,width:we(n)-i,height:we(e)-o}),s.show()},destroy:function(){Le(this.axis.plotLinesAndBands,this),delete this.axis,Ae(this)}},be.extend(ke.prototype,{getPlotBandPath:function(t,e){var i,n=this.getPlotLinePath(e,null,null,!0),s=this.getPlotLinePath(t,null,null,!0),o=[],r=this.horiz,a=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,s&&n)for(t&&(i=s.toString()===n.toString(),a=0),t=0;t<s.length;t+=6)r&&n[t+1]===s[t+1]?(n[t+1]+=a,n[t+4]+=a):r||n[t+2]!==s[t+2]||(n[t+2]+=a,n[t+5]+=a),o.push("M",s[t+1],s[t+2],"L",s[t+4],s[t+5],n[t+4],n[t+5],n[t+1],n[t+2],"z"),o.isFlat=i;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new be.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,s=e.length;s--;)e[s].id===t&&e[s].destroy();Te([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(s=e.length;s--;)e[s].id===t&&Le(e,e[s])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}}),Oe=(Ie=zt).doc,De=Ie.each,ze=Ie.extend,Be=Ie.format,Ee=Ie.isNumber,Ne=Ie.map,Re=Ie.merge,Ge=Ie.pick,We=Ie.splat,He=Ie.syncTimeout,Xe=Ie.timeUnits,Ie.Tooltip=function(){this.init.apply(this,arguments)},Ie.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){De(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t,e=this.chart.renderer,i=this.options;return this.label||(this.outside&&(this.container=t=Ie.doc.createElement("div"),t.className="highcharts-tooltip-container",Ie.css(t,{position:"absolute",top:"1px",pointerEvents:i.style&&i.style.pointerEvents}),Ie.doc.body.appendChild(t),this.renderer=e=new Ie.Renderer(t,0,0)),this.split?this.label=e.g("tooltip"):(this.label=e.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:i.padding,r:i.borderRadius}),this.label.attr({fill:i.backgroundColor,"stroke-width":i.borderWidth}).css(i.style).shadow(i.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(e){t.style.left=e+"px"},this.label.ySetter=function(e){t.style.top=e+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),Re(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,Re(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),Ie.discardElement(this.container)),Ie.clearTimeout(this.hideTimer),Ie.clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var s=this,o=s.now,r=!1!==s.options.animation&&!s.isHidden&&(1<Math.abs(t-o.x)||1<Math.abs(e-o.y)),a=s.followPointer||1<s.len;ze(o,{x:r?(2*o.x+t)/3:t,y:r?(o.y+e)/2:e,anchorX:a?void 0:r?(2*o.anchorX+i)/3:i,anchorY:a?void 0:r?(o.anchorY+n)/2:n}),s.getLabel().attr(o),r&&(Ie.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,e,i,n)},32))},hide:function(t){var e=this;Ie.clearTimeout(this.hideTimer),t=Ge(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=He(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,n,s=this.chart,o=s.pointer,r=s.inverted,a=s.plotTop,h=s.plotLeft,l=0,c=0;return t=We(t),t=this.followPointer&&e?(void 0===e.chartX&&(e=o.normalize(e)),[e.chartX-s.plotLeft,e.chartY-a]):t[0].tooltipPos?t[0].tooltipPos:(De(t,function(t){i=t.series.yAxis,n=t.series.xAxis,l+=t.plotX+(!r&&n?n.left-h:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!r&&i?i.top-a:0)}),l/=t.length,c/=t.length,[r?s.plotWidth-c:l,this.shared&&!r&&1<t.length&&e?e.chartY-a:r?s.plotHeight-l:c]),Ne(t,Math.round)},getPosition:function(t,e,i){function n(t){var e=u;u=g,g=e,s=t}var s,o=this.chart,r=this.distance,a={},h=o.inverted&&i.h||0,l=this.outside,c=l?Oe.documentElement.clientWidth-2*r:o.chartWidth,d=l?Math.max(Oe.body.scrollHeight,Oe.documentElement.scrollHeight,Oe.body.offsetHeight,Oe.documentElement.offsetHeight,Oe.documentElement.clientHeight):o.chartHeight,p=o.pointer.chartPosition,u=["y",d,e,(l?p.top-r:0)+i.plotY+o.plotTop,l?0:o.plotTop,l?d:o.plotTop+o.plotHeight],g=["x",c,t,(l?p.left-r:0)+i.plotX+o.plotLeft,l?0:o.plotLeft,l?c:o.plotLeft+o.plotWidth],f=!this.followPointer&&Ge(i.ttBelow,!o.inverted==!!i.negative);return(o.inverted||1<this.len)&&n(),function t(){!1!==function(t,e,i,n,s,o){var l=i<n-r,c=n+r+i<e,d=n-r-i;if(n+=r,f&&c)a[t]=n;else if(!f&&l)a[t]=d;else if(l)a[t]=Math.min(o-i,d-h<0?d:d-h);else{if(!c)return!1;a[t]=Math.max(s,e<n+h+i?n:n+h)}}.apply(0,u)?!1!==function(t,e,i,n){var s;return n<r||e-r<n?s=!1:a[t]=n<i/2?1:e-i/2<n?e-i-2:n-i/2,s}.apply(0,g)||s||(n(!0),t()):s?a.x=a.y=0:(n(!0),t())}(),a},defaultFormatter:function(t){var e,i=this.points||We(this);return(e=(e=[t.tooltipFooterHeaderFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,e){var i,n,s,o,r=this.options,a=t,h={},l=[];i=r.formatter||this.defaultFormatter,h=this.shared,r.enabled&&(Ie.clearTimeout(this.hideTimer),this.followPointer=We(a)[0].series.tooltipOptions.followPointer,e=(s=this.getAnchor(a,e))[0],n=s[1],!h||a.series&&a.series.noSharedTooltip?h=a.getLabelConfig():(De(a,function(t){t.setState("hover"),l.push(t.getLabelConfig())}),(h={x:a[0].category,y:a[0].y}).points=l,a=a[0]),this.len=l.length,h=i.call(h,this),o=a.series,this.distance=Ge(o.tooltipOptions.distance,16),!1===h?this.hide():(i=this.getLabel(),this.isHidden&&i.attr({opacity:1}).show(),this.split?this.renderSplit(h,We(t)):(r.style.width||i.css({width:this.chart.spacingBox.width}),i.attr({text:h&&h.join?h.join(""):h}),i.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+Ge(a.colorIndex,o.colorIndex)),i.attr({stroke:r.borderColor||a.color||o.color||"#666666"}),this.updatePosition({plotX:e,plotY:n,negative:a.negative,ttBelow:a.ttBelow,h:s[2]||0})),this.isHidden=!1))},renderSplit:function(t,e){var i,n=this,s=[],o=this.chart,r=o.renderer,a=!0,h=this.options,l=0,c=this.getLabel(),d=o.plotTop;Ie.isString(t)&&(t=[!1,t]),De(t.slice(0,e.length+1),function(t,p){if(!1!==t){var u=(p=e[p-1]||{isHeader:!0,plotX:e[0].plotX}).series||n,g=u.tt,f=p.series||{},m="highcharts-color-"+Ge(p.colorIndex,f.colorIndex,"none");g||(u.tt=g=r.label(null,null,null,"callout",null,null,h.useHTML).addClass("highcharts-tooltip-box "+m+(p.isHeader?" highcharts-tooltip-header":"")).attr({padding:h.padding,r:h.borderRadius,fill:h.backgroundColor,stroke:h.borderColor||p.color||f.color||"#333333","stroke-width":h.borderWidth}).add(c)),g.isActive=!0,g.attr({text:t}),g.css(h.style).shadow(h.shadow),f=(t=g.getBBox()).width+g.strokeWidth(),(f=p.isHeader?(l=t.height,o.xAxis[0].opposite&&(i=!0,d-=l),Math.max(0,Math.min(p.plotX+o.plotLeft-f/2,o.chartWidth+(o.scrollablePixels?o.scrollablePixels-o.marginRight:0)-f))):p.plotX+o.plotLeft-Ge(h.distance,16)-f)<0&&(a=!1),t=(p.series&&p.series.yAxis&&p.series.yAxis.pos)+(p.plotY||0),t-=d,p.isHeader&&(t=i?-l:o.plotHeight+l),s.push({target:t,rank:p.isHeader?1:0,size:u.tt.getBBox().height+1,point:p,x:f,tt:g})}}),this.cleanSplit(),Ie.distribute(s,o.plotHeight+l),De(s,function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:a||e.isHeader?t.x:e.plotX+o.plotLeft+Ge(h.distance,16),y:t.pos+d,anchorX:e.isHeader?e.plotX+o.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?o.plotTop+o.plotHeight/2:e.plotY+i.yAxis.pos})})},updatePosition:function(t){var e,i=this.chart,n=this.getLabel(),s=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t),o=t.plotX+i.plotLeft;t=t.plotY+i.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(n.width+e,n.height+e,!1),o+=i.pointer.chartPosition.left-s.x,t+=i.pointer.chartPosition.top-s.y),this.move(Math.round(s.x),Math.round(s.y||0),o,t)},getDateFormat:function(t,e,i,n){var s,o,r=this.chart.time,a=r.dateFormat("%m-%d %H:%M:%S.%L",e),h={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";for(o in Xe){if(t===Xe.week&&+r.dateFormat("%w",e)===i&&"00:00:00.000"===a.substr(6)){o="week";break}if(Xe[o]>t){o=l;break}if(h[o]&&a.substr(h[o])!=="01-01 00:00:00.000".substr(h[o]))break;"week"!==o&&(l=o)}return o&&(s=r.resolveDTLFormat(n[o]).main),s},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var n=i&&i.closestPointRange;return(n?this.getDateFormat(n,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var i=t.series,n=i.tooltipOptions,s=n.xDateFormat,o=i.xAxis,r=o&&"datetime"===o.options.type&&Ee(t.key),a=n[e+"Format"];return r&&!s&&(s=this.getXDateFormat(t,n,o)),r&&s&&De(t.point&&t.point.tooltipDateKeys||["key"],function(t){a=a.replace("{point."+t+"}","{point."+t+":"+s+"}")}),Be(a,{point:t,series:i},this.chart.time)},bodyFormatter:function(t){return Ne(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}},_e=(Fe=zt).addEvent,Ye=Fe.attr,je=Fe.charts,Ve=Fe.color,Ue=Fe.css,Ze=Fe.defined,Ke=Fe.each,qe=Fe.extend,$e=Fe.find,Je=Fe.fireEvent,Qe=Fe.isNumber,ti=Fe.isObject,ei=Fe.offset,ii=Fe.pick,ni=Fe.splat,si=Fe.Tooltip,Fe.Pointer=function(t,e){this.init(t,e)},Fe.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},si&&(t.tooltip=new si(t,e.tooltip),this.followTouchMove=ii(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=(n=this.chart).options.chart,i=e.zoomType||"",n=n.inverted;/touch/.test(t.type)&&(i=ii(e.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=t&&!n||i&&n,this.zoomVert=i&&!n||t&&n,this.hasZoom=t||i},normalize:function(t,e){var i;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=ei(this.chart.container)),qe(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Ke(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,i){var n;return Ke(t,function(t){var s=!(t.noSharedTooltip&&e)&&t.options.findNearestPointBy.indexOf("y")<0;if(t=t.searchPoint(i,s),(s=ti(t,!0))&&!(s=!ti(n,!0))){s=n.distX-t.distX;var o=n.dist-t.dist,r=(t.series.group&&t.series.group.zIndex)-(n.series.group&&n.series.group.zIndex);s=0<(0!==s&&e?s:0!=o?o:0!=r?r:n.series.index>t.series.index?-1:1)}s&&(n=t)}),n},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=(n=t.series).xAxis,n=n.yAxis,s=ii(t.clientX,t.plotX),o=t.shapeArgs;return i&&n?e?{chartX:i.len+i.pos-s,chartY:n.len+n.pos-t.plotY}:{chartX:s+i.pos,chartY:t.plotY+n.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(t,e,i,n,s,o,r){var a,h=[],l=r&&r.isBoosting;return n=!(!n||!t),r=e&&!e.stickyTracking?[e]:Fe.grep(i,function(t){return t.visible&&!(!s&&t.directTouch)&&ii(t.options.enableMouseTracking,!0)&&t.stickyTracking}),e=(a=n?t:this.findNearestKDPoint(r,s,o))&&a.series,a&&(s&&!e.noSharedTooltip?(r=Fe.grep(i,function(t){return t.visible&&!(!s&&t.directTouch)&&ii(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),Ke(r,function(t){var e=$e(t.points,function(t){return t.x===a.x&&!t.isNull});ti(e)&&(l&&(e=t.getPoint(e)),h.push(e))})):h.push(a)),{hoverPoint:a,hoverSeries:e,hoverPoints:h}},runPointActions:function(t,e){var i,n=this.chart,s=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,o=!!s&&s.shared,r=(a=e||n.hoverPoint)&&a.series||n.hoverSeries,a=(r=this.getHoverData(a,r,n.series,"touchmove"!==t.type&&(!!e||r&&r.directTouch&&this.isDirectTouch),o,t,{isBoosting:n.isBoosting})).hoverPoint;if(i=r.hoverPoints,e=(r=r.hoverSeries)&&r.tooltipOptions.followPointer,o=o&&r&&!r.noSharedTooltip,a&&(a!==n.hoverPoint||s&&s.isHidden)){if(Ke(n.hoverPoints||[],function(t){-1===Fe.inArray(t,i)&&t.setState()}),Ke(i||[],function(t){t.setState("hover")}),n.hoverSeries!==r&&r.onMouseOver(),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!a.series)return;a.firePointEvent("mouseOver"),n.hoverPoints=i,n.hoverPoint=a,s&&s.refresh(o?i:a,t)}else e&&s&&!s.isHidden&&(a=s.getAnchor([{}],t),s.updatePosition({plotX:a[0],plotY:a[1]}));this.unDocMouseMove||(this.unDocMouseMove=_e(n.container.ownerDocument,"mousemove",function(t){var e=je[Fe.hoverChartIndex];e&&e.pointer.onDocumentMouseMove(t)})),Ke(n.axes,function(e){var n=ii(e.crosshair.snap,!0),s=n?Fe.find(i,function(t){return t.series[e.coll]===e}):void 0;s||!n?e.drawCrosshair(t,s):e.hideCrosshair()})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,s=i.hoverPoint,o=i.hoverPoints,r=i.tooltip,a=r&&r.shared?o:s;t&&a&&Ke(ni(a),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?r&&a&&(r.refresh(a),r.shared&&o?Ke(o,function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):s&&(s.setState(s.state,!0),Ke(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,s)}))):(s&&s.onMouseOut(),o&&Ke(o,function(t){t.setState()}),n&&n.onMouseOut(),r&&r.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),Ke(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;Ke(n.series,function(s){i=t||s.getPlotBox(),s.xAxis&&s.xAxis.zoomEnabled&&s.group&&(s.group.attr(i),s.markerGroup&&(s.markerGroup.attr(i),s.markerGroup.clip(e?n.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,s=t.chartX,o=t.chartY,r=this.zoomHor,a=this.zoomVert,h=i.plotLeft,l=i.plotTop,c=i.plotWidth,d=i.plotHeight,p=this.selectionMarker,u=this.mouseDownX,g=this.mouseDownY,f=n.panKey&&t[n.panKey+"Key"];p&&p.touch||(s<h?s=h:h+c<s&&(s=h+c),o<l?o=l:l+d<o&&(o=l+d),this.hasDragged=Math.sqrt(Math.pow(u-s,2)+Math.pow(g-o,2)),10<this.hasDragged&&(e=i.isInsidePlot(u-h,g-l),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!f&&!p&&(this.selectionMarker=p=i.renderer.rect(h,l,r?1:c,a?1:d,0).attr({fill:n.selectionMarkerFill||Ve("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),p&&r&&(s-=u,p.attr({width:Math.abs(s),x:(0<s?0:s)+u})),p&&a&&(s=o-g,p.attr({height:Math.abs(s),y:(0<s?0:s)+g})),e&&!p&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s,o={originalEvent:t,xAxis:[],yAxis:[]},r=this.selectionMarker,a=r.attr?r.attr("x"):r.x,h=r.attr?r.attr("y"):r.y,l=r.attr?r.attr("width"):r.width,c=r.attr?r.attr("height"):r.height;(this.hasDragged||n)&&(Ke(i.axes,function(i){if(i.zoomEnabled&&Ze(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var r=i.horiz,d="touchend"===t.type?i.minPixelPadding:0,p=i.toValue((r?a:h)+d);r=i.toValue((r?a+l:h+c)-d),o[i.coll].push({axis:i,min:Math.min(p,r),max:Math.max(p,r)}),s=!0}}),s&&Je(i,"selection",o,function(t){i.zoom(qe(t,n?{animation:!1}:null))})),Qe(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),n&&this.scaleGroups()}i&&Qe(i.index)&&(Ue(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){2!==(t=this.normalize(t)).button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(t){je[Fe.hoverChartIndex]&&je[Fe.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(t){var e=je[Fe.hoverChartIndex];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;Ze(Fe.hoverChartIndex)&&je[Fe.hoverChartIndex]&&je[Fe.hoverChartIndex].mouseIsDown||(Fe.hoverChartIndex=e.index),(t=this.normalize(t)).returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=Ye(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,s=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Je(i.series,"click",qe(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(qe(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-s)&&Je(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container,i=e.ownerDocument;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},this.unbindContainerMouseLeave=_e(e,"mouseleave",t.onContainerMouseLeave),Fe.unbindDocumentMouseUp||(Fe.unbindDocumentMouseUp=_e(i,"mouseup",t.onDocumentMouseUp)),Fe.hasTouch&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},Fe.unbindDocumentTouchEnd||(Fe.unbindDocumentTouchEnd=_e(i,"touchend",t.onDocumentTouchEnd)))},destroy:function(){var t=this;t.unDocMouseMove&&t.unDocMouseMove(),this.unbindContainerMouseLeave(),Fe.chartCount||(Fe.unbindDocumentMouseUp&&(Fe.unbindDocumentMouseUp=Fe.unbindDocumentMouseUp()),Fe.unbindDocumentTouchEnd&&(Fe.unbindDocumentTouchEnd=Fe.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),Fe.objectEach(t,function(e,i){t[i]=null})}},ri=(oi=zt).charts,ai=oi.each,hi=oi.extend,li=oi.map,ci=oi.noop,di=oi.pick,hi(oi.Pointer.prototype,{pinchTranslate:function(t,e,i,n,s,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,n,s,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,n,s,o)},pinchTranslateDirection:function(t,e,i,n,s,o,r,a){var h,l,c,d=this.chart,p=t?"x":"y",u=t?"X":"Y",g="chart"+u,f=t?"width":"height",m=d["plot"+(t?"Left":"Top")],x=a||1,v=d.inverted,y=d.bounds[t?"h":"v"],b=1===e.length,k=e[0][g],w=i[0][g],S=!b&&e[1][g],M=!b&&i[1][g];(i=function(){!b&&20<Math.abs(k-S)&&(x=a||Math.abs(w-M)/Math.abs(k-S)),l=(m-w)/x+k,h=d["plot"+(t?"Width":"Height")]/x})(),(e=l)<y.min?(e=y.min,c=!0):e+h>y.max&&(e=y.max-h,c=!0),c?(w-=.8*(w-r[p][0]),b||(M-=.8*(M-r[p][1])),i()):r[p]=[w,M],v||(o[p]=l-m,o[f]=h),o=v?1/x:x,s[f]=h,s[p]=e,n[v?t?"scaleY":"scaleX":"scale"+u]=x,n["translate"+u]=o*m+(w-o*k)},pinch:function(t){var e=this,i=e.chart,n=e.pinchDown,s=t.touches,o=s.length,r=e.lastValidTouch,a=e.hasZoom,h=e.selectionMarker,l={},c=1===o&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),d={};1<o&&(e.initiated=!0),a&&e.initiated&&!c&&t.preventDefault(),li(s,function(t){return e.normalize(t)}),"touchstart"===t.type?(ai(s,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),r.x=[n[0].chartX,n[1]&&n[1].chartX],r.y=[n[0].chartY,n[1]&&n[1].chartY],ai(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,s=t.toPixels(di(t.options.min,t.dataMin)),o=t.toPixels(di(t.options.max,t.dataMax)),r=Math.max(s,o);e.min=Math.min(t.pos,Math.min(s,o)-n),e.max=Math.max(t.pos+t.len,r+n)}}),e.res=!0):e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):n.length&&(h||(e.selectionMarker=h=hi({destroy:ci,touch:!0},i.plotBox)),e.pinchTranslate(n,s,l,h,d,r),e.hasPinched=a,e.scaleGroups(l,d),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i,n=this.chart;n.index!==oi.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),oi.hoverChartIndex=n.index,1===t.touches.length?(t=this.normalize(t),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&!n.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(i=!!(e=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2))),di(i,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){ri[oi.hoverChartIndex]&&ri[oi.hoverChartIndex].pointer.drop(t)}}),function(t){var e=t.addEvent,i=t.charts,n=t.css,s=t.doc,o=t.extend,r=t.noop,a=t.Pointer,h=t.removeEvent,l=t.win,c=t.wrap;if(!t.hasTouch&&(l.PointerEvent||l.MSPointerEvent)){function d(e,n,s,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(o(e),(o=i[t.hoverChartIndex].pointer)[n]({type:s,target:e.currentTarget,preventDefault:r,touches:function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(p,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e}()}))}var p={},u=!!l.PointerEvent;o(a.prototype,{onContainerPointerDown:function(t){d(t,"onContainerTouchStart","touchstart",function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){d(t,"onContainerTouchMove","touchmove",function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY},p[t.pointerId].target||(p[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){d(t,"onDocumentTouchEnd","touchend",function(t){delete p[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,u?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,u?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(s,u?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(a.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&n(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(a.prototype,"destroy",function(t){this.batchMSEvents(h),t.call(this)})}}(zt),ui=(pi=zt).addEvent,gi=pi.css,fi=pi.discardElement,mi=pi.defined,xi=pi.each,vi=pi.fireEvent,yi=pi.isFirefox,bi=pi.marginNames,ki=pi.merge,wi=pi.pick,Si=pi.setAnimation,Mi=pi.stableSort,Ai=pi.win,Ti=pi.wrap,pi.Legend=function(t,e){this.init(t,e)},pi.Legend.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),ui(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=ui(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=wi(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=ki(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=wi(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var i=this.chart;this.setOptions(ki(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,wi(e,!0)&&i.redraw(),vi(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this.options,n=t.legendItem,s=t.legendLine,o=t.legendSymbol,r=this.itemHiddenStyle.color,a=(i=e?i.itemStyle.color:r,e&&t.color||r),h=t.options&&t.options.marker,l={fill:a};n&&n.css({fill:i,color:i}),s&&s.attr({stroke:a}),o&&(h&&o.isMarker&&(l=t.pointAttribs(),e||(l.stroke=l.fill=r)),o.attr(l)),vi(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){xi(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=(i=this.options).symbolPadding,i=!i.rtl,n=(s=t._legendItemPos)[0],s=s[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t[mi(t.translateY)?"animate":"attr"]({translateX:i?n:this.legendWidth-n-2*e-4,translateY:s}),o&&(o.x=n,o.y=s)},destroyItem:function(t){var e=t.checkbox;xi(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&fi(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}xi(this.getAllItems(),function(e){xi(["legendItem","legendGroup"],t,e)}),xi("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,n=this.titleHeight;e&&(t=e.translateY,xi(this.allItems,function(s){var o,r=s.checkbox;r&&(o=t+n+r.y+(this.scrollOffset||0)+3,gi(r,{left:e.translateX+s.checkboxOffset+r.x-20+"px",top:o+"px",display:this.proximate||t-6<o&&o<t+i-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,n=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),n=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?pi.format(e.labelFormat,t,this.chart.time):e.labelFormatter.call(t)})},renderItem:function(t){var e=this.chart,i=e.renderer,n=this.options,s=this.symbolWidth,o=n.symbolPadding,r=this.itemStyle,a=this.itemHiddenStyle,h="horizontal"===n.layout?wi(n.itemDistance,20):0,l=!n.rtl,c=t.legendItem,d=!t.series,p=!d&&t.series.drawLegendSymbol?t.series:t,u=p.options,g=(h=s+o+h+((u=this.createCheckboxForItem&&u&&u.showCheckbox)?20:0),n.useHTML),f=t.options.className;c||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+p.type+"-series highcharts-color-"+t.colorIndex+(f?" "+f:"")+(d?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=c=i.text("",l?s+o:-o,this.baseline||0,g).css(ki(t.visible?r:a)).attr({align:l?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(s=r.fontSize,this.fontMetrics=i.fontMetrics(s,c),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,c.attr("y",this.baseline)),this.symbolHeight=n.symbolHeight||this.fontMetrics.f,p.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,c,g),u&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),r.width||c.css({width:(n.itemWidth||n.width||e.spacingBox.width)-h}),this.setText(t),e=c.getBBox(),t.itemWidth=t.checkboxOffset=n.itemWidth||t.legendItemWidth||e.width+h,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,i=this.padding,n="horizontal"===e.layout,s=t.itemHeight,o=e.itemMarginBottom||0,r=this.itemMarginTop,a=n?wi(e.itemDistance,20):0,h=e.width,l=h||this.chart.spacingBox.width-2*i-e.x;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth,n&&this.itemX-i+e>l&&(this.itemX=i,this.itemY+=r+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=r+this.itemY+o,this.lastLineHeight=Math.max(s,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],n?this.itemX+=e:(this.itemY+=r+s+o,this.lastLineHeight=s),this.offsetWidth=h||Math.max((n?this.itemX-i-(t.checkbox?0:a):e)+i,this.offsetWidth)},getAllItems:function(){var t=[];return xi(this.chart.series,function(e){var i=e&&e.options;e&&wi(i.showInLegend,!mi(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),vi(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var i=this.chart,n=this.options,s=this.getAlignment();s&&xi([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,r){o.test(s)&&!mi(t[r])&&(i[bi[r]]=Math.max(i[bi[r]],i.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*n[r%2?"x":"y"]+wi(n.margin,12)+e[r]+(0===r&&void 0!==i.options.title.margin?i.titleOffset+i.options.title.margin:0)))})},proximatePositions:function(){var t=this.chart,e=[],i="left"===this.options.align;xi(this.allItems,function(n){var s,o;s=i,n.xAxis&&n.points&&(n.xAxis.options.reversed&&(s=!s),s=pi.find(s?n.points:n.points.slice(0).reverse(),function(t){return pi.isNumber(t.plotY)}),o=n.legendGroup.getBBox().height,e.push({target:n.visible?(s?s.plotY:n.xAxis.height)-.3*o:t.plotHeight,size:o,item:n}))},this),pi.distribute(e,t.plotHeight),xi(e,function(e){e.item._legendItemPos[1]=t.plotTop-t.spacing[0]+e.pos})},render:function(){var t,e,i,n=this.chart,s=n.renderer,o=this.group,r=this.box,a=this.options,h=this.padding;this.itemX=h,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,o||(this.group=o=s.g("legend").attr({zIndex:7}).add(),this.contentGroup=s.g().attr({zIndex:1}).add(o),this.scrollGroup=s.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),Mi(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),a.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,xi(t,this.renderItem,this),xi(t,this.layoutItem,this),t=(a.width||this.offsetWidth)+h,i=this.lastItemY+this.lastLineHeight+this.titleHeight,i=this.handleOverflow(i),i+=h,r||(this.box=r=s.rect().addClass("highcharts-legend-box").attr({r:a.borderRadius}).add(o),r.isNew=!0),r.attr({stroke:a.borderColor,"stroke-width":a.borderWidth||0,fill:a.backgroundColor||"none"}).shadow(a.shadow),0<t&&0<i&&(r[r.isNew?"attr":"animate"](r.crisp.call({},{x:0,y:0,width:t,height:i},r.strokeWidth())),r.isNew=!1),r[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=i,e&&(s=n.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(s=ki(s,{y:s.y+n.titleOffset+n.options.title.margin})),o.align(ki(a,{width:t,height:i,verticalAlign:this.proximate?"top":a.verticalAlign}),!0,s)),this.proximate||this.positionItems()},handleOverflow:function(t){function e(t){"number"==typeof t?c.attr({height:t}):c&&(s.clipRect=c.destroy(),s.contentGroup.clip()),s.contentGroup.div&&(s.contentGroup.div.style.clip=t?"rect("+h+"px,9999px,"+(h+t)+"px,0)":"auto")}var i,n,s=this,o=(l=this.chart).renderer,r=this.options,a=r.y,h=this.padding,l=l.spacingBox.height+("top"===r.verticalAlign?-a:a)-h,c=(a=r.maxHeight,this.clipRect),d=r.navigation,p=wi(d.animation,!0),u=d.arrowSize||12,g=this.nav,f=this.pages,m=this.allItems;return"horizontal"!==r.layout||"middle"===r.verticalAlign||r.floating||(l/=2),a&&(l=Math.min(l,a)),f.length=0,l<t&&!1!==d.enabled?(this.clipHeight=i=Math.max(l-20-this.titleHeight-h,0),this.currentPage=wi(this.currentPage,1),this.fullHeight=t,xi(m,function(t,e){var s=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),r=f.length;(!r||s-f[r-1]>i&&(n||s)!==f[r-1])&&(f.push(n||s),r++),t.pageIx=r-1,n&&(m[e-1].pageIx=r-1),e===m.length-1&&s+o-f[r-1]>i&&(f.push(s),t.pageIx=r),s!==n&&(n=s)}),c||(c=s.clipRect=o.clipRect(0,h,9999,0),s.contentGroup.clip(c)),e(i),g||(this.nav=g=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,u,u).on("click",function(){s.scroll(-1,p)}).add(g),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation").css(d.style).add(g),this.down=o.symbol("triangle-down",0,0,u,u).on("click",function(){s.scroll(1,p)}).add(g)),s.scroll(0),t=l):g&&(e(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length;t=this.currentPage+t;var s=this.clipHeight,o=this.options.navigation,r=this.pager,a=this.padding;n<t&&(t=n),0<t&&(void 0!==e&&Si(e,this.chart),this.nav.attr({translateX:a,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),r.attr({text:t+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,class:t===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===n?o.inactiveColor:o.activeColor}).css({cursor:t===n?"default":"pointer"}),this.scrollOffset=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},pi.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,n=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(n?(t.symbolWidth-i)/2:0,t.baseline-i+1,n?i:t.symbolWidth,i,wi(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker,s=t.symbolWidth,o=t.symbolHeight,r=o/2,a=this.chart.renderer,h=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":i.lineWidth||0},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=a.path(["M",0,t,"L",s,t]).addClass("highcharts-graph").attr(e).add(h),n&&!1!==n.enabled&&s&&(i=Math.min(wi(n.radius,r),r),0===this.symbol.indexOf("url")&&(n=ki(n,{width:o,height:o}),i=0),this.legendSymbol=n=a.symbol(this.symbol,s/2-i,t-i,2*i,2*i,n).addClass("highcharts-point").add(h),n.isMarker=!0)}},(/Trident\/7\.0/.test(Ai.navigator.userAgent)||yi)&&Ti(pi.Legend.prototype,"positionItem",function(t,e){function i(){e._legendItemPos&&t.call(n,e)}var n=this;i(),setTimeout(i)}),Ci=(Li=zt).addEvent,Pi=Li.animate,Ii=Li.animObject,Oi=Li.attr,Di=Li.doc,zi=Li.Axis,Bi=Li.createElement,Ei=Li.defaultOptions,Ni=Li.discardElement,Ri=Li.charts,Gi=Li.css,Wi=Li.defined,Hi=Li.each,Xi=Li.extend,Fi=Li.find,_i=Li.fireEvent,Yi=Li.grep,ji=Li.isNumber,Vi=Li.isObject,Ui=Li.isString,Zi=Li.Legend,Ki=Li.marginNames,qi=Li.merge,$i=Li.objectEach,Ji=Li.Pointer,Qi=Li.pick,tn=Li.pInt,en=Li.removeEvent,nn=Li.seriesTypes,sn=Li.splat,on=Li.syncTimeout,rn=Li.win,an=Li.Chart=function(){this.getArgs.apply(this,arguments)},Li.chart=function(t,e,i){return new an(t,e,i)},Xi(an.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(Ui(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var i,n,s=t.series,o=t.plotOptions||{};_i(this,"init",{args:arguments},function(){for(n in t.series=null,(i=qi(Ei,t)).plotOptions)i.plotOptions[n].tooltip=o[n]&&qi(o[n].tooltip)||void 0;i.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,i.series=t.series=s,this.userOptions=t;var r=i.chart,a=r.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.time=t.time&&Li.keys(t.time).length?new Li.Time(t.time):Li.time,this.hasCartesianSeries=r.showAxes;var h=this;h.index=Ri.length,Ri.push(h),Li.chartCount++,a&&$i(a,function(t,e){Ci(h,e,t)}),h.xAxis=[],h.yAxis=[],h.pointCount=h.colorCounter=h.symbolCounter=0,_i(h,"afterInit"),h.firstRender()})},initSeries:function(t){var e=this.options.chart;return(e=nn[t.type||e.type||e.defaultSeriesType])||Li.error(17,!0),(e=new e).init(this,t),e},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,i){var n=i?e:t;return t=i?t:e,0<=n&&n<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(t){_i(this,"beforeRedraw");var e,i,n,s=this.axes,o=this.series,r=this.pointer,a=this.legend,h=this.userOptions.legend,l=this.isDirtyLegend,c=this.hasCartesianSeries,d=this.isDirtyBox,p=this.renderer,u=p.isHidden(),g=[];for(this.setResponsive&&this.setResponsive(!1),Li.setAnimation(t,this),u&&this.temporaryDisplay(),this.layOutTitles(),t=o.length;t--;)if((n=o[t]).options.stacking&&(e=!0,n.isDirty)){i=!0;break}if(i)for(t=o.length;t--;)(n=o[t]).options.stacking&&(n.isDirty=!0);Hi(o,function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),l=!0):h&&(h.labelFormatter||h.labelFormat)&&(l=!0)),t.isDirtyData&&_i(t,"updatedData")}),l&&a&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),e&&this.getStacks(),c&&Hi(s,function(t){t.updateNames(),t.updateYNames&&t.updateYNames(),t.setScale()}),this.getMargins(),c&&(Hi(s,function(t){t.isDirty&&(d=!0)}),Hi(s,function(t){var i=t.min+","+t.max;t.extKey!==i&&(t.extKey=i,g.push(function(){_i(t,"afterSetExtremes",Xi(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||e)&&t.redraw()})),d&&this.drawChartBox(),_i(this,"predraw"),Hi(o,function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),r&&r.reset(!0),p.draw(),_i(this,"redraw"),_i(this,"render"),u&&this.temporaryDisplay(!0),Hi(g,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,n,s=this.series;for(i=Fi(this.axes,e)||Fi(this.series,e),n=0;!i&&n<s.length;n++)i=Fi(s[n].points||[],e);return i},getAxes:function(){var t=this,e=(i=this.options).xAxis=sn(i.xAxis||{}),i=i.yAxis=sn(i.yAxis||{});_i(this,"getAxes"),Hi(e,function(t,e){t.index=e,t.isX=!0}),Hi(i,function(t,e){t.index=e}),e=e.concat(i),Hi(e,function(e){new zi(t,e)}),_i(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return Hi(this.series,function(e){t=t.concat(Yi(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Yi(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var n,s=this,o=s.options;n=o.title=qi({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=qi({style:{color:"#666666"}},o.subtitle,e),Hi([["title",t,n],["subtitle",e,o]],function(t,e){var i=t[0],n=s[i],o=t[1];t=t[2],n&&o&&(s[i]=n=n.destroy()),t&&!n&&(s[i]=s.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),s[i].update=function(t){s.setTitle(!e&&t,e&&t)},s[i].css(t.style))}),s.layOutTitles(i)},layOutTitles:function(t){var e,i=0,n=this.renderer,s=this.spacingBox;Hi(["title","subtitle"],function(t){var e,o=this[t],r=this.options[t];t="title"===t?-3:r.verticalAlign?0:i+2,o&&(e=r.style.fontSize,e=n.fontMetrics(e,o).b,o.css({width:(r.width||s.width+r.widthAdjust)+"px"}).align(Xi({y:t+e},r),!1,"spacingBox"),r.floating||r.verticalAlign||(i=Math.ceil(i+o.getBBox(r.useHTML).height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&Qi(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=(e=this.options.chart).width,e=e.height,i=this.renderTo;Wi(t)||(this.containerWidth=Li.getStyle(i,"width")),Wi(e)||(this.containerHeight=Li.getStyle(i,"height")),this.chartWidth=Math.max(0,t||this.containerWidth||600),this.chartHeight=Math.max(0,Li.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(t){var e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(Li.css(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(Di.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style&&(Di.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,Di.body.appendChild(e)),"none"!==Li.getStyle(e,"display",!1)&&!e.hcOricDetached||(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),Li.css(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),(e=e.parentNode)!==Di.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var t,e,i,n=this.options,s=n.chart;t=this.renderTo;var o,r=Li.uniqueKey();t||(this.renderTo=t=s.renderTo),Ui(t)&&(this.renderTo=t=Di.getElementById(t)),t||Li.error(13,!0),e=tn(Oi(t,"data-highcharts-chart")),ji(e)&&Ri[e]&&Ri[e].hasRendered&&Ri[e].destroy(),Oi(t,"data-highcharts-chart",this.index),t.innerHTML="",s.skipClone||t.offsetWidth||this.temporaryDisplay(),this.getChartSize(),e=this.chartWidth,i=this.chartHeight,o=Xi({position:"relative",overflow:"hidden",width:e+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.container=t=Bi("div",{id:r},o,t),this._cursor=t.style.cursor,this.renderer=new(Li[s.renderer]||Li.Renderer)(t,e,i,null,s.forExport,n.exporting&&n.exporting.allowHTML),this.setClassName(s.className),this.renderer.setStyle(s.style),this.renderer.chartIndex=this.index,_i(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!Wi(i[0])&&(this.plotTop=Math.max(this.plotTop,n+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),_i(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&Hi(t.axes,function(t){t.visible&&t.getOffset()}),Hi(Ki,function(n,s){Wi(i[s])||(t[n]+=e[s])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,s=Wi(i.width)&&Wi(i.height),o=i.width||Li.getStyle(n,"width");i=i.height||Li.getStyle(n,"height"),n=t?t.target:rn,s||e.isPrinting||!o||!i||n!==rn&&n!==Di||(o===e.containerWidth&&i===e.containerHeight||(Li.clearTimeout(e.reflowTimeout),e.reflowTimeout=on(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=o,e.containerHeight=i)},setReflow:function(t){var e=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=Ci(rn,"resize",function(t){e.reflow(t)}),Ci(this,"destroy",this.unbindReflow))},setSize:function(t,e,i){var n=this,s=n.renderer;n.isResizing+=1,Li.setAnimation(i,n),n.oldChartHeight=n.chartHeight,n.oldChartWidth=n.chartWidth,void 0!==t&&(n.options.chart.width=t),void 0!==e&&(n.options.chart.height=e),n.getChartSize(),((t=s.globalAnimation)?Pi:Gi)(n.container,{width:n.chartWidth+"px",height:n.chartHeight+"px"},t),n.setChartSize(!0),s.setSize(n.chartWidth,n.chartHeight,i),Hi(n.axes,function(t){t.isDirty=!0,t.setScale()}),n.isDirtyLegend=!0,n.isDirtyBox=!0,n.layOutTitles(),n.getMargins(),n.redraw(i),n.oldChartHeight=null,_i(n,"resize"),on(function(){n&&_i(n,"endResize",null,function(){--n.isResizing})},Ii(t).duration)},setChartSize:function(t){var e,i,n,s,o=this.inverted,r=this.renderer,a=this.chartWidth,h=this.chartHeight,l=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=n=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=s=Math.max(0,Math.round(h-i-this.marginBottom)),this.plotSizeX=o?s:n,this.plotSizeY=o?n:s,this.plotBorderWidth=l.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:h-c[0]-c[2]},this.plotBox=r.plotBox={x:e,y:i,width:n,height:s},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,d[3])/2),r=Math.ceil(Math.max(a,d[0])/2),this.clipBox={x:o,y:r,width:Math.floor(this.plotSizeX-Math.max(a,d[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,d[2])/2-r))},t||Hi(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()}),_i(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;Hi(["margin","spacing"],function(i){var n=e[i],s=Vi(n)?n:[n,n,n,n];Hi(["Top","Right","Bottom","Left"],function(n,o){t[i][o]=Qi(e[i+n],s[o])})}),Hi(Ki,function(e,i){t[e]=Qi(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,n=this.renderer,s=this.chartWidth,o=this.chartHeight,r=this.chartBackground,a=this.plotBackground,h=this.plotBorder,l=this.plotBGImage,c=i.backgroundColor,d=i.plotBackgroundColor,p=i.plotBackgroundImage,u=this.plotLeft,g=this.plotTop,f=this.plotWidth,m=this.plotHeight,x=this.plotBox,v=this.clipRect,y=this.clipBox,b="animate";r||(this.chartBackground=r=n.rect().addClass("highcharts-background").add(),b="attr"),e=(t=i.borderWidth||0)+(i.shadow?8:0),c={fill:c||"none"},(t||r["stroke-width"])&&(c.stroke=i.borderColor,c["stroke-width"]=t),r.attr(c).shadow(i.shadow),r[b]({x:e/2,y:e/2,width:s-e-t%2,height:o-e-t%2,r:i.borderRadius}),b="animate",a||(b="attr",this.plotBackground=a=n.rect().addClass("highcharts-plot-background").add()),a[b](x),a.attr({fill:d||"none"}).shadow(i.plotShadow),p&&(l?l.animate(x):this.plotBGImage=n.image(p,u,g,f,m).add()),v?v.animate({width:y.width,height:y.height}):this.clipRect=n.clipRect(y),b="animate",h||(b="attr",this.plotBorder=h=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),h.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),h[b](h.crisp({x:u,y:g,width:f,height:m},-h.strokeWidth())),this.isDirtyBox=!1,_i(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,i,n=this,s=n.options.chart,o=n.options.series;Hi(["inverted","angular","polar"],function(r){for(t=nn[s.type||s.defaultSeriesType],i=s[r]||t&&t.prototype[r],e=o&&o.length;!i&&e--;)(t=nn[o[e].type])&&t.prototype[r]&&(i=!0);n[r]=i})},linkSeries:function(){var t=this,e=t.series;Hi(e,function(t){t.linkedSeries.length=0}),Hi(e,function(e){var i=e.options.linkedTo;Ui(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=Qi(e.options.visible,i.options.visible,e.visible))}),_i(this,"afterLinkSeries")},renderSeries:function(){Hi(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&Hi(e.items,function(i){var n=Xi(e.style,i.style),s=tn(n.left)+t.plotLeft,o=tn(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,s,o).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n=this.axes,s=this.renderer,o=this.options;this.setTitle(),this.legend=new Zi(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),Hi(n,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(Hi(n,function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Hi(n,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=qi(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(rn.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var t,e=this,i=e.axes,n=e.series,s=e.container,o=s&&s.parentNode;for(_i(e,"destroy"),e.renderer.forExport?Li.erase(Ri,e):Ri[e.index]=void 0,Li.chartCount--,e.renderTo.removeAttribute("data-highcharts-chart"),en(e),t=i.length;t--;)i[t]=i[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=n.length;t--;)n[t]=n[t].destroy();Hi("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),s&&(s.innerHTML="",en(s),o&&Ni(s)),$i(e,function(t,i){delete e[i]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Hi(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),_i(t,"beforeRender"),Ji&&(t.pointer=new Ji(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){Hi([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),_i(this,"load"),_i(this,"render"),Wi(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}}),ln=(hn=zt).addEvent,cn=hn.Chart,dn=hn.each,ln(cn,"afterSetChartSize",function(t){var e=this.options.chart.scrollablePlotArea;(e=e&&e.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=e=Math.max(0,e-this.chartWidth))&&(this.plotWidth+=e,this.clipBox.width+=e,t.skipAxes||dn(this.axes,function(t){1===t.side?t.getPlotLinePath=function(){var e,i=this.right;return this.right=i-t.chart.scrollablePixels,e=hn.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=i,e}:(t.setAxisSize(),t.setAxisTranslation())}))}),ln(cn,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),cn.prototype.setUpScrolling=function(){this.scrollingContainer=hn.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=hn.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},cn.prototype.applyFixed=function(){var t,e,i=this.container;(n=!this.fixedDiv)&&(this.fixedDiv=hn.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=t=new hn.Renderer(this.fixedDiv,0,0),this.scrollableMask=t.path().attr({fill:hn.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),hn.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(e){hn.each(i.querySelectorAll(e),function(e){(e.namespaceURI===t.SVG_NS?t.box:t.box.parentNode).appendChild(e),e.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),e=this.chartWidth+this.scrollablePixels,hn.stop(this.container),this.container.style.width=e+"px",this.renderer.boxWrapper.attr({width:e,height:this.chartHeight,viewBox:[0,0,e,this.chartHeight].join(" ")}),this.chartBackground.attr({width:e}),!n||(e=this.options.chart.scrollablePlotArea).scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*e.scrollPositionX),n=this.axisOffset,e=this.plotTop-n[0]-1;var n=this.plotTop+this.plotHeight+n[2],s=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,e,"L",this.plotLeft-1,e,"L",this.plotLeft-1,n,"L",0,n,"Z","M",s,e,"L",this.chartWidth,e,"L",this.chartWidth,n,"L",s,n,"Z"]:["M",0,0]})},gn=(pn=zt).each,fn=pn.extend,mn=pn.erase,xn=pn.fireEvent,vn=pn.format,yn=pn.isArray,bn=pn.isNumber,kn=pn.pick,wn=pn.uniqueKey,Sn=pn.defined,Mn=pn.removeEvent,pn.Point=un=function(){},pn.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),this.id=Sn(this.id)?this.id:wn(),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=kn(this.colorIndex,i),t.chart.pointCount++,xn(this,"afterInit"),this},applyOptions:function(t,e){var i=this.series,n=i.options.pointValKey||i.pointValKey;return t=un.prototype.optionsToObject.call(this,t),fn(this,t),this.options=this.options?fn(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,n&&(this.y=this[n]),this.isNull=kn(this.isValid&&!this.isValid(),null===this.x||!bn(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===e&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),void 0===this.x&&i&&(this.x=void 0===e?i.autoIncrement(this):e),this},setNestedProperty:function(t,e,i){return i=i.split("."),pn.reduce(i,function(t,i,n,s){return t[i]=s.length-1===n?e:pn.isObject(t[i],!0)?t[i]:{},t[i]},t),t},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,s=n||i.pointArrayMap||["y"],o=s.length,r=0,a=0;if(bn(t)||null===t)e[s[0]]=t;else if(yn(t))for(!n&&t.length>o&&("string"===(i=typeof t[0])?e.name=t[0]:"number"===i&&(e.x=t[0]),r++);a<o;)n&&void 0===t[r]||(0<s[a].indexOf(".")?pn.Point.prototype.setNestedProperty(e,t[r],s[a]):e[s[a]]=t[r]),r++,a++;else"object"==typeof t&&((e=t).dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=(i=this.series).zones,i=i.zoneAxis||"y",n=0;for(t=e[n];this[i]>=t.value;)t=e[++n];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),mn(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(Mn(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy());this.dataLabels&&(gn(this.dataLabels,function(t){t.element&&t.destroy()}),delete this.dataLabels),this.connectors&&(gn(this.connectors,function(t){t.element&&t.destroy()}),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=kn(i.valueDecimals,""),s=i.valuePrefix||"",o=i.valueSuffix||"";return gn(e.pointArrayMap||["y"],function(e){e="{point."+e,(s||o)&&(t=t.replace(RegExp(e+"}","g"),s+e+"}"+o)),t=t.replace(RegExp(e+"}","g"),e+":,."+n+"f}")}),vn(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,i){var n=this,s=this.series.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),xn(this,t,e,i)},visible:!0},Tn=(An=zt).addEvent,Ln=An.animObject,Cn=An.arrayMax,Pn=An.arrayMin,In=An.correctFloat,On=An.defaultOptions,Dn=An.defaultPlotOptions,zn=An.defined,Bn=An.each,En=An.erase,Nn=An.extend,Rn=An.fireEvent,Gn=An.grep,Wn=An.isArray,Hn=An.isNumber,Xn=An.isString,Fn=An.merge,_n=An.objectEach,Yn=An.pick,jn=An.removeEvent,Vn=An.splat,Un=An.SVGElement,Zn=An.syncTimeout,Kn=An.win,An.Series=An.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":An.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:An.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,e){var i,n,s=this,o=t.series;s.chart=t,s.options=e=s.setOptions(e),s.linkedSeries=[],s.bindAxes(),Nn(s,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),i=e.events,_n(i,function(t,e){Tn(s,e,t)}),(i&&i.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),s.getColor(),s.getSymbol(),Bn(s.parallelArrays,function(t){s[t+"Data"]=[]}),s.setData(e.data,!1),s.isCartesian&&(t.hasCartesianSeries=!0),o.length&&(n=o[o.length-1]),s._i=Yn(n&&n._i,-1)+1,t.orderSeries(this.insert(o)),Rn(this,"afterInit")},insert:function(t){var e,i=this.options.index;if(Hn(i)){for(e=t.length;e--;)if(i>=Yn(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return Yn(e,t.length-1)},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;Bn(e.axisTypes||[],function(s){Bn(n[s],function(n){t=n.options,(i[s]===t.index||void 0!==i[s]&&i[s]===t.id||void 0===i[s]&&0===t.index)&&(e.insert(n.series),(e[s]=n).isDirty=!0)}),e[s]||e.optionalAxis===s||An.error(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,s=Hn(e)?function(n){var s="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=s}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};Bn(i.parallelArrays,s)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,s=this.chart.time;return i=Yn(i,e.pointStart,0),this.pointInterval=t=Yn(this.pointInterval,e.pointInterval,1),n&&(e=new s.Date(i),"day"===n?s.set("Date",e,s.get("Date",e)+t):"month"===n?s.set("Month",e,s.get("Month",e)+t):"year"===n&&s.set("FullYear",e,s.get("FullYear",e)+t),t=e.getTime()-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,n=i.plotOptions,s=(e.userOptions||{}).plotOptions||{},o=n[this.type];return this.userOptions=t,e=Fn(o,n.series,t),this.tooltipOptions=Fn(On.tooltip,On.plotOptions.series&&On.plotOptions.series.tooltip,On.plotOptions[this.type].tooltip,i.tooltip.userOptions,n.series&&n.series.tooltip,n[this.type].tooltip,t.tooltip),this.stickyTracking=Yn(t.stickyTracking,s[this.type]&&s[this.type].stickyTracking,s.series&&s.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&zn(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),Rn(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,i){var n,s=this.chart,o=this.userOptions,r=t+"Index",a=t+"Counter",h=i?i.length:Yn(s.options.chart[t+"Count"],s[t+"Count"]);e||(n=Yn(o[r],o["_"+r]),zn(n)||(s.series.length||(s[a]=0),o["_"+r]=n=s[a]%h,s[a]+=1),i&&(e=i[n])),void 0!==n&&(this[r]=n),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||Dn[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:An.LegendSymbolMixin.drawLineMarker,updateData:function(t){var e,i,n,s=this.options,o=this.points,r=[],a=this.requireSorting;if(Bn(t,function(t){var i;i=An.defined(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t).x,Hn(i)&&(-1===(i=An.inArray(i,this.xData,n))||o[i].touched?r.push(t):t!==s.data[i]?(o[i].update(t,!1,null,!1),o[i].touched=!0,a&&(n=i+1)):o[i]&&(o[i].touched=!0),e=!0)},this),e)for(t=o.length;t--;)(i=o[t]).touched||i.remove(!1),i.touched=!1;else{if(t.length!==o.length)return!1;Bn(t,function(t,e){o[e].update&&t!==s.data[e]&&o[e].update(t,!1,null,!1)})}return Bn(r,function(t){this.addPoint(t,!1)},this),!0},setData:function(t,e,i,n){var s,o,r=this,a=r.points,h=a&&a.length||0,l=r.options,c=r.chart,d=null,p=r.xAxis,u=l.turboThreshold,g=this.xData,f=this.yData,m=(s=r.pointArrayMap)&&s.length;if(s=(t=t||[]).length,e=Yn(e,!0),!1!==n&&s&&h&&!r.cropped&&!r.hasGroupedData&&r.visible&&!r.isSeriesBoosting&&(o=this.updateData(t)),!o){if(r.xIncrement=null,r.colorCounter=0,Bn(this.parallelArrays,function(t){r[t+"Data"].length=0}),u&&u<s){for(i=0;null===d&&i<s;)d=t[i],i++;if(Hn(d))for(i=0;i<s;i++)g[i]=this.autoIncrement(),f[i]=t[i];else if(Wn(d))if(m)for(i=0;i<s;i++)d=t[i],g[i]=d[0],f[i]=d.slice(1,m+1);else for(i=0;i<s;i++)d=t[i],g[i]=d[0],f[i]=d[1];else An.error(12)}else for(i=0;i<s;i++)void 0!==t[i]&&(d={series:r},r.pointClass.prototype.applyOptions.apply(d,[t[i]]),r.updateParallelArrays(d,i));for(f&&Xn(f[0])&&An.error(14,!0),r.data=[],r.options.data=r.userOptions.data=t,i=h;i--;)a[i]&&a[i].destroy&&a[i].destroy();p&&(p.minRange=p.userMinRange),r.isDirty=c.isDirtyBox=!0,r.isDirtyData=!!a,i=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(i)},processData:function(t){var e,i=this.xData,n=this.yData,s=i.length;e=0;var o,r,a,h=this.xAxis;a=(u=this.options).cropThreshold;var l,c,d=this.getExtremesFromAll||u.getExtremesFromAll,p=this.isCartesian,u=h&&h.val2lin,g=h&&h.isLog,f=this.requireSorting;if(p&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(h&&(l=(t=h.getExtremes()).min,c=t.max),p&&this.sorted&&!d&&(!a||a<s||this.forceCrop)&&(i[s-1]<l||i[0]>c?(i=[],n=[]):this.yData&&(i[0]<l||i[s-1]>c)&&(i=(e=this.cropData(this.xData,this.yData,l,c)).xData,n=e.yData,e=e.start,o=!0)),a=i.length||1;--a;)0<(s=g?u(i[a])-u(i[a-1]):i[a]-i[a-1])&&(void 0===r||s<r)?r=s:s<0&&f&&(An.error(15),f=!1);this.cropped=o,this.cropStart=e,this.processedXData=i,this.processedYData=n,this.closestPointRange=r},cropData:function(t,e,i,n,s){var o,r=t.length,a=0,h=r;for(s=Yn(s,this.cropShoulder,1),o=0;o<r;o++)if(t[o]>=i){a=Math.max(0,o-s);break}for(i=o;i<r;i++)if(t[i]>n){h=i+s;break}return{xData:t.slice(a,h),yData:e.slice(a,h),start:a,end:h}},generatePoints:function(){var t,e,i,n,s=(p=this.options).data,o=this.data,r=this.processedXData,a=this.processedYData,h=this.pointClass,l=r.length,c=this.cropStart||0,d=this.hasGroupedData,p=p.keys,u=[];for(o||d||((o=[]).length=s.length,o=this.data=o),p&&d&&(this.options.keys=!1),n=0;n<l;n++)e=c+n,d?((i=(new h).init(this,[r[n]].concat(Vn(a[n])))).dataGroup=this.groupMap[n],i.dataGroup.options&&(i.options=i.dataGroup.options,Nn(i,i.dataGroup.options))):(i=o[e])||void 0===s[e]||(o[e]=i=(new h).init(this,s[e],r[n])),i&&(i.index=e,u[n]=i);if(this.options.keys=p,o&&(l!==(t=o.length)||d))for(n=0;n<t;n++)n!==c||d||(n+=l),o[n]&&(o[n].destroyElements(),o[n].plotX=void 0);this.data=o,this.points=u},getExtremes:function(t){var e,i,n,s,o,r=this.yAxis,a=this.processedXData,h=[],l=0,c=(e=this.xAxis.getExtremes()).min,d=e.max,p=this.requireSorting?1:0;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,o=0;o<e;o++)if(n=a[o],s=t[o],i=(Hn(s,!0)||Wn(s))&&(!r.positiveValuesOnly||s.length||0<s),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(a[o+p]||n)>=c&&(a[o-p]||n)<=d,i&&n)if(i=s.length)for(;i--;)"number"==typeof s[i]&&(h[l++]=s[i]);else h[l++]=s;this.dataMin=Pn(h),this.dataMax=Cn(h)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,n,s=this.options,o=s.stacking,r=this.xAxis,a=r.categories,h=this.yAxis,l=this.points,c=l.length,d=!!this.modifyValue,p=s.pointPlacement,u="between"===p||Hn(p),g=s.threshold,f=s.startFromThreshold?g:0,m=Number.MAX_VALUE;for("between"===p&&(p=.5),Hn(p)&&(p*=Yn(s.pointRange||r.pointRange)),s=0;s<c;s++){var x=l[s],v=x.x,y=x.y;e=x.low;var b,k=o&&h.stacks[(this.negStacks&&y<(f?0:g)?"-":"")+this.stackKey];h.positiveValuesOnly&&null!==y&&y<=0&&(x.isNull=!0),x.plotX=t=In(Math.min(Math.max(-1e5,r.translate(v,0,0,0,1,p,"flags"===this.type)),1e5)),o&&this.visible&&!x.isNull&&k&&k[v]&&(n=this.getStackIndicator(n,v,this.index),e=(y=(b=k[v]).points[n.key])[0],y=y[1],e===f&&n.key===k[v].base&&(e=Yn(Hn(g)&&g,h.min)),h.positiveValuesOnly&&e<=0&&(e=null),x.total=x.stackTotal=b.total,x.percentage=b.total&&x.y/b.total*100,x.stackY=y,b.setOffset(this.pointXOffset||0,this.barW||0)),x.yBottom=zn(e)?Math.min(Math.max(-1e5,h.translate(e,0,1,0,1)),1e5):null,d&&(y=this.modifyValue(y,x)),x.plotY=e="number"==typeof y&&1/0!==y?Math.min(Math.max(-1e5,h.translate(y,0,1,0,1)),1e5):void 0,x.isInside=void 0!==e&&0<=e&&e<=h.len&&0<=t&&t<=r.len,x.clientX=u?In(r.translate(v,0,0,0,1,p)):t,x.negative=x.y<(g||0),x.category=a&&void 0!==a[x.x]?a[x.x]:x.x,x.isNull||(void 0!==i&&(m=Math.min(m,Math.abs(t-i))),i=t),x.zone=this.zones.length&&x.getZone()}this.closestPointRangePx=m,Rn(this,"afterTranslate")},getValidPoints:function(t,e){var i=this.chart;return Gn(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,s=e.inverted,o=this.clipBox,r=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,r.height,i.xAxis,i.yAxis].join(),h=e[a],l=e[a+"m"];h||(t&&(r.width=0,s&&(r.x=e.plotSizeX),e[a+"m"]=l=n.clipRect(s?e.plotSizeX+99:-99,s?-e.plotLeft:-e.plotTop,99,s?e.chartWidth:e.chartHeight)),e[a]=h=n.clipRect(r),h.count={length:0}),t&&!h.count[this.index]&&(h.count[this.index]=!0,h.count.length+=1),!1!==i.clip&&(this.group.clip(t||o?h:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=a),t||(h.count[this.index]&&(delete h.count[this.index],--h.count.length),0===h.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,n=Ln(this.options.animation);t?this.setClip(n):((t=i[e=this.sharedClipKey])&&t.animate({width:i.plotSizeX,x:0},n),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99,x:0},n),this.animate=null)},afterAnimate:function(){this.setClip(),Rn(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,n,s,o,r,a,h=this.points,l=this.chart,c=this.options.marker,d=this[this.specialGroup]||this.markerGroup,p=Yn(c.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=c.enabledThreshold*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(t=0;t<h.length;t++)n=(e=h[t]).graphic,s=e.marker||{},o=!!e.marker,i=p&&void 0===s.enabled||s.enabled,r=e.isInside,i&&!e.isNull?(i=Yn(s.symbol,this.symbol),a=this.markerAttribs(e,e.selected&&"select"),n?n[r?"show":"hide"](!0).animate(a):r&&(0<a.width||e.hasImage)&&(e.graphic=n=l.renderer.symbol(i,a.x,a.y,a.width,a.height,o?s:c).add(d)),n&&n.attr(this.pointAttribs(e,e.selected&&"select")),n&&n.addClass(e.getClassName(),!0)):n&&(e.graphic=n.destroy())},markerAttribs:function(t,e){var i=this.options.marker,n=t.marker||{},s=n.symbol||i.symbol,o=Yn(n.radius,i.radius);return e&&(i=i.states[e],e=n.states&&n.states[e],o=Yn(e&&e.radius,i&&i.radius,o+(i&&i.radiusPlus||0))),t.hasImage=s&&0===s.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var i=this.options.marker,n=(a=t&&t.options)&&a.marker||{},s=this.color,o=a&&a.color,r=t&&t.color,a=Yn(n.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,s=o||t||r||s,t=n.fillColor||i.fillColor||s,s=n.lineColor||i.lineColor||s,e&&(i=i.states[e],e=n.states&&n.states[e]||{},a=Yn(e.lineWidth,i.lineWidth,a+Yn(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,s=e.lineColor||i.lineColor||s),{stroke:s,"stroke-width":a,fill:t}},destroy:function(){var t,e,i,n=this,s=n.chart,o=/AppleWebKit\/533/.test(Kn.navigator.userAgent),r=n.data||[];for(Rn(n,"destroy"),jn(n),Bn(n.axisTypes||[],function(t){(i=n[t])&&i.series&&(En(i.series,n),i.isDirty=i.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),t=r.length;t--;)(e=r[t])&&e.destroy&&e.destroy();n.points=null,An.clearTimeout(n.animationTimeout),_n(n,function(t,e){t instanceof Un&&!t.survive&&t[o&&"group"===e?"hide":"destroy"]()}),s.hoverSeries===n&&(s.hoverSeries=null),En(s.series,n),s.orderSeries(),_n(n,function(t,e){delete n[e]})},getGraphPath:function(t,e,i){var n,s,o=this,r=o.options,a=r.step,h=[],l=[];return(n=(t=t||o.points).reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&n&&(a=4-a),!r.connectNulls||e||i||(t=this.getValidPoints(t)),Bn(t,function(n,c){var d=n.plotX,p=n.plotY,u=t[c-1];(n.leftCliff||u&&u.rightCliff)&&!i&&(s=!0),s=n.isNull&&!zn(e)&&0<c?!r.connectNulls:!(!n.isNull||e)||(0===c||s?c=["M",n.plotX,n.plotY]:o.getPointSpline?c=o.getPointSpline(t,n,c):a?(c=1===a?["L",u.plotX,p]:2===a?["L",(u.plotX+d)/2,u.plotY,"L",(u.plotX+d)/2,p]:["L",d,u.plotY]).push("L",d,p):c=["L",d,p],l.push(n.x),a&&(l.push(n.x),2===a&&l.push(n.x)),h.push.apply(h,c),!1)}),h.xMap=l,o.graphPath=h},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];n=t.getZonesGraphs(n),Bn(n,function(n,s){var o=n[0],r=t[o];r?(r.endX=t.preventGraphAnimation?null:i.xMap,r.animate({d:i})):i.length&&(t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({zIndex:1}).add(t.group),r={stroke:n[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},n[3]?r.dashstyle=n[3]:"square"!==e.linecap&&(r["stroke-linecap"]=r["stroke-linejoin"]="round"),r=t[o].attr(r).shadow(s<2&&e.shadow)),r&&(r.startX=i.xMap,r.isArea=i.isArea)})},getZonesGraphs:function(t){return Bn(this.zones,function(e,i){t.push(["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])},this),t},applyZones:function(){var t,e,i,n,s,o,r,a,h,l=this,c=this.chart,d=c.renderer,p=this.zones,u=this.clips||[],g=this.graph,f=this.area,m=Math.max(c.chartWidth,c.chartHeight),x=this[(this.zoneAxis||"y")+"Axis"],v=c.inverted,y=!1;p.length&&(g||f)&&x&&void 0!==x.min&&(s=x.reversed,o=x.horiz,g&&!this.showLine&&g.hide(),f&&f.hide(),n=x.getExtremes(),Bn(p,function(p,b){t=s?o?c.plotWidth:0:o?0:x.toPixels(n.min),t=Math.min(Math.max(Yn(e,t),0),m),e=Math.min(Math.max(Math.round(x.toPixels(Yn(p.value,n.max),!0)),0),m),y&&(t=e=x.toPixels(n.max)),r=Math.abs(t-e),a=Math.min(t,e),h=Math.max(t,e),x.isXAxis?(i={x:v?h:a,y:0,width:r,height:m},o||(i.x=c.plotHeight-i.x)):(i={x:0,y:v?h:a,width:m,height:r},o&&(i.y=c.plotWidth-i.y)),v&&d.isVML&&(i=x.isXAxis?{x:0,y:s?a:h,height:i.width,width:c.chartWidth}:{x:i.y-c.plotLeft-c.spacingBox.x,y:0,width:i.height,height:c.chartHeight}),u[b]?u[b].animate(i):(u[b]=d.clipRect(i),g&&l["zone-graph-"+b].clip(u[b]),f&&l["zone-area-"+b].clip(u[b])),y=p.value>n.max,l.resetZones&&0===e&&(e=void 0)}),this.clips=u)},invertGroups:function(t){function e(){Bn(["group","markerGroup"],function(e){n[e]&&(s.renderer.isVML&&n[e].attr({width:n.yAxis.len,height:n.xAxis.len}),n[e].width=n.yAxis.len,n[e].height=n.xAxis.len,n[e].invert(t))})}var i,n=this,s=n.chart;n.xAxis&&(i=Tn(s,"resize",e),Tn(n,"destroy",i),e(),n.invertGroups=e)},plotGroup:function(t,e,i,n,s){var o=this[t],r=!o;return r&&(this[t]=o=this.chart.renderer.g().attr({zIndex:n||.1}).add(s)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(zn(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:i})[r?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,s=!!e.animate&&i.renderer.isSVG&&Ln(n.animation).duration,o=e.visible?"inherit":"hidden",r=n.zIndex,a=e.hasRendered,h=i.seriesGroup,l=i.inverted;t=e.plotGroup("group","series",o,r,h),e.markerGroup=e.plotGroup("markerGroup","markers",o,r,h),s&&e.animate(!0),t.inverted=!!e.isCartesian&&l,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(l),!1===n.clip||e.sharedClipKey||a||t.clip(i.clipRect),s&&e.animate(),a||(e.animationTimeout=Zn(function(){e.afterAnimate()},s)),e.isDirty=!1,e.hasRendered=!0,Rn(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,n=this.xAxis,s=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:Yn(n&&n.left,t.plotLeft),translateY:Yn(s&&s.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,s=this.chart.inverted;return this.searchKDTree({clientX:s?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:s?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){this.buildingKdTree=!0;var t=this,e=-1<t.options.findNearestPointBy.indexOf("y")?2:1;delete t.kdTree,Zn(function(){t.kdTree=function e(i,n,s){var o,r;if(r=i&&i.length)return o=t.kdAxisArray[n%s],i.sort(function(t,e){return t[o]-e[o]}),{point:i[r=Math.floor(r/2)],left:e(i.slice(0,r),n+1,s),right:e(i.slice(r+1),n+1,s)}}(t.getValidPoints(null,!t.directTouch),e,e),t.buildingKdTree=!1},t.options.kdNow?0:1)},searchKDTree:function(t,e){var i=this,n=this.kdAxisArray[0],s=this.kdAxisArray[1],o=e?"distX":"dist";if(e=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return function t(e,r,a,h){var l,c,d=r.point,p=i.kdAxisArray[a%h],u=d;return l=((c=zn(e[n])&&zn(d[n])?Math.pow(e[n]-d[n],2):null)||0)+((l=zn(e[s])&&zn(d[s])?Math.pow(e[s]-d[s],2):null)||0),d.dist=zn(l)?Math.sqrt(l):Number.MAX_VALUE,d.distX=zn(c)?Math.sqrt(c):Number.MAX_VALUE,c=(p=e[p]-d[p])<0?"right":"left",r[l=p<0?"left":"right"]&&(u=(l=t(e,r[l],a+1,h))[o]<u[o]?l:d),r[c]&&Math.sqrt(p*p)<u[o]&&(u=(e=t(e,r[c],a+1,h))[o]<u[o]?e:u),u}(t,this.kdTree,e,e)}}),$n=(qn=zt).Axis,Jn=qn.Chart,Qn=qn.correctFloat,ts=qn.defined,es=qn.destroyObjectProperties,is=qn.each,ns=qn.format,ss=qn.objectEach,os=qn.pick,rs=qn.Series,qn.StackItem=function(t,e,i,n,s){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=s,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:os(e.y,o?4:i?14:-6),x:os(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")},qn.StackItem.prototype={destroy:function(){es(this,this.axis)},render:function(t){var e=this.axis.chart,i=this.options,n=(n=i.format)?ns(n,this,e.time):i.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=e.renderer.text(n,null,null,i.useHTML).css(i.style).attr({align:this.textAlign,rotation:i.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var i=this.axis,n=i.chart,s=i.translate(i.usePercentage?100:this.total,0,0,0,1),o=i.translate(0);o=ts(s)&&Math.abs(s-o),t=n.xAxis[0].translate(this.x)+t,i=ts(s)&&this.getStackBox(n,this,t,s,e,o,i),(e=this.label)&&i&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||n.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,n,s,o,r){var a=e.axis.reversed,h=t.inverted;return t=r.height+r.pos-(h?t.plotLeft:t.plotTop),e=e.isNegative&&!a||!e.isNegative&&a,{x:h?e?n:n-o:i,y:h?t-i-s:e?t-n-o:t-n,width:h?o:s,height:h?s:o}}},Jn.prototype.getStacks=function(){var t=this;is(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),is(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+os(e.options.stack,""))})},$n.prototype.buildStacks=function(){var t,e=this.series,i=os(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=n;t--;)e[i?t:n-t-1].setStackedPoints();for(t=0;t<n;t++)e[t].modifyStacks()}},$n.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,n=this.stackTotalGroup;n||(this.stackTotalGroup=n=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),n.translate(t.plotLeft,t.plotTop),ss(i,function(t){ss(t,function(t){t.render(n)})})},$n.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||ss(e,function(e){ss(e,function(i,n){i.touched<t.stacksTouched?(i.destroy(),delete e[n]):(i.total=null,i.cumulative=null)})})},$n.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),ss(t,function(t){ss(t,function(t){t.cumulative=t.total})}))},rs.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,e,i,n,s,o,r,a=this.processedXData,h=this.processedYData,l=[],c=h.length,d=(g=this.options).threshold,p=os(g.startFromThreshold&&d,0),u=g.stack,g=g.stacking,f=this.stackKey,m="-"+f,x=this.negStacks,v=this.yAxis,y=v.stacks,b=v.oldStacks;for(v.stacksTouched+=1,s=0;s<c;s++)o=a[s],r=h[s],n=(t=this.getStackIndicator(t,o,this.index)).key,y[i=(e=x&&r<(p?0:d))?m:f]||(y[i]={}),y[i][o]||(b[i]&&b[i][o]?(y[i][o]=b[i][o],y[i][o].total=null):y[i][o]=new qn.StackItem(v,v.options.stackLabels,e,o,u)),i=y[i][o],null!==r?(i.points[n]=i.points[this.index]=[os(i.cumulative,p)],ts(i.cumulative)||(i.base=n),i.touched=v.stacksTouched,0<t.index&&!1===this.singleStacks&&(i.points[n][0]=i.points[this.index+","+o+",0"][0])):i.points[n]=i.points[this.index]=null,"percent"===g?(e=e?f:m,x&&y[e]&&y[e][o]?(e=y[e][o],i.total=e.total=Math.max(e.total,i.total)+Math.abs(r)||0):i.total=Qn(i.total+(Math.abs(r)||0))):i.total=Qn(i.total+(r||0)),i.cumulative=os(i.cumulative,p)+(r||0),null!==r&&(i.points[n].push(i.cumulative),l[s]=i.cumulative);"percent"===g&&(v.usePercentage=!0),this.stackedYData=l,v.oldStacks={}}},rs.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,s=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&is([i,"-"+i],function(i){for(var r,a,h=s.length;h--;)r=s[h],t=e.getStackIndicator(t,r,e.index,i),(a=(r=n[i]&&n[i][r])&&r.points[t.key])&&e[o+"Stacker"](a,r,h)})},rs.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=Qn(t[0]*e),t[1]=Qn(t[1]*e),this.stackedYData[i]=t[1]},rs.prototype.getStackIndicator=function(t,e,i,n){return!ts(t)||t.x!==e||n&&t.key!==n?t={x:e,index:0,key:n}:t.index++,t.key=[i,e,t.index].join(),t},hs=(as=zt).addEvent,ls=as.animate,cs=as.Axis,ds=as.createElement,ps=as.css,us=as.defined,gs=as.each,fs=as.erase,ms=as.extend,xs=as.fireEvent,vs=as.inArray,ys=as.isNumber,bs=as.isObject,ks=as.isArray,ws=as.merge,Ss=as.objectEach,Ms=as.pick,As=as.Point,Ts=as.Series,Ls=as.seriesTypes,Cs=as.setAnimation,Ps=as.splat,ms(as.Chart.prototype,{addSeries:function(t,e,i){var n,s=this;return t&&(e=Ms(e,!0),xs(s,"addSeries",{options:t},function(){n=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),xs(s,"afterAddSeries"),e&&s.redraw(i)})),n},addAxis:function(t,e,i,n){var s=e?"xAxis":"yAxis",o=this.options;return t=ws(t,{index:this[s].length,isX:e}),e=new cs(this,t),o[s]=Ps(o[s]||{}),o[s].push(t),Ms(i,!0)&&this.redraw(n),e},showLoading:function(t){function e(){s&&ps(s,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})}var i=this,n=i.options,s=i.loadingDiv,o=n.loading;s||(i.loadingDiv=s=ds("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=ds("span",{className:"highcharts-loading-inner"},null,s),hs(i,"redraw",e)),s.className="highcharts-loading",i.loadingSpan.innerHTML=t||n.lang.loading,ps(s,ms(o.style,{zIndex:10})),ps(i.loadingSpan,o.labelStyle),i.loadingShown||(ps(s,{opacity:0,display:""}),ls(s,{opacity:o.style.opacity||.5},{duration:o.showDuration||0})),i.loadingShown=!0,e()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",ls(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){ps(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,i,n){var s,o,r=this,a={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},h=t.chart,l=[];xs(r,"update",{options:t}),h&&(ws(!0,r.options.chart,h),"className"in h&&r.setClassName(h.className),"reflow"in h&&r.setReflow(h.reflow),("inverted"in h||"polar"in h||"type"in h)&&(r.propFromSeries(),s=!0),"alignTicks"in h&&(s=!0),Ss(h,function(t,e){-1!==vs("chart."+e,r.propsRequireUpdateSeries)&&(o=!0),-1!==vs(e,r.propsRequireDirtyBox)&&(r.isDirtyBox=!0)}),"style"in h&&r.renderer.setStyle(h.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&ws(!0,this.options.plotOptions,t.plotOptions),Ss(t,function(t,e){r[e]&&"function"==typeof r[e].update?r[e].update(t,!1):"function"==typeof r[a[e]]&&r[a[e]](t),"chart"!==e&&-1!==vs(e,r.propsRequireUpdateSeries)&&(o=!0)}),gs("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){var n;t[e]&&("series"===e&&(n=[],gs(r[e],function(t,e){t.options.isInternal||n.push(e)})),gs(Ps(t[e]),function(t,s){(s=us(t.id)&&r.get(t.id)||r[e][n?n[s]:s])&&s.coll===e&&(s.update(t,!1),i&&(s.touched=!0)),!s&&i&&("series"===e?r.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(r.addAxis(t,"xAxis"===e,!1).touched=!0))}),i&&gs(r[e],function(t){t.touched||t.options.isInternal?delete t.touched:l.push(t)}))}),gs(l,function(t){t.remove&&t.remove(!1)}),s&&gs(r.axes,function(t){t.update({},!1)}),o&&gs(r.series,function(t){t.update({},!1)}),t.loading&&ws(!0,r.options.loading,t.loading),s=h&&h.width,h=h&&h.height,ys(s)&&s!==r.chartWidth||ys(h)&&h!==r.chartHeight?r.setSize(s,h,n):Ms(e,!0)&&r.redraw(n),xs(r,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),ms(As.prototype,{update:function(t,e,i,n){function s(){r.applyOptions(t),null===r.y&&h&&(r.graphic=h.destroy()),bs(t,!0)&&(h&&h.element&&t&&t.marker&&void 0!==t.marker.symbol&&(r.graphic=h.destroy()),t&&t.dataLabels&&r.dataLabel&&(r.dataLabel=r.dataLabel.destroy()),r.connector&&(r.connector=r.connector.destroy())),o=r.index,a.updateParallelArrays(r,o),c.data[o]=bs(c.data[o],!0)||bs(t,!0)?r.options:Ms(t,c.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&(l.isDirtyLegend=!0),e&&l.redraw(i)}var o,r=this,a=r.series,h=r.graphic,l=a.chart,c=a.options;e=Ms(e,!0),!1===n?s():r.firePointEvent("update",{options:t},s)},remove:function(t,e){this.series.removePoint(vs(this,this.series.data),t,e)}}),ms(Ts.prototype,{addPoint:function(t,e,i,n){var s,o,r,a,h=this.options,l=this.data,c=this.chart,d=(d=this.xAxis)&&d.hasNames&&d.names,p=h.data,u=this.xData;if(e=Ms(e,!0),s={series:this},this.pointClass.prototype.applyOptions.apply(s,[t]),a=s.x,r=u.length,this.requireSorting&&a<u[r-1])for(o=!0;r&&u[r-1]>a;)r--;this.updateParallelArrays(s,"splice",r,0,0),this.updateParallelArrays(s,r),d&&s.name&&(d[a]=s.name),p.splice(r,0,t),o&&(this.data.splice(r,0,null),this.processData()),"point"===h.legendType&&this.generatePoints(),i&&(l[0]&&l[0].remove?l[0].remove(!1):(l.shift(),this.updateParallelArrays(s,"shift"),p.shift())),this.isDirtyData=this.isDirty=!0,e&&c.redraw(n)},removePoint:function(t,e,i){function n(){a&&a.length===o.length&&a.splice(t,1),o.splice(t,1),s.options.data.splice(t,1),s.updateParallelArrays(r||{series:s},"splice",t,1),r&&r.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&h.redraw()}var s=this,o=s.data,r=o[t],a=s.points,h=s.chart;Cs(i,h),e=Ms(e,!0),r?r.firePointEvent("remove",null,n):n()},remove:function(t,e,i){function n(){s.destroy(),s.remove=null,o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),Ms(t,!0)&&o.redraw(e)}var s=this,o=s.chart;!1!==i?xs(s,"remove",null,n):n()},update:function(t,e){var i,n=this,s=n.chart,o=n.userOptions,r=n.oldType||n.type,a=t.type||o.type||s.options.chart.type,h=Ls[r].prototype,l=["group","markerGroup","dataLabelsGroup"],c=["navigatorSeries","baseSeries"],d=n.finishedAnimating&&{animation:!1},p=["data","name","turboThreshold"],u=as.keys(t),g=0<u.length;if(gs(u,function(t){-1===vs(t,p)&&(g=!1)}),g)t.data&&this.setData(t.data,!1),t.name&&this.setName(t.name,!1);else{for(i in c=l.concat(c),gs(c,function(t){c[t]=n[t],delete n[t]}),t=ws(o,d,{index:n.index,pointStart:Ms(o.pointStart,n.xData[0])},{data:n.options.data},t),n.remove(!1,null,!1),h)n[i]=void 0;Ls[a||r]?ms(n,Ls[a||r].prototype):as.error(17,!0),gs(c,function(t){n[t]=c[t]}),n.init(s,t),t.zIndex!==o.zIndex&&gs(l,function(e){n[e]&&n[e].attr({zIndex:t.zIndex})}),n.oldType=r,s.linkSeries()}xs(this,"afterUpdate"),Ms(e,!0)&&s.redraw(!!g&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),ms(cs.prototype,{update:function(t,e){var i=this.chart,n=t&&t.events||{};t=ws(this.userOptions,t),i.options[this.coll].indexOf&&(i.options[this.coll][i.options[this.coll].indexOf(this.userOptions)]=t),Ss(i.options[this.coll].events,function(t,e){void 0===n[e]&&(n[e]=void 0)}),this.destroy(!0),this.init(i,ms(t,{events:n})),i.isDirtyBox=!0,Ms(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,s=n.length;s--;)n[s]&&n[s].remove(!1);fs(e.axes,this),fs(e[i],this),ks(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],gs(e[i],function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,Ms(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}}),Os=(Is=zt).color,Ds=Is.each,zs=Is.map,Bs=Is.pick,Es=Is.Series,(0,Is.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(t){var e,i,n=[],s=[],o=this.xAxis,r=this.yAxis,a=r.stacks[this.stackKey],h={},l=this.index,c=r.series,d=c.length,p=Bs(r.options.reversedStacks,!0)?1:-1;if(t=t||this.points,this.options.stacking){for(i=0;i<t.length;i++)t[i].leftNull=t[i].rightNull=null,h[t[i].x]=t[i];Is.objectEach(a,function(t,e){null!==t.total&&s.push(e)}),s.sort(function(t,e){return t-e}),e=zs(c,function(){return this.visible}),Ds(s,function(t,c){var u,g,f=0;if(h[t]&&!h[t].isNull)n.push(h[t]),Ds([-1,1],function(n){var o=1===n?"rightNull":"leftNull",r=0,f=a[s[c+n]];if(f)for(i=l;0<=i&&i<d;)(u=f.points[i])||(i===l?h[t][o]=!0:e[i]&&(g=a[t].points[i])&&(r-=g[1]-g[0])),i+=p;h[t][1===n?"rightCliff":"leftCliff"]=r});else{for(i=l;0<=i&&i<d;){if(u=a[t].points[i]){f=u[1];break}i+=p}f=r.translate(f,0,1,0,1),n.push({isNull:!0,plotX:o.translate(t,0,0,0,1),x:t,plotY:f,yBottom:f})}})}return n},getGraphPath:function(t){function e(e,i,n){var o=t[e];e=a&&p[o.x].points[d];var r,f,m=o[n+"Null"]||0;n=o[n+"Cliff"]||0,o=!0,n||m?(r=(m?e[0]:e[1])+n,f=e[0]+n,o=!!m):!a&&t[i]&&t[i].isNull&&(r=f=u),void 0!==r&&(c.push({plotX:s,plotY:null===r?g:h.getThreshold(r),isNull:o,isCliff:!0}),l.push({plotX:s,plotY:null===f?g:h.getThreshold(f),doCurve:!1}))}var i,n,s,o,r=Es.prototype.getGraphPath,a=(f=this.options).stacking,h=this.yAxis,l=[],c=[],d=this.index,p=h.stacks[this.stackKey],u=f.threshold,g=h.getThreshold(f.threshold),f=f.connectNulls||"percent"===a;for(t=t||this.points,a&&(t=this.getStackPoints(t)),i=0;i<t.length;i++)n=t[i].isNull,s=Bs(t[i].rectPlotX,t[i].plotX),o=Bs(t[i].yBottom,g),n&&!f||(f||e(i,i-1,"left"),n&&!a&&f||(c.push(t[i]),l.push({x:i,plotX:s,plotY:o})),f||e(i,i+1,"right"));return i=r.call(this,c,!0,!0),l.reversed=!0,(n=r.call(this,l,!0,!0)).length&&(n[0]="L"),n=i.concat(n),r=r.call(this,c,!1,f),n.xMap=i.xMap,this.areaPath=n,r},drawGraph:function(){this.areaPath=[],Es.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=[["area","highcharts-area",this.color,i.fillColor]];Ds(this.zones,function(e,s){n.push(["zone-area-"+s,"highcharts-area highcharts-zone-area-"+s+" "+e.className,e.color||t.color,e.fillColor||i.fillColor])}),Ds(n,function(n){var s=n[0],o=t[s];o?(o.endX=t.preventGraphAnimation?null:e.xMap,o.animate({d:e})):(o=t[s]=t.chart.renderer.path(e).addClass(n[1]).attr({fill:Bs(n[3],Os(n[2]).setOpacity(Bs(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)).isArea=!0,o.startX=e.xMap,o.shiftUnit=i.step?2:1})},drawLegendSymbol:Is.LegendSymbolMixin.drawRectangle}),Rs=(Ns=zt).pick,(Ns=Ns.seriesType)("spline","line",{},{getPointSpline:function(t,e,i){var n,s,o,r,a=e.plotX,h=e.plotY,l=t[i-1];if(i=t[i+1],l&&!l.isNull&&!1!==l.doCurve&&!e.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!e.isCliff){t=l.plotY,o=i.plotX;var c=0;s=(1.5*h+t)/2.5,r=(1.5*h+(i=i.plotY))/2.5,(o=(1.5*a+o)/2.5)!==(n=(1.5*a+l.plotX)/2.5)&&(c=(r-s)*(o-a)/(o-n)+h-r),r+=c,t<(s+=c)&&h<s?r=2*h-(s=Math.max(t,h)):s<t&&s<h&&(r=2*h-(s=Math.min(t,h))),i<r&&h<r?s=2*h-(r=Math.max(i,h)):r<i&&r<h&&(s=2*h-(r=Math.min(i,h))),e.rightContX=o,e.rightContY=r}return e=["C",Rs(l.rightContX,l.plotX),Rs(l.rightContY,l.plotY),Rs(n,a),Rs(s,h),a,h],l.rightContX=l.rightContY=null,e}}),Ws=(Gs=zt).seriesTypes.area.prototype,(0,Gs.seriesType)("areaspline","spline",Gs.defaultPlotOptions.area,{getStackPoints:Ws.getStackPoints,getGraphPath:Ws.getGraphPath,drawGraph:Ws.drawGraph,drawLegendSymbol:Gs.LegendSymbolMixin.drawRectangle}),Xs=(Hs=zt).animObject,Fs=Hs.color,_s=Hs.each,Ys=Hs.extend,js=Hs.defined,Vs=Hs.isNumber,Us=Hs.merge,Zs=Hs.pick,Ks=Hs.Series,qs=Hs.seriesType,$s=Hs.svg,qs("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ks.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&_s(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,n=e.xAxis,s=e.yAxis,o=n.options.reversedStacks,r=(o=n.reversed&&!o||!n.reversed&&o,{}),a=0;!1===i.grouping?a=1:_s(e.chart.series,function(i){var n,o=i.options,h=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||s.len!==h.len||s.pos!==h.pos||(o.stacking?(t=i.stackKey,void 0===r[t]&&(r[t]=a++),n=r[t]):!1!==o.grouping&&(n=a++),i.columnIndex=n)});var h=Math.min(Math.abs(n.transA)*(n.ordinalSlope||i.pointRange||n.closestPointRange||n.tickInterval||1),n.len),l=h*i.groupPadding,c=(h-2*l)/(a||1);return i=Math.min(i.maxPointWidth||n.len,Zs(i.pointWidth,c*(1-2*i.pointPadding))),e.columnMetrics={width:i,offset:(c-i)/2+(l+((e.columnIndex||0)+(o?1:0))*c-h/2)*(o?-1:1)},e.columnMetrics},crispCol:function(t,e,i,n){var s=this.chart,o=-((r=this.borderWidth)%2?.5:0),r=r%2?.5:1;return s.inverted&&s.renderer.isVML&&(r+=1),this.options.crisp&&(i=Math.round(t+i)+o,i-=t=Math.round(t)+o),n=Math.round(e+n)+r,o=Math.abs(e)<=.5&&.5<n,n-=e=Math.round(e)+r,o&&n&&(--e,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.dense=t.closestPointRange*t.xAxis.transA<2,s=(n=t.borderWidth=Zs(i.borderWidth,n?0:1),t.yAxis),o=i.threshold,r=t.translatedThreshold=s.getThreshold(o),a=Zs(i.minPointLength,5),h=t.getColumnMetrics(),l=h.width,c=t.barW=Math.max(l,1+2*n),d=t.pointXOffset=h.offset;e.inverted&&(r-=.5),i.pointPadding&&(c=Math.ceil(c)),Ks.prototype.translate.apply(t),_s(t.points,function(i){var n,h=Zs(i.yBottom,r),p=999+Math.abs(h),u=l,g=(p=Math.min(Math.max(-p,i.plotY),s.len+p),i.plotX+d),f=c,m=Math.min(p,h),x=Math.max(p,h)-m;a&&Math.abs(x)<a&&(x=a,n=!s.reversed&&!i.negative||s.reversed&&i.negative,i.y===o&&t.dataMax<=o&&s.min<o&&(n=!n),m=Math.abs(m-r)>a?h-a:r-(n?a:0)),js(i.options.pointWidth)&&(u=f=Math.ceil(i.options.pointWidth),g-=Math.round((u-l)/2)),i.barX=g,i.pointWidth=u,i.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-p,t.xAxis.len-g-f/2,x]:[g+f/2,p+s.pos-e.plotTop,x],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[g,r,f,0]:[g,m,f,x])})},getSymbol:Hs.noop,drawLegendSymbol:Hs.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,n=this.options;i=(h=this.pointAttrToOptions||{}).stroke||"borderColor";var s=h["stroke-width"]||"borderWidth",o=t&&t.color||this.color,r=t&&t[i]||n[i]||this.color||o,a=t&&t[s]||n[s]||this[s]||0,h=n.dashStyle;return t&&this.zones.length&&(o=t.getZone(),o=t.options.color||o&&o.color||this.color),e&&(e=(t=Us(n.states[e],t.options.states&&t.options.states[e]||{})).brightness,o=t.color||void 0!==e&&Fs(o).brighten(t.brightness).get()||o,r=t[i]||r,a=t[s]||a,h=t.dashStyle||h),i={fill:o,stroke:r,"stroke-width":a},h&&(i.dashstyle=h),i},drawPoints:function(){var t,e=this,i=this.chart,n=e.options,s=i.renderer,o=n.animationLimit||250;_s(e.points,function(r){var a=r.graphic,h=a&&i.pointCount<o?"animate":"attr";Vs(r.plotY)&&null!==r.y?(t=r.shapeArgs,a?a[h](Us(t)):r.graphic=a=s[r.shapeType](t).add(r.group||e.group),n.borderRadius&&a.attr({r:n.borderRadius}),a[h](e.pointAttribs(r,r.selected&&"select")).shadow(n.shadow,null,n.stacking&&!n.borderRadius),a.addClass(r.getClassName(),!0)):a&&(r.graphic=a.destroy())})},animate:function(t){var e,i=this,n=this.yAxis,s=i.options,o=this.chart.inverted,r={},a=o?"translateX":"translateY";$s&&(t?(r.scaleY=.001,t=Math.min(n.pos+n.len,Math.max(n.pos,n.toPixels(s.threshold))),o?r.translateX=t-n.len:r.translateY=t,i.group.attr(r)):(e=i.group.attr(a),i.group.animate({scaleY:1},Ys(Xs(i.options.animation),{step:function(t,s){r[a]=e+s.pos*(n.pos-e),i.group.attr(r)}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&_s(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Ks.prototype.remove.apply(t,arguments)}}),(0,zt.seriesType)("bar","column",null,{inverted:!0}),Qs=(Js=zt).Series,(Js=Js.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&Qs.prototype.drawGraph.call(this)}}),eo=(to=zt).deg2rad,io=to.isNumber,no=to.pick,so=to.relativeLength,to.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,n=this.chart,s=2*(i.slicedOffset||0),o=n.plotWidth-2*s,r=(n=n.plotHeight-2*s,i.center),a=(r=[no(r[0],"50%"),no(r[1],"50%"),i.size||"100%",i.innerSize||0],Math.min(o,n));for(t=0;t<4;++t)e=r[t],i=t<2||2===t&&/%$/.test(e),r[t]=so(e,[o,n,a,r[2]][t])+(i?s:0);return r[3]>r[2]&&(r[3]=r[2]),r},getStartAndEndRadians:function(t,e){return t=io(t)?t:0,e=io(e)&&t<e&&e-t<360?e:t+360,{start:eo*(t+-90),end:eo*(e+-90)}}},ro=(oo=zt).addEvent,ao=oo.CenteredSeriesMixin,ho=oo.defined,lo=oo.each,co=oo.extend,po=ao.getStartAndEndRadians,uo=oo.inArray,go=oo.noop,fo=oo.pick,mo=oo.Point,xo=oo.Series,vo=oo.seriesType,yo=oo.setAnimation,vo("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:oo.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(lo(i,function(t){var i=t.graphic,s=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:s.r,start:s.start,end:s.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,s=n.length,o=this.options.ignoreHiddenPoint;for(t=0;t<s;t++)e=n[t],i+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=i,t=0;t<s;t++)(e=n[t]).percentage=0<i&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){xo.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,s,o,r,a=0,h=(g=this.options).slicedOffset,l=h+(g.borderWidth||0),c=po(g.startAngle,g.endAngle),d=this.startAngleRad=c.start,p=(c=(this.endAngleRad=c.end)-d,this.points),u=g.dataLabels.distance,g=g.ignoreHiddenPoint,f=p.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,s){return n=Math.asin(Math.min((e-t[1])/(t[2]/2+s.labelDistance),1)),t[0]+(i?-1:1)*Math.cos(n)*(t[2]/2+s.labelDistance)},o=0;o<f;o++)(r=p[o]).labelDistance=fo(r.options.dataLabels&&r.options.dataLabels.distance,u),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,r.labelDistance),e=d+a*c,g&&!r.visible||(a+=r.percentage/100),i=d+a*c,r.shapeType="arc",r.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},(n=(i+e)/2)>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),r.slicedTranslation={translateX:Math.round(Math.cos(n)*h),translateY:Math.round(Math.sin(n)*h)},i=Math.cos(n)*t[2]/2,s=Math.sin(n)*t[2]/2,r.tooltipPos=[t[0]+.7*i,t[1]+.7*s],r.half=n<-Math.PI/2||n>Math.PI/2?1:0,r.angle=n,e=Math.min(l,r.labelDistance/5),r.labelPos=[t[0]+i+Math.cos(n)*r.labelDistance,t[1]+s+Math.sin(n)*r.labelDistance,t[0]+i+Math.cos(n)*e,t[1]+s+Math.sin(n)*e,t[0]+i,t[1]+s,r.labelDistance<0?"center":r.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,s=this,o=s.chart.renderer,r=s.options.shadow;r&&!s.shadowGroup&&(s.shadowGroup=o.g("shadow").add(s.group)),lo(s.points,function(a){if(e=a.graphic,a.isNull)e&&(a.graphic=e.destroy());else{n=a.shapeArgs,t=a.getTranslate();var h=a.shadowGroup;r&&!h&&(h=a.shadowGroup=o.g("shadow").add(s.shadowGroup)),h&&h.attr(t),i=s.pointAttribs(a,a.selected&&"select"),e?e.setRadialReference(s.center).attr(i).animate(co(n,t)):(a.graphic=e=o[a.shapeType](n).setRadialReference(s.center).attr(t).add(s.group),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(r,h)),e.attr({visibility:a.visible?"inherit":"hidden"}),e.addClass(a.getClassName())}})},searchPoint:go,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:oo.LegendSymbolMixin.drawRectangle,getCenter:ao.getCenter,getSymbol:go},{init:function(){mo.prototype.init.apply(this,arguments);var t,e=this;return e.name=fo(e.name,"Slice"),t=function(t){e.slice("select"===t.type)},ro(e,"select",t),ro(e,"unselect",t),e},isValid:function(){return oo.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var i=this,n=i.series,s=n.chart,o=n.options.ignoreHiddenPoint;e=fo(e,o),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,n.options.data[uo(i,n.data)]=i.options,lo(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&s.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),o&&(n.isDirty=!0),e&&s.redraw())},slice:function(t,e,i){var n=this.series;yo(i,n.chart),fo(e,!0),this.sliced=this.options.sliced=ho(t)?t:!this.sliced,n.options.data[uo(this,n.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}}),ko=(bo=zt).addEvent,wo=bo.arrayMax,So=bo.defined,Mo=bo.each,Ao=bo.extend,To=bo.format,Lo=bo.map,Co=bo.merge,Po=bo.noop,Io=bo.pick,Oo=bo.relativeLength,Do=bo.Series,zo=bo.seriesTypes,Bo=bo.some,Eo=bo.stableSort,No=bo.isArray,Ro=bo.splat,bo.distribute=function(t,e,i){function n(t,e){return t.target-e.target}var s,o,r=!0,a=t,h=[];o=0;var l=a.reducedLen||e;for(s=t.length;s--;)o+=t[s].size;if(l<o){for(Eo(t,function(t,e){return(e.rank||0)-(t.rank||0)}),o=s=0;o<=l;)o+=t[s].size,s++;h=t.splice(s-1,t.length)}for(Eo(t,n),t=Lo(t,function(t){return{size:t.size,targets:[t.target],align:Io(t.align,.5)}});r;){for(s=t.length;s--;)r=t[s],o=(Math.min.apply(0,r.targets)+Math.max.apply(0,r.targets))/2,r.pos=Math.min(Math.max(0,o-r.size*r.align),e-r.size);for(s=t.length,r=!1;s--;)0<s&&t[s-1].pos+t[s-1].size>t[s].pos&&(t[s-1].size+=t[s].size,t[s-1].targets=t[s-1].targets.concat(t[s].targets),t[s-1].align=.5,t[s-1].pos+t[s-1].size>e&&(t[s-1].pos=e-t[s-1].size),t.splice(s,1),r=!0)}a.push.apply(a,h),s=0,Bo(t,function(t){var n=0;if(Bo(t.targets,function(){if(a[s].pos=t.pos+n,Math.abs(a[s].pos-a[s].target)>i)return Mo(a.slice(0,s+1),function(t){delete t.pos}),a.reducedLen=(a.reducedLen||e)-.1*e,a.reducedLen>.1*e&&bo.distribute(a,e,i),!0;n+=a[s].size,s++}))return!0}),Eo(a,n)},Do.prototype.drawDataLabels=function(){function t(t,e){var i,n=[];if(No(t)&&!No(e))n=Lo(t,function(t){return Co(t,e)});else if(No(e)&&!No(t))n=Lo(e,function(e){return Co(t,e)});else if(No(t)||No(e))for(i=Math.max(t.length,e.length);i--;)n[i]=Co(t[i],e[i]);else n=Co(t,e);return n}var e,i,n=this,s=n.chart,o=n.options,r=o.dataLabels,a=n.points,h=n.hasRendered||0,l=Io(r.defer,!!o.animation),c=s.renderer;r=t(t(s.options.plotOptions&&s.options.plotOptions.series&&s.options.plotOptions.series.dataLabels,s.options.plotOptions&&s.options.plotOptions[n.type]&&s.options.plotOptions[n.type].dataLabels),r),(No(r)||r.enabled||n._hasPointLabels)&&(i=n.plotGroup("dataLabelsGroup","data-labels",l&&!h?"hidden":"visible",r.zIndex||6),l&&(i.attr({opacity:+h}),h||ko(n,"afterAnimate",function(){n.visible&&i.show(!0),i[o.animation?"animate":"attr"]({opacity:1},{duration:200})})),Mo(a,function(a){e=Ro(t(r,a.dlOptions||a.options&&a.options.dataLabels)),Mo(e,function(t,e){var r,h,l,d,p=t.enabled&&!a.isNull&&function(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&i<t||"<"===e&&t<i||">="===e&&i<=t||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}(a,t),u=a.dataLabels?a.dataLabels[e]:a.dataLabel,g=a.connectors?a.connectors[e]:a.connector,f=!u;p&&(r=a.getLabelConfig(),h=t[a.formatPrefix+"Format"]||t.format,r=So(h)?To(h,r,s.time):(t[a.formatPrefix+"Formatter"]||t.formatter).call(r,t),h=t.style,l=t.rotation,h.color=Io(t.color,h.color,n.color,"#000000"),"contrast"===h.color&&(a.contrastColor=c.getContrast(a.color||n.color),h.color=t.inside||Io(t.distance,a.labelDistance)<0||o.stacking?a.contrastColor:"#000000"),o.cursor&&(h.cursor=o.cursor),d={fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,r:t.borderRadius||0,rotation:l,padding:t.padding,zIndex:1},bo.objectEach(d,function(t,e){void 0===t&&delete d[e]})),!u||p&&So(r)?p&&So(r)&&(u?d.text=r:(a.dataLabels=a.dataLabels||[],u=a.dataLabels[e]=l?c.text(r,0,-9999).addClass("highcharts-data-label"):c.label(r,0,-9999,t.shape,null,null,t.useHTML,null,"data-label"),e||(a.dataLabel=u),u.addClass(" highcharts-data-label-color-"+a.colorIndex+" "+(t.className||"")+(t.useHTML?" highcharts-tracker":""))),u.options=t,u.attr(d),u.css(h).shadow(t.shadow),u.added||u.add(i),n.alignDataLabel(a,u,t,null,f)):(a.dataLabel=a.dataLabel.destroy(),a.dataLabels&&(1===a.dataLabels.length?delete a.dataLabels:delete a.dataLabels[e]),e||delete a.dataLabel,g&&(a.connector=a.connector.destroy(),a.connectors&&(1===a.connectors.length?delete a.connectors:delete a.connectors[e])))})})),bo.fireEvent(this,"afterDrawDataLabels")},Do.prototype.alignDataLabel=function(t,e,i,n,s){var o,r=this.chart,a=r.inverted,h=Io(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),l=Io(t.plotY,-9999),c=e.getBBox(),d=i.rotation,p=i.align,u=this.visible&&(t.series.forceDL||r.isInsidePlot(h,Math.round(l),a)||n&&r.isInsidePlot(h,a?n.x+1:n.y+n.height-1,a)),g="justify"===Io(i.overflow,"justify");u&&(o=i.style.fontSize,o=r.renderer.fontMetrics(o,e).b,n=Ao({x:a?this.yAxis.len-l:h,y:Math.round(a?this.xAxis.len-h:l),width:0,height:0},n),Ao(i,{width:c.width,height:c.height}),d?(g=!1,h=r.renderer.rotCorr(o,d),h={x:n.x+i.x+n.width/2+h.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[s?"attr":"animate"](h).attr({align:p}),l=180<(l=(d+720)%360)&&l<360,"left"===p?h.y-=l?c.height:0:"center"===p?(h.x-=c.width/2,h.y-=c.height/2):"right"===p&&(h.x-=c.width,h.y-=l?0:c.height),e.placed=!0,e.alignAttr=h):(e.align(i,null,n),h=e.alignAttr),g&&0<=n.height?t.isLabelJustified=this.justifyDataLabel(e,i,h,c,n,s):Io(i.crop,!0)&&(u=r.isInsidePlot(h.x,h.y)&&r.isInsidePlot(h.x+c.width,h.y+c.height)),i.shape&&!d)&&e[s?"attr":"animate"]({anchorX:a?r.plotWidth-t.plotY:t.plotX,anchorY:a?r.plotHeight-t.plotX:t.plotY}),u||(e.attr({y:-9999}),e.placed=!1)},Do.prototype.justifyDataLabel=function(t,e,i,n,s,o){var r,a,h=this.chart,l=e.align,c=e.verticalAlign,d=t.box?0:t.padding||0;return(r=i.x+d)<0&&("right"===l?e.align="left":e.x=-r,a=!0),(r=i.x+n.width-d)>h.plotWidth&&("left"===l?e.align="right":e.x=h.plotWidth-r,a=!0),(r=i.y+d)<0&&("bottom"===c?e.verticalAlign="top":e.y=-r,a=!0),(r=i.y+n.height-d)>h.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=h.plotHeight-r,a=!0),a&&(t.placed=!o,t.align(e,null,s)),a},zo.pie&&(zo.pie.prototype.drawDataLabels=function(){var t,e,i,n,s,o,r,a,h,l,c=this,d=c.data,p=c.chart,u=c.options.dataLabels,g=Io(u.connectorPadding,10),f=Io(u.connectorWidth,1),m=p.plotWidth,x=p.plotHeight,v=Math.round(p.chartWidth/3),y=c.center,b=y[2]/2,k=y[1],w=[[],[]],S=[0,0,0,0];c.visible&&(u.enabled||c._hasPointLabels)&&(Mo(d,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),Do.prototype.drawDataLabels.apply(c),Mo(d,function(t){t.dataLabel&&(t.visible?(w[t.half].push(t),t.dataLabel._pos=null,!So(u.style.width)&&!So(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>v&&(t.dataLabel.css({width:.7*v}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),Mo(w,function(e,d){var f,v,w,M=e.length,A=[];if(M)for(c.sortByAngle(e,d-.5),0<c.maxLabelDistance&&(f=Math.max(0,k-b-c.maxLabelDistance),v=Math.min(k+b+c.maxLabelDistance,p.plotHeight),Mo(e,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,k-b-t.labelDistance),t.bottom=Math.min(k+b+t.labelDistance,p.plotHeight),w=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+w/2,size:w,rank:t.y},A.push(t.distributeBox))}),f=v+w-f,bo.distribute(A,f,f/5)),l=0;l<M;l++)t=e[l],s=t.labelPos,i=t.dataLabel,h=!1===t.visible?"hidden":"inherit",a=f=s[1],A&&So(t.distributeBox)&&(void 0===t.distributeBox.pos?h="hidden":(o=t.distributeBox.size,a=t.top+t.distributeBox.pos)),delete t.positionIndex,r=u.justify?y[0]+(d?-1:1)*(b+t.labelDistance):c.getX(a<t.top+2||a>t.bottom-2?f:a,d,t),i._attr={visibility:h,align:s[6]},i._pos={x:r+u.x+({left:g,right:-g}[s[6]]||0),y:a+u.y-10},s.x=r,s.y=a,Io(u.crop,!0)&&(n=i.getBBox().width,f=null,r-n<g&&1===d?(f=Math.round(n-r+g),S[3]=Math.max(f,S[3])):m-g<r+n&&0===d&&(f=Math.round(r+n-m+g),S[1]=Math.max(f,S[1])),a-o/2<0?S[0]=Math.max(Math.round(o/2-a),S[0]):x<a+o/2&&(S[2]=Math.max(Math.round(a+o/2-x),S[2])),i.sideOverflow=f)}),0===wo(S)||this.verifyDataLabelOverflow(S))&&(this.placeDataLabels(),f&&Mo(this.points,function(t){var n;e=t.connector,(i=t.dataLabel)&&i._pos&&t.visible&&0<t.labelDistance?(h=i._attr.visibility,(n=!e)&&(t.connector=e=p.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(c.dataLabelsGroup),e.attr({"stroke-width":f,stroke:u.connectorColor||t.color||"#666666"})),e[n?"attr":"animate"]({d:c.connectorPath(t.labelPos)}),e.attr("visibility",h)):e&&(t.connector=e.destroy())}))},zo.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return Io(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},zo.pie.prototype.placeDataLabels=function(){Mo(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},zo.pie.prototype.alignDataLabel=Po,zo.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,s=n.center,o=n.minSize||80,r=null!==n.size;return r||(null!==s[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==s[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(Oo(n.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):r=!0),r}),zo.column&&(zo.column.prototype.alignDataLabel=function(t,e,i,n,s){var o=this.chart.inverted,r=t.series,a=t.dlBox||t.shapeArgs,h=Io(t.below,t.plotY>Io(this.translatedThreshold,r.yAxis.len)),l=Io(i.inside,!!this.options.stacking);a&&((n=Co(a)).y<0&&(n.height+=n.y,n.y=0),0<(a=n.y+n.height-r.yAxis.len)&&(n.height-=a),o&&(n={x:r.yAxis.len-n.y-n.height,y:r.xAxis.len-n.x-n.width,width:n.height,height:n.width}),l||(o?(n.x+=h?0:n.width,n.width=0):(n.y+=h?n.height:0,n.height=0))),i.align=Io(i.align,!o||l?"center":h?"right":"left"),i.verticalAlign=Io(i.verticalAlign,o||l?"middle":h?"top":"bottom"),Do.prototype.alignDataLabel.call(this,t,e,i,n,s),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})}),Wo=(Go=zt).Chart,Ho=Go.each,Xo=Go.isArray,Fo=Go.objectEach,_o=Go.pick,(Go=Go.addEvent)(Wo,"render",function(){var t=[];Ho(this.labelCollectors||[],function(e){t=t.concat(e())}),Ho(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&Fo(e.stacks,function(e){Fo(e,function(e){t.push(e.label)})})}),Ho(this.series||[],function(e){var i=e.options.dataLabels;e.visible&&(!1!==i.enabled||e._hasPointLabels)&&Ho(e.points,function(e){if(e.visible){var i=Xo(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[];Ho(i,function(i){var n=i.options;i.labelrank=_o(n.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),n.allowOverlap||t.push(i)})}})}),this.hideOverlappingLabels(t)}),Wo.prototype.hideOverlappingLabels=function(t){var e,i,n,s,o,r,a,h,l,c,d,p,u,g,f=t.length,m=this.renderer;for(n=function(t){var e,i,n,s=t.box?0:t.padding||0;if(n=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(n=t.getBBox(),t.width=n.width,t.height=n.height,n=m.fontMetrics(null,t.element).h),{x:e.x+(i.translateX||0)+s,y:e.y+(i.translateY||0)+s-n,width:t.width-2*s,height:t.height-2*s}},i=0;i<f;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=n(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<f;i++)for(r=(n=t[i])&&n.absoluteBox,e=i+1;e<f;++e)o=(s=t[e])&&s.absoluteBox,r&&o&&n!==s&&0!==n.newOpacity&&0!==s.newOpacity&&(a=r.x,h=r.y,l=r.width,c=r.height,d=o.x,p=o.y,u=o.width,g=o.height,o=!(a+l<d||d+u<a||h+c<p||p+g<h))&&((n.labelrank<s.labelrank?n:s).newOpacity=0);Ho(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:i})),t.isOld=!0)})},Vo=(Yo=zt).addEvent,Uo=Yo.Chart,Zo=Yo.createElement,Ko=Yo.css,qo=Yo.defaultOptions,$o=Yo.defaultPlotOptions,Jo=Yo.each,Qo=Yo.extend,tr=Yo.fireEvent,er=Yo.hasTouch,ir=Yo.inArray,nr=Yo.isObject,sr=Yo.Legend,or=Yo.merge,rr=Yo.pick,ar=Yo.Point,hr=Yo.Series,lr=Yo.seriesTypes,cr=Yo.svg,jo=Yo.TrackerMixin={drawTrackerPoint:function(){function t(t){var e=i.getPointFromEvent(t);void 0!==e&&(i.isDirectTouch=!0,e.onMouseOver(t))}var e=this,i=e.chart.pointer;Jo(e.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),e._hasTracking||(Jo(e.trackerGroups,function(n){e[n]&&(e[n].addClass("highcharts-tracker").on("mouseover",t).on("mouseout",function(t){i.onTrackerMouseOut(t)}),er&&e[n].on("touchstart",t),e.options.cursor&&e[n].css(Ko).css({cursor:e.options.cursor}))}),e._hasTracking=!0),tr(this,"afterDrawTracker")},drawTrackerGraph:function(){function t(){a.hoverSeries!==i&&i.onMouseOver()}var e,i=this,n=i.options,s=n.trackByArea,o=[].concat(s?i.areaPath:i.graphPath),r=o.length,a=i.chart,h=a.pointer,l=a.renderer,c=a.options.tooltip.snap,d=i.tracker,p="rgba(192,192,192,"+(cr?1e-4:.002)+")";if(r&&!s)for(e=r+1;e--;)"M"===o[e]&&o.splice(e+1,0,o[e+1]-c,o[e+2],"L"),(e&&"M"===o[e]||e===r)&&o.splice(e,0,"L",o[e-2]+c,o[e-1]);d?d.attr({d:o}):i.graph&&(i.tracker=l.path(o).attr({"stroke-linejoin":"round",stroke:p,fill:s?p:"none","stroke-width":i.graph.strokeWidth()+(s?0:2*c),visibility:i.visible?"visible":"hidden",zIndex:2}).addClass(s?"highcharts-tracker-area":"highcharts-tracker-line").add(i.group),Jo([i.tracker,i.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",t).on("mouseout",function(t){h.onTrackerMouseOut(t)}),n.cursor&&e.css({cursor:n.cursor}),er&&e.on("touchstart",t)})),tr(this,"afterDrawTracker")}},lr.column&&(lr.column.prototype.drawTracker=jo.drawTrackerPoint),lr.pie&&(lr.pie.prototype.drawTracker=jo.drawTrackerPoint),lr.scatter&&(lr.scatter.prototype.drawTracker=jo.drawTrackerPoint),qo.legend.itemStyle.cursor="pointer",Qo(sr.prototype,{setItemEvents:function(t,e,i){var n=this,s=n.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof ar?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),s.addClass(o),e.css(n.options.itemHoverStyle)}).on("mouseout",function(){e.css(or(t.visible?n.itemStyle:n.itemHiddenStyle)),s.removeClass(o),t.setState()}).on("click",function(e){function i(){t.setVisible&&t.setVisible()}s.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):tr(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=Zo("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Vo(t.checkbox,"click",function(e){tr(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),Qo(Uo.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=qo.lang,n=e.options.chart.resetZoomButton,s=n.theme,o=s.states,r="chart"===n.relativeTo?null:"plotBox";tr(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,s,o&&o.hover).attr({align:n.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,r)})},zoomOut:function(){tr(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,i,n=this.pointer,s=!1;!t||t.resetSelection?(Jo(this.axes,function(t){e=t.zoom()}),n.initiated=!1):Jo(t.xAxis.concat(t.yAxis),function(t){var i=t.axis;n[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=this.resetZoomButton,s&&!i?this.showResetZoom():!s&&nr(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(rr(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,s=n.hoverPoints;s&&Jo(s,function(t){t.setState()}),Jo("xy"===e?[1,0]:[1],function(e){var s,o=(e=n[e?"xAxis":"yAxis"][0]).horiz,r=t[o?"chartX":"chartY"],a=n[o=o?"mouseDownX":"mouseDownY"],h=(e.pointRange||0)/2,l=e.reversed&&!n.inverted||!e.reversed&&n.inverted?-1:1,c=e.getExtremes(),d=e.toValue(a-r,!0)+h*l;a=(s=(l=e.toValue(a+e.len-r,!0)-h*l)<d)?l:d,d=s?d:l,0<(s=(l=Math.min(c.dataMin,h?c.min:e.toValue(e.toPixels(c.min)-e.minPixelPadding)))-a)&&(d+=s,a=l),0<(s=d-(h=Math.max(c.dataMax,h?c.max:e.toValue(e.toPixels(c.max)+e.minPixelPadding))))&&(d=h,a-=s),e.series.length&&a!==c.min&&d!==c.max&&(e.setExtremes(a,d,!1,!1,{trigger:"pan"}),i=!0),n[o]=r}),i&&n.redraw(!1),Ko(n.container,{cursor:"move"})}}),Qo(ar.prototype,{select:function(t,e){var i=this,n=i.series,s=n.chart;t=rr(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[ir(i,n.data)]=i.options,i.setState(t&&"select"),e||Jo(s.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[ir(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),Jo(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=this,e=or(t.series.options.point,t.options).events;t.events=e,Yo.objectEach(e,function(e,i){Vo(t,i,e)}),this.hasImportedEvents=!0}},setState:function(t,e){var i,n=Math.floor(this.plotX),s=this.plotY,o=this.series,r=o.options.states[t||"normal"]||{},a=$o[o.type].marker&&o.options.marker,h=a&&!1===a.enabled,l=a&&a.states&&a.states[t||"normal"]||{},c=!1===l.enabled,d=o.stateMarkerGraphic,p=this.marker||{},u=o.chart,g=o.halo,f=a&&o.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===r.enabled||t&&(c||h&&!1===l.enabled)||t&&p.states&&p.states[t]&&!1===p.states[t].enabled||(f&&(i=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(o.pointAttribs(this,t),rr(u.options.chart.animation,r.animation)),i&&this.graphic.animate(i,rr(u.options.chart.animation,l.animation,a.animation)),d&&d.hide()):(t&&l&&(a=p.symbol||o.symbol,d&&d.currentSymbol!==a&&(d=d.destroy()),d?d[e?"animate":"attr"]({x:i.x,y:i.y}):a&&(o.stateMarkerGraphic=d=u.renderer.symbol(a,i.x,i.y,i.width,i.height).add(o.markerGroup),d.currentSymbol=a),d&&d.attr(o.pointAttribs(this,t))),d&&(d[t&&u.isInsidePlot(n,s,u.inverted)?"show":"hide"](),d.element.point=this)),(n=r.halo)&&n.size?(g||(o.halo=g=u.renderer.path().add((this.graphic||d).parentGroup)),g.show()[e?"animate":"attr"]({d:this.haloPath(n.size)}),g.attr({class:"highcharts-halo highcharts-color-"+rr(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),g.point=this,g.attr(Qo({fill:this.color||o.color,"fill-opacity":n.opacity},n.attributes))):g&&g.point&&g.point.haloPath&&g.animate({d:g.point.haloPath(0)},null,g.hide),this.state=t,tr(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),Qo(hr.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&tr(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&tr(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,n=e.graph,s=i.states,o=i.lineWidth;if(i=0,t=t||"",e.state!==t&&(Jo([e.group,e.markerGroup,e.dataLabelsGroup],function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))}),!s[e.state=t]||!1!==s[t].enabled)&&(t&&(o=s[t].lineWidth||o+(s[t].lineWidthPlus||0)),n&&!n.dashstyle))for(o={"stroke-width":o},n.animate(o,rr(s[t||"normal"]&&s[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+i];)e["zone-graph-"+i].attr(o),i+=1},setVisible:function(t,e){var i,n=this,s=n.chart,o=n.legendItem,r=s.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!a:t)?"show":"hide",Jo(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){n[t]&&n[t][i]()}),s.hoverSeries!==n&&(s.hoverPoint&&s.hoverPoint.series)!==n||n.onMouseOut(),o&&s.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Jo(s.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Jo(n.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(s.isDirtyBox=!0),tr(n,i),!1!==e&&s.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),tr(this,t?"select":"unselect")},drawTracker:jo.drawTrackerGraph}),pr=(dr=zt).Chart,ur=dr.each,gr=dr.inArray,fr=dr.isArray,mr=dr.isObject,xr=dr.pick,vr=dr.splat,pr.prototype.setResponsive=function(t){var e=this.options.responsive,i=[],n=this.currentResponsive;e&&e.rules&&ur(e.rules,function(e){void 0===e._id&&(e._id=dr.uniqueKey()),this.matchResponsiveRule(e,i,t)},this);var s=dr.merge.apply(0,dr.map(i,function(t){return dr.find(e.rules,function(e){return e._id===t}).chartOptions}));(i=i.toString()||void 0)!==(n&&n.ruleIds)&&(n&&this.update(n.undoOptions,t),i?(this.currentResponsive={ruleIds:i,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,t)):this.currentResponsive=void 0)},pr.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=xr(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=xr(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=xr(i.minWidth,0)&&this.chartHeight>=xr(i.minHeight,0)}).call(this)&&e.push(t._id)},pr.prototype.currentOptions=function(t){var e={};return function t(e,i,n,s){var o;dr.objectEach(e,function(e,r){if(!s&&-1<gr(r,["series","xAxis","yAxis"]))for(e=vr(e),n[r]=[],o=0;o<e.length;o++)i[r][o]&&(n[r][o]={},t(e[o],i[r][o],n[r][o],s+1));else mr(e)?(n[r]=fr(e)?[]:{},t(e,i[r]||{},n[r],s+1)):n[r]=i[r]||null})}(t,this.options,e,0),e},zt},t.exports?t.exports=s.document?o(s):o:void 0===(n=function(){return o(s)}.call(e,i,e,t))||(t.exports=n)}}]);