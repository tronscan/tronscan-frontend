(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{3253:function(e,t,a){"use strict";a.r(t);var n=a(33),l=a.n(n),c=a(8),s=a(157),r=a(15),i=a(16),o=a(25),m=a(24),d=a(26),u=a(0),b=a.n(u),p=a(18),E=a(3),h=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).hideModal=function(){a.setState({modal:null})},a.isValid=function(e,t){var a=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e),n=!isNaN(parseInt(t,10))&&t>0;return a&&n},a.stopListening=function(){a.listener&&a.listener.close(),a.setState({active:!1,logs:[]})},a.testNode=function(e){a.listener&&a.listener.close(),a.listener=Object(p.c)("/nodetest-"+e,{query:{ip:e}}),a.listener.on("connect",function(){a.setState({active:!0})}),a.listener.on("node-status",function(e){a.setState(function(t){return{logs:[Object(c.a)({},e,{id:a.id++})].concat(Object(s.a)(t.logs.slice(0,9)))}})})},a.setPort=function(e){var t=l()(e.target.value);""!==t&&(t=parseInt(t,10),t=isNaN(t)?0:t),a.setState({port:t})},a.id=0,a.listener=null,a.state={ip:"",port:50051,active:!1,logs:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){this.listener&&this.listener.close()}},{key:"render",value:function(){var e=this,t=this.state,a=t.ip,n=t.port,l=t.modal,c=t.active,s=t.logs;return b.a.createElement("main",{className:"container header-overlap _tester"},l,b.a.createElement("div",{className:"card"},b.a.createElement("div",{className:"card-body"},b.a.createElement("h5",{className:"card-title text-left"},Object(E.c)("node_tester"),b.a.createElement("span",{className:"_tester_msg"},Object(E.c)("node_tester_msg"))),b.a.createElement("div",{className:"text-left"},b.a.createElement("span",null,"IP")),b.a.createElement("input",{className:"form-control text-left",type:"text",placeholder:"123.123.123.123",value:a,onChange:function(t){return e.setState({ip:t.target.value})}}),b.a.createElement("br",null),b.a.createElement("div",{className:"text-left"},b.a.createElement("span",null,"Port")),b.a.createElement("input",{className:"form-control text-left",type:"text",placeholder:"50051",value:n,onChange:this.setPort}),b.a.createElement("div",{className:"text-left"},c?b.a.createElement("button",{className:"btn",onClick:function(){return e.stopListening()}},Object(E.c)("node_tester_stop")):b.a.createElement("button",{className:"btn",disabled:!this.isValid(a,n),onClick:function(){return e.testNode(a+":"+n)}},Object(E.c)("node_tester_test"))))),c&&0===s.length&&b.a.createElement("div",{className:"card mt-3"},b.a.createElement("table",{className:"table table-hover table-striped bg-white m-0"},b.a.createElement("thead",{className:"thead-dark"},b.a.createElement("tr",{align:"center"},b.a.createElement("th",null,Object(E.c)("connection_node")))),b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("td",{align:"center"},Object(E.c)("loading")))))),s.length>0&&b.a.createElement("div",{className:"card mt-3"},b.a.createElement("table",{className:"table table-hover table-striped bg-white m-0"},b.a.createElement("thead",{className:"thead-dark"},b.a.createElement("tr",null,b.a.createElement("th",null,Object(E.c)("message")),b.a.createElement("th",{style:{width:200}},Object(E.c)("node_tester_rt")))),b.a.createElement("tbody",null,s.map(function(e){return b.a.createElement("tr",{key:e.id},b.a.createElement("td",null,e.msg),b.a.createElement("td",null,e.responseTime," ms"))})))))}}]),t}(u.Component);t.default=h}}]);